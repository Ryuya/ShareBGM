Started GET "/" for 153.136.54.29 at 2019-01-22 12:44:50 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

):
  
activerecord (5.2.0) lib/active_record/migration.rb:579:in `check_pending!'
activerecord (5.2.0) lib/active_record/migration.rb:556:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:22:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ bin/rails:9
  [1m[35m (17.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  â†³ bin/rails:9
  [1m[35m (12.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to DeviseCreateUsers (20180626172812)
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ db/migrate/20180626172812_devise_create_users.rb:5
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  â†³ db/migrate/20180626172812_devise_create_users.rb:39
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  â†³ db/migrate/20180626172812_devise_create_users.rb:40
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180626172812"]]
  â†³ bin/rails:9
  [1m[35m (13.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
Migrating to AddUsernameToUsers (20180626173752)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "username" varchar[0m
  â†³ db/migrate/20180626173752_add_username_to_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180626173752"]]
  â†³ bin/rails:9
  [1m[35m (14.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
Migrating to CreatePlaylists (20180704073137)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "playlists" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "user_id" integer, "description" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, CONSTRAINT "fk_rails_d67ef1eb45"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  â†³ db/migrate/20180704073137_create_playlists.rb:3
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_playlists_on_user_id" ON "playlists" ("user_id")[0m
  â†³ db/migrate/20180704073137_create_playlists.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180704073137"]]
  â†³ bin/rails:9
  [1m[35m (13.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
Migrating to CreateUserPlaylists (20180704073549)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "user_playlists" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "playlist_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, CONSTRAINT "fk_rails_e084a4b45c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_f5c983f2d9"
FOREIGN KEY ("playlist_id")
  REFERENCES "playlists" ("id")
)[0m
  â†³ db/migrate/20180704073549_create_user_playlists.rb:3
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_user_playlists_on_user_id" ON "user_playlists" ("user_id")[0m
  â†³ db/migrate/20180704073549_create_user_playlists.rb:3
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_user_playlists_on_playlist_id" ON "user_playlists" ("playlist_id")[0m
  â†³ db/migrate/20180704073549_create_user_playlists.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180704073549"]]
  â†³ bin/rails:9
  [1m[35m (13.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
Migrating to CreateRooms (20180704080049)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "closed_at" boolean, "playlist_id" integer, "admin_user_id" integer, "description" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, CONSTRAINT "fk_rails_b46b4d969b"
FOREIGN KEY ("playlist_id")
  REFERENCES "playlists" ("id")
)[0m
  â†³ db/migrate/20180704080049_create_rooms.rb:3
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_rooms_on_playlist_id" ON "rooms" ("playlist_id")[0m
  â†³ db/migrate/20180704080049_create_rooms.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180704080049"]]
  â†³ bin/rails:9
  [1m[35m (15.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
Migrating to CreateMovieUrls (20180704081952)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "movie_urls" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "url" varchar, "playlist_id" integer, "title" varchar, "description" varchar, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, CONSTRAINT "fk_rails_d268c505c7"
FOREIGN KEY ("playlist_id")
  REFERENCES "playlists" ("id")
, CONSTRAINT "fk_rails_fd754b3205"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  â†³ db/migrate/20180704081952_create_movie_urls.rb:3
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_movie_urls_on_playlist_id" ON "movie_urls" ("playlist_id")[0m
  â†³ db/migrate/20180704081952_create_movie_urls.rb:3
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_movie_urls_on_user_id" ON "movie_urls" ("user_id")[0m
  â†³ db/migrate/20180704081952_create_movie_urls.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180704081952"]]
  â†³ bin/rails:9
  [1m[35m (12.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
Migrating to AddColumnToMovieUrl (20180917151310)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "movie_urls" ADD "ytid" varchar[0m
  â†³ db/migrate/20180917151310_add_column_to_movie_url.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180917151310"]]
  â†³ bin/rails:9
  [1m[35m (11.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
Migrating to CreateSamples (20181022093226)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "samples" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ db/migrate/20181022093226_create_samples.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181022093226"]]
  â†³ bin/rails:9
  [1m[35m (14.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
Migrating to CreateRoomChatLogs (20181210091407)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "room_chat_logs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "log" varchar, "user_id" integer, "room_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, CONSTRAINT "fk_rails_a857ee6ca6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_593f246db4"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  â†³ db/migrate/20181210091407_create_room_chat_logs.rb:3
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_room_chat_logs_on_user_id" ON "room_chat_logs" ("user_id")[0m
  â†³ db/migrate/20181210091407_create_room_chat_logs.rb:3
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_room_chat_logs_on_room_id" ON "room_chat_logs" ("room_id")[0m
  â†³ db/migrate/20181210091407_create_room_chat_logs.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181210091407"]]
  â†³ bin/rails:9
  [1m[35m (14.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
Migrating to CreateRoomMembers (20181213124039)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "room_members" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "room_id" integer, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, CONSTRAINT "fk_rails_a081ee6881"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_94f958b71d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  â†³ db/migrate/20181213124039_create_room_members.rb:3
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_room_members_on_room_id" ON "room_members" ("room_id")[0m
  â†³ db/migrate/20181213124039_create_room_members.rb:3
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_room_members_on_user_id" ON "room_members" ("user_id")[0m
  â†³ db/migrate/20181213124039_create_room_members.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181213124039"]]
  â†³ bin/rails:9
  [1m[35m (16.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
Migrating to AddColumnsToUsers (20181215175135)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" varchar[0m
  â†³ db/migrate/20181215175135_add_columns_to_users.rb:3
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" varchar[0m
  â†³ db/migrate/20181215175135_add_columns_to_users.rb:4
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "name" varchar[0m
  â†³ db/migrate/20181215175135_add_columns_to_users.rb:5
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "nickname" varchar[0m
  â†³ db/migrate/20181215175135_add_columns_to_users.rb:6
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "location" varchar[0m
  â†³ db/migrate/20181215175135_add_columns_to_users.rb:7
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "image" varchar[0m
  â†³ db/migrate/20181215175135_add_columns_to_users.rb:8
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181215175135"]]
  â†³ bin/rails:9
  [1m[35m (13.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-01-22 12:45:45.628009"], ["updated_at", "2019-01-22 12:45:45.628009"]]
  â†³ bin/rails:9
  [1m[35m (14.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Started GET "/" for 153.136.54.29 at 2019-01-22 12:46:08 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 401 Unauthorized in 12ms (ActiveRecord: 1.4ms)


Started GET "/users/sign_in" for 153.136.54.29 at 2019-01-22 12:46:09 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (14.1ms)
Completed 200 OK in 1508ms (Views: 1489.7ms | ActiveRecord: 0.0ms)


Started GET "/cable" for 153.136.54.29 at 2019-01-22 12:46:20 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 12:46:20 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
Started GET "/users/auth/twitter" for 153.136.54.29 at 2019-01-22 12:46:22 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 12:46:24 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:14:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/users/auth/twitter/callback?oauth_token=1FCWngAAAAAA4C82AAABaHWY7RM&oauth_verifier=0iLlDMhr5oCI3p3LpYPuNwHOOeSxv14m" for 153.136.54.29 at 2019-01-22 12:46:27 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Users::OmniauthCallbacksController#twitter as HTML
  Parameters: {"oauth_token"=>"1FCWngAAAAAA4C82AAABaHWY7RM", "oauth_verifier"=>"0iLlDMhr5oCI3p3LpYPuNwHOOeSxv14m"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = ? AND "users"."provider" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["uid", "851493576366145536"], ["provider", "twitter"], ["LIMIT", 1]]
  â†³ app/models/user.rb:14
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:17
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "851493576366145536-twitter@example.com"], ["LIMIT", 1]]
  â†³ app/models/user.rb:17
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "uid", "provider", "name", "nickname", "location", "image") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "851493576366145536-twitter@example.com"], ["encrypted_password", "$2a$11$OOKAKWhg5gRmp4Es7wX33uqH6dyo0/kD39PaJ9AaZerdR5yMnkO1."], ["created_at", "2019-01-22 12:46:28.663028"], ["updated_at", "2019-01-22 12:46:28.663028"], ["uid", "851493576366145536"], ["provider", "twitter"], ["name", "ã»ã’ã—"], ["nickname", "apdkop5430"], ["location", "é¹¿å…å³¶çœŒ"], ["image", "http://pbs.twimg.com/profile_images/1053528875316076544/JedQ955j_normal.jpg"]]
  â†³ app/models/user.rb:17
  [1m[35m (13.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:17
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users/omniauth_callbacks_controller.rb:17
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", "2019-01-22 12:46:28.682644"], ["last_sign_in_at", "2019-01-22 12:46:28.682644"], ["current_sign_in_ip", "153.136.54.29"], ["last_sign_in_ip", "153.136.54.29"], ["updated_at", "2019-01-22 12:46:28.683904"], ["id", 1]]
  â†³ app/controllers/users/omniauth_callbacks_controller.rb:17
  [1m[35m (10.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users/omniauth_callbacks_controller.rb:17
Redirected to https://sharebgm-higashi-c9-16.c9users.io/
Completed 302 Found in 193ms (ActiveRecord: 26.8ms)


Started GET "/" for 153.136.54.29 at 2019-01-22 12:46:29 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:12
  Rendered rooms/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 77ms (Views: 72.3ms | ActiveRecord: 0.8ms)


Started GET "/cable" for 153.136.54.29 at 2019-01-22 12:46:31 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 12:46:31 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
Started DELETE "/users/sign_out" for 153.136.54.29 at 2019-01-22 12:46:33 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"X9hopG+NFdxeA+HiZoKip152v4k6qJDAMYy0N74MZG4WLGzLVzy9tjf/fLuaBXkg1+3RcxSA/O3hg5JYS01JTw=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to https://sharebgm-higashi-c9-16.c9users.io/
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)


Started GET "/" for 153.136.54.29 at 2019-01-22 12:46:33 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by RoomsController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 153.136.54.29 at 2019-01-22 12:46:34 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (4.5ms)
Completed 200 OK in 63ms (Views: 62.2ms | ActiveRecord: 0.0ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 12:46:34 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:14:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 12:46:36 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 12:46:36 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
Started GET "/users/auth/twitter" for 153.136.54.29 at 2019-01-22 12:46:38 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 12:46:40 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:14:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/users/auth/twitter/callback?oauth_token=k5VfaQAAAAAA4C82AAABaHWZK-I&oauth_verifier=8R6XwmpBY9dRxKOK3sM7Mke9R2NJoIqR" for 153.136.54.29 at 2019-01-22 12:46:41 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Users::OmniauthCallbacksController#twitter as HTML
  Parameters: {"oauth_token"=>"k5VfaQAAAAAA4C82AAABaHWZK-I", "oauth_verifier"=>"8R6XwmpBY9dRxKOK3sM7Mke9R2NJoIqR"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = ? AND "users"."provider" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["uid", "851493576366145536"], ["provider", "twitter"], ["LIMIT", 1]]
  â†³ app/models/user.rb:14
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users/omniauth_callbacks_controller.rb:17
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2019-01-22 12:46:42.485372"], ["sign_in_count", 2], ["updated_at", "2019-01-22 12:46:42.486453"], ["id", 1]]
  â†³ app/controllers/users/omniauth_callbacks_controller.rb:17
  [1m[35m (17.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users/omniauth_callbacks_controller.rb:17
Redirected to https://sharebgm-higashi-c9-16.c9users.io/
Completed 302 Found in 27ms (ActiveRecord: 18.2ms)


Started GET "/" for 153.136.54.29 at 2019-01-22 12:46:42 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:12
  Rendered rooms/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 60ms (Views: 56.5ms | ActiveRecord: 0.6ms)


Started GET "/cable" for 153.136.54.29 at 2019-01-22 12:46:44 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 12:46:44 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/playlists/new" for 153.136.54.29 at 2019-01-22 12:46:45 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:7
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
  Rendering playlists/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.6ms)
RoomChannel#join
  Rendered playlists/_form.html.erb (9.8ms)
[ActionCable] Broadcasting to room:: {:subscribed=>true}
  Rendered playlists/new.html.erb within layouts/application (12.2ms)
Completed 200 OK in 132ms (Views: 83.2ms | ActiveRecord: 2.2ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 12:46:45 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:14:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 12:46:48 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 12:46:48 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
Started POST "/playlists" for 153.136.54.29 at 2019-01-22 12:47:19 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"psTyoAxkk41PX+6OoWUr/p1BV9qs5il839da3MIkF2L4Pbe/V8eUR/UYAH22+F3/NPGujWlpl1b8lE6yugdkTQ==", "playlist"=>{"name"=>"aaa", "description"=>"aaa", "movie_urls_attributes"=>{"0"=>{"url"=>"https://www.youtube.com/watch?v=CBSyOdVOJ2k&start_radio=1&list=RDCBSyOdVOJ2k", "title"=>"aaa", "description"=>"aaa"}, "1"=>{"url"=>"https://www.youtube.com/watch?v=CBSyOdVOJ2k&start_radio=1&list=RDCBSyOdVOJ2k", "title"=>"aaa", "description"=>"aaa"}, "2"=>{"url"=>"https://www.youtube.com/watch?v=CBSyOdVOJ2k&start_radio=1&list=RDCBSyOdVOJ2k", "title"=>"aaaa", "description"=>"aaa"}}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mPlaylist Create (0.4ms)[0m  [1m[32mINSERT INTO "playlists" ("name", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "aaa"], ["user_id", 1], ["description", "aaa"], ["created_at", "2019-01-22 12:47:19.872204"], ["updated_at", "2019-01-22 12:47:19.872204"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mMovieUrl Create (0.5ms)[0m  [1m[32mINSERT INTO "movie_urls" ("url", "playlist_id", "title", "description", "user_id", "created_at", "updated_at", "ytid") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["url", "https://www.youtube.com/watch?v=CBSyOdVOJ2k&start_radio=1&list=RDCBSyOdVOJ2k"], ["playlist_id", 1], ["title", "[\"ä¸æ¯›ï¼ã€€ã†ãŸã£ãŸã€SymaGã€‘\"]"], ["description", "aaa"], ["user_id", 1], ["created_at", "2019-01-22 12:47:20.920972"], ["updated_at", "2019-01-22 12:47:20.920972"], ["ytid", "CBSyOdVOJ2k"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mMovieUrl Create (0.3ms)[0m  [1m[32mINSERT INTO "movie_urls" ("url", "playlist_id", "title", "description", "user_id", "created_at", "updated_at", "ytid") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["url", "https://www.youtube.com/watch?v=CBSyOdVOJ2k&start_radio=1&list=RDCBSyOdVOJ2k"], ["playlist_id", 1], ["title", "[\"ä¸æ¯›ï¼ã€€ã†ãŸã£ãŸã€SymaGã€‘\"]"], ["description", "aaa"], ["user_id", 1], ["created_at", "2019-01-22 12:47:21.159476"], ["updated_at", "2019-01-22 12:47:21.159476"], ["ytid", "CBSyOdVOJ2k"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mMovieUrl Create (0.3ms)[0m  [1m[32mINSERT INTO "movie_urls" ("url", "playlist_id", "title", "description", "user_id", "created_at", "updated_at", "ytid") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["url", "https://www.youtube.com/watch?v=CBSyOdVOJ2k&start_radio=1&list=RDCBSyOdVOJ2k"], ["playlist_id", 1], ["title", "[\"ä¸æ¯›ï¼ã€€ã†ãŸã£ãŸã€SymaGã€‘\"]"], ["description", "aaa"], ["user_id", 1], ["created_at", "2019-01-22 12:47:21.343330"], ["updated_at", "2019-01-22 12:47:21.343330"], ["ytid", "CBSyOdVOJ2k"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[35m (13.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/playlists_controller.rb:26
[ActiveJob] Enqueued MovieUrlBroadcastJob (Job ID: 977044be-240d-4be1-9bcf-54751fe3ffb5) to Async(default) with arguments: #<GlobalID:0x007f31e8fd2e08 @uri=#<URI::GID gid://sharebgm/MovieUrl/1>>
  [1m[36mMovieUrl Load (0.3ms)[0m  [1m[34mSELECT  "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued MovieUrlBroadcastJob (Job ID: 6368cbb6-c3a5-4892-9708-1de58cd6a595) to Async(default) with arguments: #<GlobalID:0x007f31e8fafe80 @uri=#<URI::GID gid://sharebgm/MovieUrl/2>>
  [1m[36mMovieUrl Load (0.2ms)[0m  [1m[34mSELECT  "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[ActiveJob] Enqueued MovieUrlBroadcastJob (Job ID: 57b1b7bc-c75d-4437-ac23-a338399d9fd3) to Async(default) with arguments: #<GlobalID:0x007f31e8f97718 @uri=#<URI::GID gid://sharebgm/MovieUrl/3>>
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mMovieUrl Load (0.2ms)[0m  [1m[34mSELECT  "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [977044be-240d-4be1-9bcf-54751fe3ffb5] Performing MovieUrlBroadcastJob (Job ID: 977044be-240d-4be1-9bcf-54751fe3ffb5) from Async(default) with arguments: #<GlobalID:0x007f31e8f7d9a8 @uri=#<URI::GID gid://sharebgm/MovieUrl/1>>
Redirected to https://sharebgm-higashi-c9-16.c9users.io/playlists
[ActiveJob] [MovieUrlBroadcastJob] [6368cbb6-c3a5-4892-9708-1de58cd6a595] Performing MovieUrlBroadcastJob (Job ID: 6368cbb6-c3a5-4892-9708-1de58cd6a595) from Async(default) with arguments: #<GlobalID:0x007f31e8f722b0 @uri=#<URI::GID gid://sharebgm/MovieUrl/2>>
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[ActiveJob] [MovieUrlBroadcastJob] [977044be-240d-4be1-9bcf-54751fe3ffb5]   [1m[36mPlaylist Load (0.3ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 302 Found in 1537ms (ActiveRecord: 15.6ms)


[ActiveJob] [MovieUrlBroadcastJob] [57b1b7bc-c75d-4437-ac23-a338399d9fd3] Performing MovieUrlBroadcastJob (Job ID: 57b1b7bc-c75d-4437-ac23-a338399d9fd3) from Async(default) with arguments: #<GlobalID:0x007f31e8f58a90 @uri=#<URI::GID gid://sharebgm/MovieUrl/3>>
[ActiveJob] [MovieUrlBroadcastJob] [6368cbb6-c3a5-4892-9708-1de58cd6a595]   [1m[36mPlaylist Load (0.3ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [977044be-240d-4be1-9bcf-54751fe3ffb5]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [57b1b7bc-c75d-4437-ac23-a338399d9fd3]   [1m[36mPlaylist Load (0.3ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [6368cbb6-c3a5-4892-9708-1de58cd6a595]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [977044be-240d-4be1-9bcf-54751fe3ffb5]   [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."playlist_id" = ? LIMIT ?[0m  [["playlist_id", 1], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [57b1b7bc-c75d-4437-ac23-a338399d9fd3]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [6368cbb6-c3a5-4892-9708-1de58cd6a595]   [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."playlist_id" = ? LIMIT ?[0m  [["playlist_id", 1], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [977044be-240d-4be1-9bcf-54751fe3ffb5]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [57b1b7bc-c75d-4437-ac23-a338399d9fd3]   [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."playlist_id" = ? LIMIT ?[0m  [["playlist_id", 1], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [6368cbb6-c3a5-4892-9708-1de58cd6a595]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [57b1b7bc-c75d-4437-ac23-a338399d9fd3]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [977044be-240d-4be1-9bcf-54751fe3ffb5]   Rendered movie_urls/_movie_url.html.erb (0.9ms)
[ActiveJob] [MovieUrlBroadcastJob] [6368cbb6-c3a5-4892-9708-1de58cd6a595]   Rendered movie_urls/_movie_url.html.erb (0.2ms)
[ActiveJob] [MovieUrlBroadcastJob] [977044be-240d-4be1-9bcf-54751fe3ffb5] [ActionCable] Broadcasting to room:: {:movie_url=>"<li class=\"item\" data-movie_id=\"CBSyOdVOJ2k\">\n  <div class=\"multiline-text\">[&quot;ä¸æ¯›ï¼ã€€ã†ãŸã£ãŸã€SymaGã€‘&quot;]\n  </div>\n  <img src=\"https://i.ytimg.com/vi/CBSyOdVOJ2k/default.jpg\" />\n</li>"}
[ActiveJob] [MovieUrlBroadcastJob] [57b1b7bc-c75d-4437-ac23-a338399d9fd3]   Rendered movie_urls/_movie_url.html.erb (0.2ms)
[ActiveJob] [MovieUrlBroadcastJob] [6368cbb6-c3a5-4892-9708-1de58cd6a595] [ActionCable] Broadcasting to room:: {:movie_url=>"<li class=\"item\" data-movie_id=\"CBSyOdVOJ2k\">\n  <div class=\"multiline-text\">[&quot;ä¸æ¯›ï¼ã€€ã†ãŸã£ãŸã€SymaGã€‘&quot;]\n  </div>\n  <img src=\"https://i.ytimg.com/vi/CBSyOdVOJ2k/default.jpg\" />\n</li>"}
[ActiveJob] [MovieUrlBroadcastJob] [977044be-240d-4be1-9bcf-54751fe3ffb5] Performed MovieUrlBroadcastJob (Job ID: 977044be-240d-4be1-9bcf-54751fe3ffb5) from Async(default) in 46.14ms
[ActiveJob] [MovieUrlBroadcastJob] [57b1b7bc-c75d-4437-ac23-a338399d9fd3] [ActionCable] Broadcasting to room:: {:movie_url=>"<li class=\"item\" data-movie_id=\"CBSyOdVOJ2k\">\n  <div class=\"multiline-text\">[&quot;ä¸æ¯›ï¼ã€€ã†ãŸã£ãŸã€SymaGã€‘&quot;]\n  </div>\n  <img src=\"https://i.ytimg.com/vi/CBSyOdVOJ2k/default.jpg\" />\n</li>"}
[ActiveJob] [MovieUrlBroadcastJob] [6368cbb6-c3a5-4892-9708-1de58cd6a595] Performed MovieUrlBroadcastJob (Job ID: 6368cbb6-c3a5-4892-9708-1de58cd6a595) from Async(default) in 43.53ms
[ActiveJob] [MovieUrlBroadcastJob] [57b1b7bc-c75d-4437-ac23-a338399d9fd3] Performed MovieUrlBroadcastJob (Job ID: 57b1b7bc-c75d-4437-ac23-a338399d9fd3) from Async(default) in 39.75ms
Started GET "/playlists" for 153.136.54.29 at 2019-01-22 12:47:22 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:3
  Rendering playlists/index.html.erb within layouts/application
  [1m[36mPlaylist Load (0.3ms)[0m  [1m[34mSELECT "playlists".* FROM "playlists" WHERE "playlists"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/playlists/index.html.erb:7
  Rendered playlists/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 59ms (Views: 54.8ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 12:47:22 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:14:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 12:47:24 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 12:47:24 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
Started GET "/" for 153.136.54.29 at 2019-01-22 12:47:25 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:12
  Rendered rooms/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 87ms (Views: 83.4ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 12:47:25 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:14:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/rooms/new" for 153.136.54.29 at 2019-01-22 12:47:26 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by RoomsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mPlaylist Load (0.2ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:89
  Rendering rooms/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.5ms)
  [1m[36mPlaylist Load (0.3ms)[0m  [1m[34mSELECT "playlists".* FROM "playlists" WHERE "playlists"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/rooms/new.html.erb:14
  Rendered rooms/new.html.erb within layouts/application (5.9ms)
Completed 200 OK in 74ms (Views: 62.2ms | ActiveRecord: 1.0ms)


Started GET "/cable" for 153.136.54.29 at 2019-01-22 12:47:27 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 12:47:27 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 12:47:27 +0000
Started GET "/cable" for 153.136.54.29 at 2019-01-22 12:47:28 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 12:47:28 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
Started POST "/rooms" for 153.136.54.29 at 2019-01-22 12:47:32 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by RoomsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"pvvX2ECqQ14nv+GKBdlqTGkPeZbsE0lkE9SHjKm7mzr4ApLHGwlElJ34D3kSRBxNwL+AwSmc904wl5Pi0ZjoFQ==", "room"=>{"name"=>"aaa", "description"=>"aaa", "playlist_id"=>"1"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/rooms_controller.rb:97
  [1m[36mPlaylist Load (0.2ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:97
  [1m[36mRoom Create (0.4ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "playlist_id", "admin_user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "aaa"], ["playlist_id", 1], ["admin_user_id", 1], ["description", "aaa"], ["created_at", "2019-01-22 12:47:32.784795"], ["updated_at", "2019-01-22 12:47:32.784795"]]
  â†³ app/controllers/rooms_controller.rb:97
  [1m[35m (11.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/rooms_controller.rb:97
Redirected to https://sharebgm-higashi-c9-16.c9users.io/rooms
Completed 302 Found in 25ms (ActiveRecord: 12.9ms)


Started GET "/rooms" for 153.136.54.29 at 2019-01-22 12:47:33 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:12
  Rendered rooms/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 63ms (Views: 59.4ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 12:47:33 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:14:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 12:47:34 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 12:47:34 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/rooms/1" for 153.136.54.29 at 2019-01-22 12:47:35 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[36mRoomChatLog Load (0.2ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:10
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.2ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 1]]
  â†³ app/views/rooms/show.html.erb:22
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered rooms/show.html.erb within layouts/application (19.4ms)
Completed 200 OK in 84ms (Views: 71.3ms | ActiveRecord: 2.0ms)


Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 12:47:35 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:14:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 12:47:36 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 12:47:36 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:8
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:8
  [1m[36mRoomMember Create (0.6ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 1], ["created_at", "2019-01-22 12:47:36.640732"], ["updated_at", "2019-01-22 12:47:36.640732"]]
  â†³ app/channels/room_channel.rb:8
  [1m[35m (12.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:8
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:9
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>1}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>1} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#sync({"time"=>0, "id"=>"CBSyOdVOJ2k", "room_id"=>1})
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:23
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:time=>0, :id=>"CBSyOdVOJ2k"}
RoomChannel transmitting {"time"=>0, "id"=>"CBSyOdVOJ2k"} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/" for 153.136.54.29 at 2019-01-22 12:51:28 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:12
  Rendered rooms/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 66ms (Views: 61.6ms | ActiveRecord: 0.8ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 12:51:28 +0000
  [1m[36mRoomMember Load (0.5ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:14
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:14
  [1m[36mRoomMember Destroy (0.4ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 1]]
  â†³ app/channels/room_channel.rb:14
  [1m[35m (13.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:14
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:16
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>0}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>0} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 153.136.54.29 at 2019-01-22 12:51:30 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 12:51:30 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started GET "/cable" for 153.136.54.29 at 2019-01-22 13:26:14 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:26:14 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [SyntaxError - /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:61: syntax error, unexpected keyword_end, expecting end-of-input]: /usr/local/rvm/gems/ruby-2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load' | /usr/local/rvm/gems/ruby-2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load' | /usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:468:in `block in load_file' | /usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:653:in `new_constants_in' | /usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:467:in `load_file'
Started GET "/" for 153.136.54.29 at 2019-01-22 13:26:14 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:12
  Rendered rooms/index.html.erb within layouts/application (12.7ms)
Completed 200 OK in 401ms (Views: 370.6ms | ActiveRecord: 2.4ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:26:15 +0000
Started GET "/cable" for 153.136.54.29 at 2019-01-22 13:26:16 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:26:16 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [SyntaxError - /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:61: syntax error, unexpected keyword_end, expecting end-of-input]: /usr/local/rvm/gems/ruby-2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load' | /usr/local/rvm/gems/ruby-2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load' | /usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:468:in `block in load_file' | /usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:653:in `new_constants_in' | /usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:467:in `load_file'
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"RoomChannel\"}", "data"=>"{\"action\":\"join\"}"}) [RuntimeError - Unable to find subscription with identifier: {"channel":"RoomChannel"}]: /usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:78:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:55:in `perform_action' | /usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:19:in `execute_command' | /usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:87:in `dispatch_websocket_message' | /usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
Started GET "/playlists/new" for 153.136.54.29 at 2019-01-22 13:26:18 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:7
  Rendering playlists/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered playlists/_form.html.erb (9.2ms)
  Rendered playlists/new.html.erb within layouts/application (11.1ms)
Completed 200 OK in 108ms (Views: 73.3ms | ActiveRecord: 1.6ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:26:18 +0000
Started GET "/cable" for 153.136.54.29 at 2019-01-22 13:26:19 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:26:19 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [SyntaxError - /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:61: syntax error, unexpected keyword_end, expecting end-of-input]: /usr/local/rvm/gems/ruby-2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load' | /usr/local/rvm/gems/ruby-2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load' | /usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:468:in `block in load_file' | /usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:653:in `new_constants_in' | /usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:467:in `load_file'
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"RoomChannel\"}", "data"=>"{\"action\":\"join\"}"}) [RuntimeError - Unable to find subscription with identifier: {"channel":"RoomChannel"}]: /usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:78:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:55:in `perform_action' | /usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:19:in `execute_command' | /usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:87:in `dispatch_websocket_message' | /usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
Started POST "/playlists" for 153.136.54.29 at 2019-01-22 13:26:31 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"q8MX71xKhAHxYeMHaSGdbXBcXTqt++9OO+NVafCvhYf1OlLwB+mDy0smDfR+vOts2eykbWh0UWQYoEEHiIz2qA==", "playlist"=>{"name"=>"aa", "description"=>"aaa", "movie_urls_attributes"=>{"0"=>{"url"=>"https://www.youtube.com/watch?v=4D_DR-q0xEg&start_radio=1&list=RD4D_DR-q0xEg", "title"=>"aaa", "description"=>"aaa"}, "1"=>{"url"=>"", "title"=>"", "description"=>""}, "2"=>{"url"=>"", "title"=>"", "description"=>""}}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mPlaylist Create (0.4ms)[0m  [1m[32mINSERT INTO "playlists" ("name", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "aa"], ["user_id", 1], ["description", "aaa"], ["created_at", "2019-01-22 13:26:32.008305"], ["updated_at", "2019-01-22 13:26:32.008305"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mMovieUrl Create (0.4ms)[0m  [1m[32mINSERT INTO "movie_urls" ("url", "playlist_id", "title", "description", "user_id", "created_at", "updated_at", "ytid") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["url", "https://www.youtube.com/watch?v=4D_DR-q0xEg&start_radio=1&list=RD4D_DR-q0xEg"], ["playlist_id", 2], ["title", "[\"ã‚¸ãƒ£ã‚¹ãƒ†ã‚£ãƒ•ã‚¡ã‚¤ãƒ‰ã‚¸ã‚§ãƒŽã‚µã‚¤ãƒ‰ã€€ã†ãŸã£ãŸã€SymaGã€‘\"]"], ["description", "aaa"], ["user_id", 1], ["created_at", "2019-01-22 13:26:32.837600"], ["updated_at", "2019-01-22 13:26:32.837600"], ["ytid", "4D_DR-q0xEg"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[35m (13.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/playlists_controller.rb:26
[ActiveJob] Enqueued MovieUrlBroadcastJob (Job ID: 52f199ca-81cd-4272-bbbb-a32fc88de4db) to Async(default) with arguments: #<GlobalID:0x007f707cbb4f60 @uri=#<URI::GID gid://sharebgm/MovieUrl/4>>
  [1m[36mMovieUrl Load (0.2ms)[0m  [1m[34mSELECT  "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Redirected to https://sharebgm-higashi-c9-16.c9users.io/playlists
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 302 Found in 874ms (ActiveRecord: 14.7ms)


[ActiveJob] [MovieUrlBroadcastJob] [52f199ca-81cd-4272-bbbb-a32fc88de4db] Performing MovieUrlBroadcastJob (Job ID: 52f199ca-81cd-4272-bbbb-a32fc88de4db) from Async(default) with arguments: #<GlobalID:0x007f702c03f7e8 @uri=#<URI::GID gid://sharebgm/MovieUrl/4>>
[ActiveJob] [MovieUrlBroadcastJob] [52f199ca-81cd-4272-bbbb-a32fc88de4db] Error performing MovieUrlBroadcastJob (Job ID: 52f199ca-81cd-4272-bbbb-a32fc88de4db) from Async(default) in 4.11ms: SyntaxError (/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:61: syntax error, unexpected keyword_end, expecting end-of-input):
/usr/local/rvm/gems/ruby-2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load'
/usr/local/rvm/gems/ruby-2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:468:in `block in load_file'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:653:in `new_constants_in'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:467:in `load_file'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:365:in `block in require_or_load'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:37:in `block in load_interlock'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies/interlock.rb:14:in `block in loading'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/concurrency/share_lock.rb:151:in `exclusive'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies/interlock.rb:13:in `loading'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:37:in `load_interlock'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:348:in `require_or_load'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:502:in `load_missing_constant'
/usr/local/rvm/gems/ruby-2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/active_support.rb:43:in `load_missing_constant'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:193:in `const_missing'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:534:in `load_missing_constant'
/usr/local/rvm/gems/ruby-2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/active_support.rb:43:in `load_missing_constant'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:193:in `const_missing'
/home/ubuntu/workspace/sharebgm/app/jobs/movie_url_broadcast_job.rb:8:in `perform'
/usr/local/rvm/gems/ruby-2.4.0/gems/activejob-5.2.0/lib/active_job/execution.rb:39:in `block in perform_now'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/i18n-1.0.1/lib/i18n.rb:284:in `with_locale'
/usr/local/rvm/gems/ruby-2.4.0/gems/activejob-5.2.0/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activejob-5.2.0/lib/active_job/logging.rb:26:in `block (4 levels) in <module:Logging>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/notifications.rb:168:in `block in instrument'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/notifications/instrumenter.rb:23:in `instrument'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/notifications.rb:168:in `instrument'
/usr/local/rvm/gems/ruby-2.4.0/gems/activejob-5.2.0/lib/active_job/logging.rb:25:in `block (3 levels) in <module:Logging>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activejob-5.2.0/lib/active_job/logging.rb:46:in `block in tag_logger'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activejob-5.2.0/lib/active_job/logging.rb:46:in `tag_logger'
/usr/local/rvm/gems/ruby-2.4.0/gems/activejob-5.2.0/lib/active_job/logging.rb:22:in `block (2 levels) in <module:Logging>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activejob-5.2.0/lib/active_job/execution.rb:35:in `perform_now'
/usr/local/rvm/gems/ruby-2.4.0/gems/activejob-5.2.0/lib/active_job/execution.rb:24:in `block in execute'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activejob-5.2.0/lib/active_job/railtie.rb:28:in `block (4 levels) in <class:Railtie>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/reloader.rb:73:in `block in wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/reloader.rb:72:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/activejob-5.2.0/lib/active_job/railtie.rb:27:in `block (3 levels) in <class:Railtie>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activejob-5.2.0/lib/active_job/execution.rb:22:in `execute'
/usr/local/rvm/gems/ruby-2.4.0/gems/activejob-5.2.0/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/playlists" for 153.136.54.29 at 2019-01-22 13:26:33 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:3
  Rendering playlists/index.html.erb within layouts/application
  [1m[36mPlaylist Load (0.4ms)[0m  [1m[34mSELECT "playlists".* FROM "playlists" WHERE "playlists"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/playlists/index.html.erb:7
  Rendered playlists/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 80ms (Views: 75.5ms | ActiveRecord: 0.7ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:26:33 +0000
Started GET "/cable" for 153.136.54.29 at 2019-01-22 13:26:35 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:26:35 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [SyntaxError - /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:61: syntax error, unexpected keyword_end, expecting end-of-input]: /usr/local/rvm/gems/ruby-2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load' | /usr/local/rvm/gems/ruby-2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load' | /usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:468:in `block in load_file' | /usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:653:in `new_constants_in' | /usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:467:in `load_file'
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"RoomChannel\"}", "data"=>"{\"action\":\"join\"}"}) [RuntimeError - Unable to find subscription with identifier: {"channel":"RoomChannel"}]: /usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:78:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:55:in `perform_action' | /usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:19:in `execute_command' | /usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:87:in `dispatch_websocket_message' | /usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 13:30:52 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:30:52 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [SyntaxError - /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:62: syntax error, unexpected keyword_end, expecting end-of-input]: /usr/local/rvm/gems/ruby-2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load' | /usr/local/rvm/gems/ruby-2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load' | /usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:468:in `block in load_file' | /usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:653:in `new_constants_in' | /usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:467:in `load_file'
Started GET "/playlists/new" for 153.136.54.29 at 2019-01-22 13:30:54 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:7
  Rendering playlists/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered playlists/_form.html.erb (7.7ms)
  Rendered playlists/new.html.erb within layouts/application (9.6ms)
Completed 200 OK in 403ms (Views: 352.8ms | ActiveRecord: 2.6ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:30:54 +0000
Started GET "/cable" for 153.136.54.29 at 2019-01-22 13:30:56 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:30:56 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [SyntaxError - /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:62: syntax error, unexpected keyword_end, expecting end-of-input]: /usr/local/rvm/gems/ruby-2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load' | /usr/local/rvm/gems/ruby-2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load' | /usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:468:in `block in load_file' | /usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:653:in `new_constants_in' | /usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:467:in `load_file'
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"RoomChannel\"}", "data"=>"{\"action\":\"join\"}"}) [RuntimeError - Unable to find subscription with identifier: {"channel":"RoomChannel"}]: /usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:78:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:55:in `perform_action' | /usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:19:in `execute_command' | /usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:87:in `dispatch_websocket_message' | /usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
Started POST "/playlists" for 153.136.54.29 at 2019-01-22 13:31:11 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"NhWXf7aLXga0Ocb4Z8ZFRS3woXE1SlFxDGZQExZz2dto7NJg7ShZzA5+KAtwWzNEhEBYJvDF71svJUR9blCq9A==", "playlist"=>{"name"=>"aaa", "description"=>"aaa", "movie_urls_attributes"=>{"0"=>{"url"=>"https://www.youtube.com/watch?v=4D_DR-q0xEg&start_radio=1&list=RD4D_DR-q0xEg", "title"=>"aaa", "description"=>"aaaa"}, "1"=>{"url"=>"", "title"=>"", "description"=>""}, "2"=>{"url"=>"", "title"=>"", "description"=>""}}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mPlaylist Create (0.5ms)[0m  [1m[32mINSERT INTO "playlists" ("name", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "aaa"], ["user_id", 1], ["description", "aaa"], ["created_at", "2019-01-22 13:31:11.873152"], ["updated_at", "2019-01-22 13:31:11.873152"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mMovieUrl Create (0.6ms)[0m  [1m[32mINSERT INTO "movie_urls" ("url", "playlist_id", "title", "description", "user_id", "created_at", "updated_at", "ytid") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["url", "https://www.youtube.com/watch?v=4D_DR-q0xEg&start_radio=1&list=RD4D_DR-q0xEg"], ["playlist_id", 3], ["title", "[\"ã‚¸ãƒ£ã‚¹ãƒ†ã‚£ãƒ•ã‚¡ã‚¤ãƒ‰ã‚¸ã‚§ãƒŽã‚µã‚¤ãƒ‰ã€€ã†ãŸã£ãŸã€SymaGã€‘\"]"], ["description", "aaaa"], ["user_id", 1], ["created_at", "2019-01-22 13:31:12.739215"], ["updated_at", "2019-01-22 13:31:12.739215"], ["ytid", "4D_DR-q0xEg"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[35m (15.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/playlists_controller.rb:26
[ActiveJob] Enqueued MovieUrlBroadcastJob (Job ID: 4d7f94a4-5df2-4c77-89fa-f0655f58114a) to Async(default) with arguments: #<GlobalID:0x007fc0315f6c90 @uri=#<URI::GID gid://sharebgm/MovieUrl/5>>
Redirected to https://sharebgm-higashi-c9-16.c9users.io/playlists
Completed 302 Found in 924ms (ActiveRecord: 17.0ms)


  [1m[36mMovieUrl Load (0.3ms)[0m  [1m[34mSELECT  "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[ActiveJob] [MovieUrlBroadcastJob] [4d7f94a4-5df2-4c77-89fa-f0655f58114a] Performing MovieUrlBroadcastJob (Job ID: 4d7f94a4-5df2-4c77-89fa-f0655f58114a) from Async(default) with arguments: #<GlobalID:0x007fc0315c4c68 @uri=#<URI::GID gid://sharebgm/MovieUrl/5>>
[ActiveJob] [MovieUrlBroadcastJob] [4d7f94a4-5df2-4c77-89fa-f0655f58114a] Error performing MovieUrlBroadcastJob (Job ID: 4d7f94a4-5df2-4c77-89fa-f0655f58114a) from Async(default) in 5.75ms: SyntaxError (/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:62: syntax error, unexpected keyword_end, expecting end-of-input):
/usr/local/rvm/gems/ruby-2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load'
/usr/local/rvm/gems/ruby-2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:468:in `block in load_file'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:653:in `new_constants_in'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:467:in `load_file'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:365:in `block in require_or_load'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:37:in `block in load_interlock'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies/interlock.rb:14:in `block in loading'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/concurrency/share_lock.rb:151:in `exclusive'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies/interlock.rb:13:in `loading'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:37:in `load_interlock'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:348:in `require_or_load'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:502:in `load_missing_constant'
/usr/local/rvm/gems/ruby-2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/active_support.rb:43:in `load_missing_constant'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:193:in `const_missing'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:534:in `load_missing_constant'
/usr/local/rvm/gems/ruby-2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/active_support.rb:43:in `load_missing_constant'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:193:in `const_missing'
/home/ubuntu/workspace/sharebgm/app/jobs/movie_url_broadcast_job.rb:8:in `perform'
/usr/local/rvm/gems/ruby-2.4.0/gems/activejob-5.2.0/lib/active_job/execution.rb:39:in `block in perform_now'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/i18n-1.0.1/lib/i18n.rb:284:in `with_locale'
/usr/local/rvm/gems/ruby-2.4.0/gems/activejob-5.2.0/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activejob-5.2.0/lib/active_job/logging.rb:26:in `block (4 levels) in <module:Logging>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/notifications.rb:168:in `block in instrument'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/notifications/instrumenter.rb:23:in `instrument'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/notifications.rb:168:in `instrument'
/usr/local/rvm/gems/ruby-2.4.0/gems/activejob-5.2.0/lib/active_job/logging.rb:25:in `block (3 levels) in <module:Logging>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activejob-5.2.0/lib/active_job/logging.rb:46:in `block in tag_logger'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activejob-5.2.0/lib/active_job/logging.rb:46:in `tag_logger'
/usr/local/rvm/gems/ruby-2.4.0/gems/activejob-5.2.0/lib/active_job/logging.rb:22:in `block (2 levels) in <module:Logging>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activejob-5.2.0/lib/active_job/execution.rb:35:in `perform_now'
/usr/local/rvm/gems/ruby-2.4.0/gems/activejob-5.2.0/lib/active_job/execution.rb:24:in `block in execute'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activejob-5.2.0/lib/active_job/railtie.rb:28:in `block (4 levels) in <class:Railtie>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/reloader.rb:73:in `block in wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/reloader.rb:72:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/activejob-5.2.0/lib/active_job/railtie.rb:27:in `block (3 levels) in <class:Railtie>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activejob-5.2.0/lib/active_job/execution.rb:22:in `execute'
/usr/local/rvm/gems/ruby-2.4.0/gems/activejob-5.2.0/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/playlists" for 153.136.54.29 at 2019-01-22 13:31:12 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:3
  Rendering playlists/index.html.erb within layouts/application
  [1m[36mPlaylist Load (0.5ms)[0m  [1m[34mSELECT "playlists".* FROM "playlists" WHERE "playlists"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/playlists/index.html.erb:7
  Rendered playlists/index.html.erb within layouts/application (5.4ms)
Completed 200 OK in 135ms (Views: 128.9ms | ActiveRecord: 1.0ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:31:13 +0000
Started GET "/cable" for 153.136.54.29 at 2019-01-22 13:31:14 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:31:14 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [SyntaxError - /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:62: syntax error, unexpected keyword_end, expecting end-of-input]: /usr/local/rvm/gems/ruby-2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load' | /usr/local/rvm/gems/ruby-2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load' | /usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:468:in `block in load_file' | /usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:653:in `new_constants_in' | /usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:467:in `load_file'
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"RoomChannel\"}", "data"=>"{\"action\":\"join\"}"}) [RuntimeError - Unable to find subscription with identifier: {"channel":"RoomChannel"}]: /usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:78:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:55:in `perform_action' | /usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:19:in `execute_command' | /usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:87:in `dispatch_websocket_message' | /usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 13:38:11 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:38:11 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:38:12 +0000
Started GET "/cable" for 153.136.54.29 at 2019-01-22 13:38:12 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:38:12 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
Started GET "/playlists/new" for 153.136.54.29 at 2019-01-22 13:38:13 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:7
  Rendering playlists/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (1.5ms)
  Rendered playlists/_form.html.erb (20.6ms)
  Rendered playlists/new.html.erb within layouts/application (24.1ms)
Completed 200 OK in 369ms (Views: 285.6ms | ActiveRecord: 4.9ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:38:14 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:21:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 13:38:15 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:38:15 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started POST "/playlists" for 153.136.54.29 at 2019-01-22 13:38:47 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Yo4Ra/Lo/G+ZN/OzujrI6dKyzV5Pm25VjQ92cKDi2RQ8d1R0qUv7pSNwHUCtp77oewI0CYoU0H+uTGIe2MGqOw==", "playlist"=>{"name"=>"aaa", "description"=>"aaa", "movie_urls_attributes"=>{"0"=>{"url"=>"https://www.youtube.com/watch?v=4D_DR-q0xEg&start_radio=1&list=RD4D_DR-q0xEg", "title"=>"aaa", "description"=>"aaa"}, "1"=>{"url"=>"https://www.youtube.com/watch?v=4D_DR-q0xEg&start_radio=1&list=RD4D_DR-q0xEg", "title"=>"aaa", "description"=>"aa"}, "2"=>{"url"=>"https://www.youtube.com/watch?v=4D_DR-q0xEg&start_radio=1&list=RD4D_DR-q0xEg", "title"=>"aaa", "description"=>"aaa"}}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mPlaylist Create (1.4ms)[0m  [1m[32mINSERT INTO "playlists" ("name", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "aaa"], ["user_id", 1], ["description", "aaa"], ["created_at", "2019-01-22 13:38:47.138946"], ["updated_at", "2019-01-22 13:38:47.138946"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mMovieUrl Create (0.4ms)[0m  [1m[32mINSERT INTO "movie_urls" ("url", "playlist_id", "title", "description", "user_id", "created_at", "updated_at", "ytid") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["url", "https://www.youtube.com/watch?v=4D_DR-q0xEg&start_radio=1&list=RD4D_DR-q0xEg"], ["playlist_id", 4], ["title", "[\"ã‚¸ãƒ£ã‚¹ãƒ†ã‚£ãƒ•ã‚¡ã‚¤ãƒ‰ã‚¸ã‚§ãƒŽã‚µã‚¤ãƒ‰ã€€ã†ãŸã£ãŸã€SymaGã€‘\"]"], ["description", "aaa"], ["user_id", 1], ["created_at", "2019-01-22 13:38:48.021254"], ["updated_at", "2019-01-22 13:38:48.021254"], ["ytid", "4D_DR-q0xEg"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mMovieUrl Create (0.3ms)[0m  [1m[32mINSERT INTO "movie_urls" ("url", "playlist_id", "title", "description", "user_id", "created_at", "updated_at", "ytid") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["url", "https://www.youtube.com/watch?v=4D_DR-q0xEg&start_radio=1&list=RD4D_DR-q0xEg"], ["playlist_id", 4], ["title", "[\"ã‚¸ãƒ£ã‚¹ãƒ†ã‚£ãƒ•ã‚¡ã‚¤ãƒ‰ã‚¸ã‚§ãƒŽã‚µã‚¤ãƒ‰ã€€ã†ãŸã£ãŸã€SymaGã€‘\"]"], ["description", "aa"], ["user_id", 1], ["created_at", "2019-01-22 13:38:48.318969"], ["updated_at", "2019-01-22 13:38:48.318969"], ["ytid", "4D_DR-q0xEg"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mMovieUrl Create (0.4ms)[0m  [1m[32mINSERT INTO "movie_urls" ("url", "playlist_id", "title", "description", "user_id", "created_at", "updated_at", "ytid") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["url", "https://www.youtube.com/watch?v=4D_DR-q0xEg&start_radio=1&list=RD4D_DR-q0xEg"], ["playlist_id", 4], ["title", "[\"ã‚¸ãƒ£ã‚¹ãƒ†ã‚£ãƒ•ã‚¡ã‚¤ãƒ‰ã‚¸ã‚§ãƒŽã‚µã‚¤ãƒ‰ã€€ã†ãŸã£ãŸã€SymaGã€‘\"]"], ["description", "aaa"], ["user_id", 1], ["created_at", "2019-01-22 13:38:48.814356"], ["updated_at", "2019-01-22 13:38:48.814356"], ["ytid", "4D_DR-q0xEg"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[35m (15.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/playlists_controller.rb:26
[ActiveJob] Enqueued MovieUrlBroadcastJob (Job ID: 029ba8e6-0d32-4651-b880-2349a9191798) to Async(default) with arguments: #<GlobalID:0x007f53fd5b8c60 @uri=#<URI::GID gid://sharebgm/MovieUrl/6>>
[ActiveJob] Enqueued MovieUrlBroadcastJob (Job ID: 568d3f9b-32c2-498f-bf1f-a14e650ccd51) to Async(default) with arguments: #<GlobalID:0x007f53fd5b24c8 @uri=#<URI::GID gid://sharebgm/MovieUrl/7>>
[ActiveJob] Enqueued MovieUrlBroadcastJob (Job ID: ff95db03-14e4-486a-bdc9-358dc4308b41) to Async(default) with arguments: #<GlobalID:0x007f53fd5b02b8 @uri=#<URI::GID gid://sharebgm/MovieUrl/8>>
Redirected to https://sharebgm-higashi-c9-16.c9users.io/playlists
  [1m[36mMovieUrl Load (0.3ms)[0m  [1m[34mSELECT  "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[ActiveJob] [MovieUrlBroadcastJob] [ff95db03-14e4-486a-bdc9-358dc4308b41] Performing MovieUrlBroadcastJob (Job ID: ff95db03-14e4-486a-bdc9-358dc4308b41) from Async(default) with arguments: #<GlobalID:0x007f53fd55d888 @uri=#<URI::GID gid://sharebgm/MovieUrl/8>>
Completed 302 Found in 1727ms (ActiveRecord: 18.3ms)


  [1m[36mMovieUrl Load (0.2ms)[0m  [1m[34mSELECT  "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT  "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [ff95db03-14e4-486a-bdc9-358dc4308b41]   [1m[36mPlaylist Load (0.4ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[ActiveJob] [MovieUrlBroadcastJob] [ff95db03-14e4-486a-bdc9-358dc4308b41]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [029ba8e6-0d32-4651-b880-2349a9191798] Performing MovieUrlBroadcastJob (Job ID: 029ba8e6-0d32-4651-b880-2349a9191798) from Async(default) with arguments: #<GlobalID:0x007f53fd5110f0 @uri=#<URI::GID gid://sharebgm/MovieUrl/6>>
[ActiveJob] [MovieUrlBroadcastJob] [568d3f9b-32c2-498f-bf1f-a14e650ccd51] Performing MovieUrlBroadcastJob (Job ID: 568d3f9b-32c2-498f-bf1f-a14e650ccd51) from Async(default) with arguments: #<GlobalID:0x007f53fd50ac50 @uri=#<URI::GID gid://sharebgm/MovieUrl/7>>
[ActiveJob] [MovieUrlBroadcastJob] [ff95db03-14e4-486a-bdc9-358dc4308b41]   [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."playlist_id" = ? LIMIT ?[0m  [["playlist_id", 4], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [ff95db03-14e4-486a-bdc9-358dc4308b41]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [568d3f9b-32c2-498f-bf1f-a14e650ccd51]   [1m[36mPlaylist Load (0.4ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [029ba8e6-0d32-4651-b880-2349a9191798]   [1m[36mPlaylist Load (0.3ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [568d3f9b-32c2-498f-bf1f-a14e650ccd51]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [ff95db03-14e4-486a-bdc9-358dc4308b41]   Rendered movie_urls/_movie_url.html.erb (1.0ms)
[ActiveJob] [MovieUrlBroadcastJob] [029ba8e6-0d32-4651-b880-2349a9191798]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [568d3f9b-32c2-498f-bf1f-a14e650ccd51]   [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."playlist_id" = ? LIMIT ?[0m  [["playlist_id", 4], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [ff95db03-14e4-486a-bdc9-358dc4308b41] [ActionCable] Broadcasting to room:: {:movie_url=>"<li class=\"item\" data-movie_id=\"4D_DR-q0xEg\">\n  <div class=\"multiline-text\">[&quot;ã‚¸ãƒ£ã‚¹ãƒ†ã‚£ãƒ•ã‚¡ã‚¤ãƒ‰ã‚¸ã‚§ãƒŽã‚µã‚¤ãƒ‰ã€€ã†ãŸã£ãŸã€SymaGã€‘&quot;]\n  </div>\n  <img src=\"https://i.ytimg.com/vi/4D_DR-q0xEg/default.jpg\" />\n</li>"}
[ActiveJob] [MovieUrlBroadcastJob] [029ba8e6-0d32-4651-b880-2349a9191798]   [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."playlist_id" = ? LIMIT ?[0m  [["playlist_id", 4], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [568d3f9b-32c2-498f-bf1f-a14e650ccd51]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [ff95db03-14e4-486a-bdc9-358dc4308b41] Performed MovieUrlBroadcastJob (Job ID: ff95db03-14e4-486a-bdc9-358dc4308b41) from Async(default) in 125.06ms
[ActiveJob] [MovieUrlBroadcastJob] [029ba8e6-0d32-4651-b880-2349a9191798]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [568d3f9b-32c2-498f-bf1f-a14e650ccd51]   Rendered movie_urls/_movie_url.html.erb (0.2ms)
[ActiveJob] [MovieUrlBroadcastJob] [029ba8e6-0d32-4651-b880-2349a9191798]   Rendered movie_urls/_movie_url.html.erb (0.2ms)
[ActiveJob] [MovieUrlBroadcastJob] [568d3f9b-32c2-498f-bf1f-a14e650ccd51] [ActionCable] Broadcasting to room:: {:movie_url=>"<li class=\"item\" data-movie_id=\"4D_DR-q0xEg\">\n  <div class=\"multiline-text\">[&quot;ã‚¸ãƒ£ã‚¹ãƒ†ã‚£ãƒ•ã‚¡ã‚¤ãƒ‰ã‚¸ã‚§ãƒŽã‚µã‚¤ãƒ‰ã€€ã†ãŸã£ãŸã€SymaGã€‘&quot;]\n  </div>\n  <img src=\"https://i.ytimg.com/vi/4D_DR-q0xEg/default.jpg\" />\n</li>"}
[ActiveJob] [MovieUrlBroadcastJob] [029ba8e6-0d32-4651-b880-2349a9191798] [ActionCable] Broadcasting to room:: {:movie_url=>"<li class=\"item\" data-movie_id=\"4D_DR-q0xEg\">\n  <div class=\"multiline-text\">[&quot;ã‚¸ãƒ£ã‚¹ãƒ†ã‚£ãƒ•ã‚¡ã‚¤ãƒ‰ã‚¸ã‚§ãƒŽã‚µã‚¤ãƒ‰ã€€ã†ãŸã£ãŸã€SymaGã€‘&quot;]\n  </div>\n  <img src=\"https://i.ytimg.com/vi/4D_DR-q0xEg/default.jpg\" />\n</li>"}
[ActiveJob] [MovieUrlBroadcastJob] [568d3f9b-32c2-498f-bf1f-a14e650ccd51] Performed MovieUrlBroadcastJob (Job ID: 568d3f9b-32c2-498f-bf1f-a14e650ccd51) from Async(default) in 37.61ms
[ActiveJob] [MovieUrlBroadcastJob] [029ba8e6-0d32-4651-b880-2349a9191798] Performed MovieUrlBroadcastJob (Job ID: 029ba8e6-0d32-4651-b880-2349a9191798) from Async(default) in 38.91ms
Started GET "/playlists" for 153.136.54.29 at 2019-01-22 13:38:49 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:3
  Rendering playlists/index.html.erb within layouts/application
  [1m[36mPlaylist Load (0.3ms)[0m  [1m[34mSELECT "playlists".* FROM "playlists" WHERE "playlists"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/playlists/index.html.erb:7
  Rendered playlists/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 58ms (Views: 54.9ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:38:49 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:21:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 13:38:50 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:38:50 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started GET "/playlists/new" for 153.136.54.29 at 2019-01-22 13:40:11 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:7
  Rendering playlists/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered playlists/_form.html.erb (5.8ms)
  Rendered playlists/new.html.erb within layouts/application (7.5ms)
Completed 200 OK in 143ms (Views: 92.3ms | ActiveRecord: 3.0ms)


Started GET "/cable" for 153.136.54.29 at 2019-01-22 13:40:13 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:40:13 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started POST "/playlists" for 153.136.54.29 at 2019-01-22 13:40:49 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"UaYUG4DPvNR0QKLA3YoOmFQMzcbuL33TBd98sIVtBaIPX1EE22y7Hs4HTDPKF3iZ/bw0kSugw/kmnGje/U52jQ==", "playlist"=>{"name"=>"aaa", "description"=>"aaaa", "movie_urls_attributes"=>{"0"=>{"url"=>"https://www.youtube.com/watch?v=4D_DR-q0xEg&start_radio=1&list=RD4D_DR-q0xEg", "title"=>"aaa", "description"=>"aaa"}, "1"=>{"url"=>"https://www.youtube.com/watch?v=4D_DR-q0xEg&start_radio=1&list=RD4D_DR-q0xEg", "title"=>"aaa", "description"=>"aa"}, "2"=>{"url"=>"https://www.youtube.com/watch?v=4D_DR-q0xEg&start_radio=1&list=RD4D_DR-q0xEg", "title"=>"aaa", "description"=>"aa"}}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mPlaylist Create (0.5ms)[0m  [1m[32mINSERT INTO "playlists" ("name", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "aaa"], ["user_id", 1], ["description", "aaaa"], ["created_at", "2019-01-22 13:40:49.220833"], ["updated_at", "2019-01-22 13:40:49.220833"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mMovieUrl Create (0.4ms)[0m  [1m[32mINSERT INTO "movie_urls" ("url", "playlist_id", "title", "description", "user_id", "created_at", "updated_at", "ytid") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["url", "https://www.youtube.com/watch?v=4D_DR-q0xEg&start_radio=1&list=RD4D_DR-q0xEg"], ["playlist_id", 5], ["title", "[\"ã‚¸ãƒ£ã‚¹ãƒ†ã‚£ãƒ•ã‚¡ã‚¤ãƒ‰ã‚¸ã‚§ãƒŽã‚µã‚¤ãƒ‰ã€€ã†ãŸã£ãŸã€SymaGã€‘\"]"], ["description", "aaa"], ["user_id", 1], ["created_at", "2019-01-22 13:40:49.594035"], ["updated_at", "2019-01-22 13:40:49.594035"], ["ytid", "4D_DR-q0xEg"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mMovieUrl Create (0.2ms)[0m  [1m[32mINSERT INTO "movie_urls" ("url", "playlist_id", "title", "description", "user_id", "created_at", "updated_at", "ytid") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["url", "https://www.youtube.com/watch?v=4D_DR-q0xEg&start_radio=1&list=RD4D_DR-q0xEg"], ["playlist_id", 5], ["title", "[\"ã‚¸ãƒ£ã‚¹ãƒ†ã‚£ãƒ•ã‚¡ã‚¤ãƒ‰ã‚¸ã‚§ãƒŽã‚µã‚¤ãƒ‰ã€€ã†ãŸã£ãŸã€SymaGã€‘\"]"], ["description", "aa"], ["user_id", 1], ["created_at", "2019-01-22 13:40:49.792026"], ["updated_at", "2019-01-22 13:40:49.792026"], ["ytid", "4D_DR-q0xEg"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mMovieUrl Create (0.4ms)[0m  [1m[32mINSERT INTO "movie_urls" ("url", "playlist_id", "title", "description", "user_id", "created_at", "updated_at", "ytid") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["url", "https://www.youtube.com/watch?v=4D_DR-q0xEg&start_radio=1&list=RD4D_DR-q0xEg"], ["playlist_id", 5], ["title", "[\"ã‚¸ãƒ£ã‚¹ãƒ†ã‚£ãƒ•ã‚¡ã‚¤ãƒ‰ã‚¸ã‚§ãƒŽã‚µã‚¤ãƒ‰ã€€ã†ãŸã£ãŸã€SymaGã€‘\"]"], ["description", "aa"], ["user_id", 1], ["created_at", "2019-01-22 13:40:50.089610"], ["updated_at", "2019-01-22 13:40:50.089610"], ["ytid", "4D_DR-q0xEg"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[35m (13.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/playlists_controller.rb:26
[ActiveJob] Enqueued MovieUrlBroadcastJob (Job ID: 5dbfc245-b3eb-44f8-99e6-26dc75d99e2b) to Async(default) with arguments: #<GlobalID:0x007f53fdc6df10 @uri=#<URI::GID gid://sharebgm/MovieUrl/9>>
[ActiveJob] Enqueued MovieUrlBroadcastJob (Job ID: 6c0e7f36-5e7b-4e8e-97f3-d8887cf38e4e) to Async(default) with arguments: #<GlobalID:0x007f53fdc67e30 @uri=#<URI::GID gid://sharebgm/MovieUrl/10>>
  [1m[36mMovieUrl Load (0.2ms)[0m  [1m[34mSELECT  "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mMovieUrl Load (0.2ms)[0m  [1m[34mSELECT  "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] Enqueued MovieUrlBroadcastJob (Job ID: 94966f94-f204-4e39-8024-c25ec8bf8680) to Async(default) with arguments: #<GlobalID:0x007f53fdb6c710 @uri=#<URI::GID gid://sharebgm/MovieUrl/11>>
  [1m[36mMovieUrl Load (0.2ms)[0m  [1m[34mSELECT  "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to https://sharebgm-higashi-c9-16.c9users.io/playlists
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[ActiveJob] [MovieUrlBroadcastJob] [6c0e7f36-5e7b-4e8e-97f3-d8887cf38e4e] Performing MovieUrlBroadcastJob (Job ID: 6c0e7f36-5e7b-4e8e-97f3-d8887cf38e4e) from Async(default) with arguments: #<GlobalID:0x007f53fdad0ce8 @uri=#<URI::GID gid://sharebgm/MovieUrl/10>>
[ActiveJob] [MovieUrlBroadcastJob] [5dbfc245-b3eb-44f8-99e6-26dc75d99e2b] Performing MovieUrlBroadcastJob (Job ID: 5dbfc245-b3eb-44f8-99e6-26dc75d99e2b) from Async(default) with arguments: #<GlobalID:0x007f53fdac68b0 @uri=#<URI::GID gid://sharebgm/MovieUrl/9>>
Completed 302 Found in 929ms (ActiveRecord: 15.6ms)


[ActiveJob] [MovieUrlBroadcastJob] [94966f94-f204-4e39-8024-c25ec8bf8680] Performing MovieUrlBroadcastJob (Job ID: 94966f94-f204-4e39-8024-c25ec8bf8680) from Async(default) with arguments: #<GlobalID:0x007f53fdabf600 @uri=#<URI::GID gid://sharebgm/MovieUrl/11>>
[ActiveJob] [MovieUrlBroadcastJob] [6c0e7f36-5e7b-4e8e-97f3-d8887cf38e4e]   [1m[36mPlaylist Load (0.3ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [5dbfc245-b3eb-44f8-99e6-26dc75d99e2b]   [1m[36mPlaylist Load (0.2ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [94966f94-f204-4e39-8024-c25ec8bf8680]   [1m[36mPlaylist Load (0.3ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [6c0e7f36-5e7b-4e8e-97f3-d8887cf38e4e]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [5dbfc245-b3eb-44f8-99e6-26dc75d99e2b]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [94966f94-f204-4e39-8024-c25ec8bf8680]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [6c0e7f36-5e7b-4e8e-97f3-d8887cf38e4e]   [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."playlist_id" = ? LIMIT ?[0m  [["playlist_id", 5], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [5dbfc245-b3eb-44f8-99e6-26dc75d99e2b]   [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."playlist_id" = ? LIMIT ?[0m  [["playlist_id", 5], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [94966f94-f204-4e39-8024-c25ec8bf8680]   [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."playlist_id" = ? LIMIT ?[0m  [["playlist_id", 5], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [6c0e7f36-5e7b-4e8e-97f3-d8887cf38e4e]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [5dbfc245-b3eb-44f8-99e6-26dc75d99e2b]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [94966f94-f204-4e39-8024-c25ec8bf8680]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [6c0e7f36-5e7b-4e8e-97f3-d8887cf38e4e]   Rendered movie_urls/_movie_url.html.erb (0.8ms)
[ActiveJob] [MovieUrlBroadcastJob] [5dbfc245-b3eb-44f8-99e6-26dc75d99e2b]   Rendered movie_urls/_movie_url.html.erb (0.2ms)
[ActiveJob] [MovieUrlBroadcastJob] [94966f94-f204-4e39-8024-c25ec8bf8680]   Rendered movie_urls/_movie_url.html.erb (0.2ms)
[ActiveJob] [MovieUrlBroadcastJob] [6c0e7f36-5e7b-4e8e-97f3-d8887cf38e4e] [ActionCable] Broadcasting to room:: {:movie_url=>"<li class=\"item\" data-movie_id=\"4D_DR-q0xEg\">\n  <div class=\"multiline-text\">[&quot;ã‚¸ãƒ£ã‚¹ãƒ†ã‚£ãƒ•ã‚¡ã‚¤ãƒ‰ã‚¸ã‚§ãƒŽã‚µã‚¤ãƒ‰ã€€ã†ãŸã£ãŸã€SymaGã€‘&quot;]\n  </div>\n  <img src=\"https://i.ytimg.com/vi/4D_DR-q0xEg/default.jpg\" />\n</li>"}
[ActiveJob] [MovieUrlBroadcastJob] [5dbfc245-b3eb-44f8-99e6-26dc75d99e2b] [ActionCable] Broadcasting to room:: {:movie_url=>"<li class=\"item\" data-movie_id=\"4D_DR-q0xEg\">\n  <div class=\"multiline-text\">[&quot;ã‚¸ãƒ£ã‚¹ãƒ†ã‚£ãƒ•ã‚¡ã‚¤ãƒ‰ã‚¸ã‚§ãƒŽã‚µã‚¤ãƒ‰ã€€ã†ãŸã£ãŸã€SymaGã€‘&quot;]\n  </div>\n  <img src=\"https://i.ytimg.com/vi/4D_DR-q0xEg/default.jpg\" />\n</li>"}
[ActiveJob] [MovieUrlBroadcastJob] [94966f94-f204-4e39-8024-c25ec8bf8680] [ActionCable] Broadcasting to room:: {:movie_url=>"<li class=\"item\" data-movie_id=\"4D_DR-q0xEg\">\n  <div class=\"multiline-text\">[&quot;ã‚¸ãƒ£ã‚¹ãƒ†ã‚£ãƒ•ã‚¡ã‚¤ãƒ‰ã‚¸ã‚§ãƒŽã‚µã‚¤ãƒ‰ã€€ã†ãŸã£ãŸã€SymaGã€‘&quot;]\n  </div>\n  <img src=\"https://i.ytimg.com/vi/4D_DR-q0xEg/default.jpg\" />\n</li>"}
[ActiveJob] [MovieUrlBroadcastJob] [6c0e7f36-5e7b-4e8e-97f3-d8887cf38e4e] Performed MovieUrlBroadcastJob (Job ID: 6c0e7f36-5e7b-4e8e-97f3-d8887cf38e4e) from Async(default) in 40.47ms
[ActiveJob] [MovieUrlBroadcastJob] [5dbfc245-b3eb-44f8-99e6-26dc75d99e2b] Performed MovieUrlBroadcastJob (Job ID: 5dbfc245-b3eb-44f8-99e6-26dc75d99e2b) from Async(default) in 38.57ms
[ActiveJob] [MovieUrlBroadcastJob] [94966f94-f204-4e39-8024-c25ec8bf8680] Performed MovieUrlBroadcastJob (Job ID: 94966f94-f204-4e39-8024-c25ec8bf8680) from Async(default) in 35.65ms
Started GET "/playlists" for 153.136.54.29 at 2019-01-22 13:40:50 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:3
  Rendering playlists/index.html.erb within layouts/application
  [1m[36mPlaylist Load (0.3ms)[0m  [1m[34mSELECT "playlists".* FROM "playlists" WHERE "playlists"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/playlists/index.html.erb:7
  Rendered playlists/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 68ms (Views: 64.4ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:40:50 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:21:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 13:40:51 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:40:51 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:51:37 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:21:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/playlists" for 153.136.54.29 at 2019-01-22 13:51:39 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:3
  Rendering playlists/index.html.erb within layouts/application
  [1m[36mPlaylist Load (0.4ms)[0m  [1m[34mSELECT "playlists".* FROM "playlists" WHERE "playlists"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/playlists/index.html.erb:7
  Rendered playlists/index.html.erb within layouts/application (9.3ms)
Completed 200 OK in 125ms (Views: 68.6ms | ActiveRecord: 3.7ms)


Started GET "/playlists" for 153.136.54.29 at 2019-01-22 13:51:41 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:3
  Rendering playlists/index.html.erb within layouts/application
  [1m[36mPlaylist Load (0.2ms)[0m  [1m[34mSELECT "playlists".* FROM "playlists" WHERE "playlists"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/playlists/index.html.erb:7
  Rendered playlists/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 62ms (Views: 58.4ms | ActiveRecord: 0.6ms)


Started GET "/cable" for 153.136.54.29 at 2019-01-22 13:51:44 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:51:44 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
Started GET "/playlists/3" for 153.136.54.29 at 2019-01-22 13:51:49 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mPlaylist Load (0.3ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:36
  Rendering playlists/show.html.erb within layouts/application
  [1m[36mMovieUrl Load (0.2ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 3]]
  â†³ app/views/playlists/show.html.erb:3
  Rendered playlists/show.html.erb within layouts/application (16.1ms)
Completed 200 OK in 101ms (Views: 95.6ms | ActiveRecord: 1.3ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:51:49 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 13:51:50 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:51:50 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started GET "/" for 153.136.54.29 at 2019-01-22 13:51:51 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:12
  Rendered rooms/index.html.erb within layouts/application (10.0ms)
Completed 200 OK in 71ms (Views: 67.4ms | ActiveRecord: 0.7ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:51:51 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 13:51:52 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:51:52 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started GET "/playlists/new" for 153.136.54.29 at 2019-01-22 13:51:53 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:7
  Rendering playlists/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered playlists/_form.html.erb (5.4ms)
  Rendered playlists/new.html.erb within layouts/application (6.9ms)
Completed 200 OK in 69ms (Views: 64.1ms | ActiveRecord: 0.4ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:51:54 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 13:51:54 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:51:54 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started POST "/playlists" for 153.136.54.29 at 2019-01-22 13:52:40 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"5Q5NBnOX5zHYwgfSfTmnoPwB/1EiOi+njQnpLe/Nkkq79wgZKDTg+2KF6SFqpNGhVbEGBue1kY2uSv1Dl+7hZQ==", "playlist"=>{"name"=>"aaa", "description"=>"aaa", "movie_urls_attributes"=>{"0"=>{"url"=>"https://www.youtube.com/watch?v=pWH11t2JKds&start_radio=1&list=RDpWH11t2JKds", "title"=>"aaa", "description"=>"aaa"}, "1"=>{"url"=>"", "title"=>"", "description"=>""}, "2"=>{"url"=>"", "title"=>"", "description"=>""}}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:17
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mPlaylist Create (1.3ms)[0m  [1m[32mINSERT INTO "playlists" ("name", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "aaa"], ["user_id", 1], ["description", "aaa"], ["created_at", "2019-01-22 13:52:40.056705"], ["updated_at", "2019-01-22 13:52:40.056705"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mMovieUrl Create (0.4ms)[0m  [1m[32mINSERT INTO "movie_urls" ("url", "playlist_id", "title", "description", "user_id", "created_at", "updated_at", "ytid") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["url", "https://www.youtube.com/watch?v=pWH11t2JKds&start_radio=1&list=RDpWH11t2JKds"], ["playlist_id", 6], ["title", "[\"ONE OK ROCK: Taking Off! OpiniÃ³n (á—’á—£á—•)Õž\"]"], ["description", "aaa"], ["user_id", 1], ["created_at", "2019-01-22 13:52:40.436928"], ["updated_at", "2019-01-22 13:52:40.436928"], ["ytid", "pWH11t2JKds"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[35m (13.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/playlists_controller.rb:26
[ActiveJob] Enqueued MovieUrlBroadcastJob (Job ID: 893a3726-a064-4fb3-b4c9-f14698353c4d) to Async(default) with arguments: #<GlobalID:0x007f53fd493150 @uri=#<URI::GID gid://sharebgm/MovieUrl/12>>
Redirected to https://sharebgm-higashi-c9-16.c9users.io/playlists
Completed 302 Found in 429ms (ActiveRecord: 16.2ms)


  [1m[36mMovieUrl Load (0.4ms)[0m  [1m[34mSELECT  "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[ActiveJob] [MovieUrlBroadcastJob] [893a3726-a064-4fb3-b4c9-f14698353c4d] Performing MovieUrlBroadcastJob (Job ID: 893a3726-a064-4fb3-b4c9-f14698353c4d) from Async(default) with arguments: #<GlobalID:0x007f53fd474908 @uri=#<URI::GID gid://sharebgm/MovieUrl/12>>
[ActiveJob] [MovieUrlBroadcastJob] [893a3726-a064-4fb3-b4c9-f14698353c4d]   [1m[36mPlaylist Load (0.2ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [893a3726-a064-4fb3-b4c9-f14698353c4d]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [893a3726-a064-4fb3-b4c9-f14698353c4d]   [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."playlist_id" = ? LIMIT ?[0m  [["playlist_id", 6], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [893a3726-a064-4fb3-b4c9-f14698353c4d]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [893a3726-a064-4fb3-b4c9-f14698353c4d]   Rendered movie_urls/_movie_url.html.erb (0.9ms)
[ActiveJob] [MovieUrlBroadcastJob] [893a3726-a064-4fb3-b4c9-f14698353c4d] [ActionCable] Broadcasting to room:: {:movie_url=>"<li class=\"item\" data-movie_id=\"pWH11t2JKds\">\n  <div class=\"multiline-text\">[&quot;ONE OK ROCK: Taking Off! OpiniÃ³n (á—’á—£á—•)Õž&quot;]\n  </div>\n  <img src=\"https://i.ytimg.com/vi/pWH11t2JKds/default.jpg\" />\n</li>"}
[ActiveJob] [MovieUrlBroadcastJob] [893a3726-a064-4fb3-b4c9-f14698353c4d] Performed MovieUrlBroadcastJob (Job ID: 893a3726-a064-4fb3-b4c9-f14698353c4d) from Async(default) in 12.91ms
Started GET "/playlists" for 153.136.54.29 at 2019-01-22 13:52:40 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:3
  Rendering playlists/index.html.erb within layouts/application
  [1m[36mPlaylist Load (0.4ms)[0m  [1m[34mSELECT "playlists".* FROM "playlists" WHERE "playlists"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/playlists/index.html.erb:7
  Rendered playlists/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 70ms (Views: 66.3ms | ActiveRecord: 0.7ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:52:40 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 13:52:42 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:52:42 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "movie_urls"[0m
  â†³ db/schema.rb:15
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ db/schema.rb:15
  [1m[35m (13.9ms)[0m  [1m[35mCREATE TABLE "movie_urls" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "url" varchar, "playlist_id" integer, "title" varchar, "description" varchar, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "ytid" varchar)[0m
  â†³ db/schema.rb:15
  [1m[35m (12.1ms)[0m  [1m[35mCREATE  INDEX "index_movie_urls_on_playlist_id" ON "movie_urls" ("playlist_id")[0m
  â†³ db/schema.rb:15
  [1m[35m (11.4ms)[0m  [1m[35mCREATE  INDEX "index_movie_urls_on_user_id" ON "movie_urls" ("user_id")[0m
  â†³ db/schema.rb:15
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "playlists"[0m
  â†³ db/schema.rb:28
  [1m[35m (13.2ms)[0m  [1m[35mCREATE TABLE "playlists" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "user_id" integer, "description" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ db/schema.rb:28
  [1m[35m (14.4ms)[0m  [1m[35mCREATE  INDEX "index_playlists_on_user_id" ON "playlists" ("user_id")[0m
  â†³ db/schema.rb:28
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "room_chat_logs"[0m
  â†³ db/schema.rb:37
  [1m[35m (17.6ms)[0m  [1m[35mCREATE TABLE "room_chat_logs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "log" varchar, "user_id" integer, "room_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ db/schema.rb:37
  [1m[35m (13.7ms)[0m  [1m[35mCREATE  INDEX "index_room_chat_logs_on_room_id" ON "room_chat_logs" ("room_id")[0m
  â†³ db/schema.rb:37
  [1m[35m (11.5ms)[0m  [1m[35mCREATE  INDEX "index_room_chat_logs_on_user_id" ON "room_chat_logs" ("user_id")[0m
  â†³ db/schema.rb:37
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "room_members"[0m
  â†³ db/schema.rb:47
  [1m[35m (14.2ms)[0m  [1m[35mCREATE TABLE "room_members" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "room_id" integer, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ db/schema.rb:47
  [1m[35m (10.5ms)[0m  [1m[35mCREATE  INDEX "index_room_members_on_room_id" ON "room_members" ("room_id")[0m
  â†³ db/schema.rb:47
  [1m[35m (10.5ms)[0m  [1m[35mCREATE  INDEX "index_room_members_on_user_id" ON "room_members" ("user_id")[0m
  â†³ db/schema.rb:47
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  â†³ db/schema.rb:56
  [1m[35m (12.5ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "closed_at" boolean, "playlist_id" integer, "admin_user_id" integer, "description" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ db/schema.rb:56
  [1m[35m (11.0ms)[0m  [1m[35mCREATE  INDEX "index_rooms_on_playlist_id" ON "rooms" ("playlist_id")[0m
  â†³ db/schema.rb:56
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "samples"[0m
  â†³ db/schema.rb:67
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "samples" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ db/schema.rb:67
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "user_playlists"[0m
  â†³ db/schema.rb:74
  [1m[35m (11.3ms)[0m  [1m[35mCREATE TABLE "user_playlists" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "playlist_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ db/schema.rb:74
  [1m[35m (14.2ms)[0m  [1m[35mCREATE  INDEX "index_user_playlists_on_playlist_id" ON "user_playlists" ("playlist_id")[0m
  â†³ db/schema.rb:74
  [1m[35m (10.9ms)[0m  [1m[35mCREATE  INDEX "index_user_playlists_on_user_id" ON "user_playlists" ("user_id")[0m
  â†³ db/schema.rb:74
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  â†³ db/schema.rb:83
  [1m[35m (12.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "username" varchar, "uid" varchar, "provider" varchar, "name" varchar, "nickname" varchar, "location" varchar, "image" varchar)[0m
  â†³ db/schema.rb:83
  [1m[35m (13.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  â†³ db/schema.rb:83
  [1m[35m (10.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  â†³ db/schema.rb:83
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  â†³ db/schema.rb:13
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ db/schema.rb:13
  [1m[35m (12.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20181215175135)[0m
  â†³ db/schema.rb:13
  [1m[35m (8.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20180626172812),
(20181022093226),
(20181213124039),
(20180704081952),
(20180704073137),
(20180626173752),
(20180704080049),
(20180704073549),
(20181210091407),
(20180917151310);

[0m
  â†³ db/schema.rb:13
  [1m[35m (10.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ db/schema.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-01-22 13:58:42.960996"], ["updated_at", "2019-01-22 13:58:42.960996"]]
  â†³ db/schema.rb:13
  [1m[35m (11.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "movie_urls"[0m
  â†³ db/schema.rb:15
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ db/schema.rb:15
  [1m[35m (17.7ms)[0m  [1m[35mCREATE TABLE "movie_urls" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "url" varchar, "playlist_id" integer, "title" varchar, "description" varchar, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "ytid" varchar)[0m
  â†³ db/schema.rb:15
  [1m[35m (11.2ms)[0m  [1m[35mCREATE  INDEX "index_movie_urls_on_playlist_id" ON "movie_urls" ("playlist_id")[0m
  â†³ db/schema.rb:15
  [1m[35m (8.3ms)[0m  [1m[35mCREATE  INDEX "index_movie_urls_on_user_id" ON "movie_urls" ("user_id")[0m
  â†³ db/schema.rb:15
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "playlists"[0m
  â†³ db/schema.rb:28
  [1m[35m (11.9ms)[0m  [1m[35mCREATE TABLE "playlists" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "user_id" integer, "description" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ db/schema.rb:28
  [1m[35m (11.2ms)[0m  [1m[35mCREATE  INDEX "index_playlists_on_user_id" ON "playlists" ("user_id")[0m
  â†³ db/schema.rb:28
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "room_chat_logs"[0m
  â†³ db/schema.rb:37
  [1m[35m (12.5ms)[0m  [1m[35mCREATE TABLE "room_chat_logs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "log" varchar, "user_id" integer, "room_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ db/schema.rb:37
  [1m[35m (10.2ms)[0m  [1m[35mCREATE  INDEX "index_room_chat_logs_on_room_id" ON "room_chat_logs" ("room_id")[0m
  â†³ db/schema.rb:37
  [1m[35m (9.2ms)[0m  [1m[35mCREATE  INDEX "index_room_chat_logs_on_user_id" ON "room_chat_logs" ("user_id")[0m
  â†³ db/schema.rb:37
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "room_members"[0m
  â†³ db/schema.rb:47
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE "room_members" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "room_id" integer, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ db/schema.rb:47
  [1m[35m (11.0ms)[0m  [1m[35mCREATE  INDEX "index_room_members_on_room_id" ON "room_members" ("room_id")[0m
  â†³ db/schema.rb:47
  [1m[35m (10.6ms)[0m  [1m[35mCREATE  INDEX "index_room_members_on_user_id" ON "room_members" ("user_id")[0m
  â†³ db/schema.rb:47
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  â†³ db/schema.rb:56
  [1m[35m (10.9ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "closed_at" boolean, "playlist_id" integer, "admin_user_id" integer, "description" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ db/schema.rb:56
  [1m[35m (10.1ms)[0m  [1m[35mCREATE  INDEX "index_rooms_on_playlist_id" ON "rooms" ("playlist_id")[0m
  â†³ db/schema.rb:56
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "samples"[0m
  â†³ db/schema.rb:67
  [1m[35m (10.8ms)[0m  [1m[35mCREATE TABLE "samples" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ db/schema.rb:67
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "user_playlists"[0m
  â†³ db/schema.rb:74
  [1m[35m (12.5ms)[0m  [1m[35mCREATE TABLE "user_playlists" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "playlist_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ db/schema.rb:74
  [1m[35m (8.5ms)[0m  [1m[35mCREATE  INDEX "index_user_playlists_on_playlist_id" ON "user_playlists" ("playlist_id")[0m
  â†³ db/schema.rb:74
  [1m[35m (11.1ms)[0m  [1m[35mCREATE  INDEX "index_user_playlists_on_user_id" ON "user_playlists" ("user_id")[0m
  â†³ db/schema.rb:74
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  â†³ db/schema.rb:83
  [1m[35m (11.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "username" varchar, "uid" varchar, "provider" varchar, "name" varchar, "nickname" varchar, "location" varchar, "image" varchar)[0m
  â†³ db/schema.rb:83
  [1m[35m (12.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  â†³ db/schema.rb:83
  [1m[35m (7.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  â†³ db/schema.rb:83
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  â†³ db/schema.rb:13
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ db/schema.rb:13
  [1m[35m (11.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20181215175135)[0m
  â†³ db/schema.rb:13
  [1m[35m (7.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20180626172812),
(20181022093226),
(20181213124039),
(20180704081952),
(20180704073137),
(20180626173752),
(20180704080049),
(20180704073549),
(20181210091407),
(20180917151310);

[0m
  â†³ db/schema.rb:13
  [1m[35m (10.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ db/schema.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-01-22 13:58:43.314643"], ["updated_at", "2019-01-22 13:58:43.314643"]]
  â†³ db/schema.rb:13
  [1m[35m (10.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2019-01-22 13:58:43.329163"], ["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (12.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Started GET "/cable" for 153.136.54.29 at 2019-01-22 13:59:18 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:59:18 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
Started GET "/playlists" for 153.136.54.29 at 2019-01-22 13:59:23 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:3
Completed 500 Internal Server Error in 20ms (ActiveRecord: 1.0ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/playlists_controller.rb:3:in `index'
Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:59:24 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/" for 153.136.54.29 at 2019-01-22 13:59:31 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms)


Started GET "/users/sign_in" for 153.136.54.29 at 2019-01-22 13:59:32 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (15.6ms)
Completed 200 OK in 427ms (Views: 409.6ms | ActiveRecord: 0.0ms)


Started GET "/cable" for 153.136.54.29 at 2019-01-22 13:59:34 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:59:34 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started GET "/users/auth/twitter" for 153.136.54.29 at 2019-01-22 13:59:39 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:59:40 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/users/auth/twitter/callback?oauth_token=d0oKYQAAAAAA4C82AAABaHXcBAw&oauth_verifier=4BJmwQpUNLtBe9j6qd2DxZLwel9S3qIu" for 153.136.54.29 at 2019-01-22 13:59:45 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Users::OmniauthCallbacksController#twitter as HTML
  Parameters: {"oauth_token"=>"d0oKYQAAAAAA4C82AAABaHXcBAw", "oauth_verifier"=>"4BJmwQpUNLtBe9j6qd2DxZLwel9S3qIu"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = ? AND "users"."provider" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["uid", "851493576366145536"], ["provider", "twitter"], ["LIMIT", 1]]
  â†³ app/models/user.rb:14
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:17
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "851493576366145536-twitter@example.com"], ["LIMIT", 1]]
  â†³ app/models/user.rb:17
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "uid", "provider", "name", "nickname", "location", "image") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "851493576366145536-twitter@example.com"], ["encrypted_password", "$2a$11$1Gs.BGAiewfEt2shBPFS.uM4q4hAgU6lNDeWf6J3n4ipihVAHDGLa"], ["created_at", "2019-01-22 13:59:46.333755"], ["updated_at", "2019-01-22 13:59:46.333755"], ["uid", "851493576366145536"], ["provider", "twitter"], ["name", "ã»ã’ã—"], ["nickname", "apdkop5430"], ["location", "é¹¿å…å³¶çœŒ"], ["image", "http://pbs.twimg.com/profile_images/1053528875316076544/JedQ955j_normal.jpg"]]
  â†³ app/models/user.rb:17
  [1m[35m (40.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users/omniauth_callbacks_controller.rb:17
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", "2019-01-22 13:59:46.380222"], ["last_sign_in_at", "2019-01-22 13:59:46.380222"], ["current_sign_in_ip", "153.136.54.29"], ["last_sign_in_ip", "153.136.54.29"], ["updated_at", "2019-01-22 13:59:46.381374"], ["id", 1]]
  â†³ app/controllers/users/omniauth_callbacks_controller.rb:17
  [1m[35m (23.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users/omniauth_callbacks_controller.rb:17
Redirected to https://sharebgm-higashi-c9-16.c9users.io/
Completed 302 Found in 240ms (ActiveRecord: 65.4ms)


Started GET "/" for 153.136.54.29 at 2019-01-22 13:59:47 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:12
  Rendered rooms/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 75ms (Views: 58.3ms | ActiveRecord: 0.6ms)


Started GET "/cable" for 153.136.54.29 at 2019-01-22 13:59:47 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:59:47 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started GET "/playlists/new" for 153.136.54.29 at 2019-01-22 13:59:49 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:7
  Rendering playlists/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered playlists/_form.html.erb (8.2ms)
  Rendered playlists/new.html.erb within layouts/application (10.6ms)
Completed 200 OK in 132ms (Views: 89.5ms | ActiveRecord: 1.9ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:59:50 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 13:59:50 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 13:59:50 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started POST "/playlists" for 153.136.54.29 at 2019-01-22 14:00:10 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Cd8X6M7lSLRtpPxOp3l5VK1Vn6G3/m3Eh600htWe9+xHj670V1qnUdVDy6mgXwO+6DUKBdosj2xBS9vYD0VHmQ==", "playlist"=>{"name"=>"aaa", "description"=>"aaa", "movie_urls_attributes"=>{"0"=>{"url"=>"https://www.youtube.com/watch?v=pWH11t2JKds&start_radio=1&list=RDpWH11t2JKds", "title"=>"aaa", "description"=>"aaa"}, "1"=>{"url"=>"", "title"=>"", "description"=>""}, "2"=>{"url"=>"", "title"=>"", "description"=>""}}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mPlaylist Create (1.0ms)[0m  [1m[32mINSERT INTO "playlists" ("name", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "aaa"], ["user_id", 1], ["description", "aaa"], ["created_at", "2019-01-22 14:00:10.658845"], ["updated_at", "2019-01-22 14:00:10.658845"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mMovieUrl Create (0.4ms)[0m  [1m[32mINSERT INTO "movie_urls" ("url", "playlist_id", "title", "description", "user_id", "created_at", "updated_at", "ytid") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["url", "https://www.youtube.com/watch?v=pWH11t2JKds&start_radio=1&list=RDpWH11t2JKds"], ["playlist_id", 1], ["title", "[\"ONE OK ROCK: Taking Off! OpiniÃ³n (á—’á—£á—•)Õž\"]"], ["description", "aaa"], ["user_id", 1], ["created_at", "2019-01-22 14:00:11.601271"], ["updated_at", "2019-01-22 14:00:11.601271"], ["ytid", "pWH11t2JKds"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[35m (11.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/playlists_controller.rb:26
[ActiveJob] Enqueued MovieUrlBroadcastJob (Job ID: 794aa68c-8b98-4e81-be5a-4e3a84592c28) to Async(default) with arguments: #<GlobalID:0x007f5e3045c500 @uri=#<URI::GID gid://sharebgm/MovieUrl/1>>
  [1m[36mMovieUrl Load (0.2ms)[0m  [1m[34mSELECT  "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://sharebgm-higashi-c9-16.c9users.io/playlists
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 302 Found in 993ms (ActiveRecord: 14.0ms)


[ActiveJob] [MovieUrlBroadcastJob] [794aa68c-8b98-4e81-be5a-4e3a84592c28] Performing MovieUrlBroadcastJob (Job ID: 794aa68c-8b98-4e81-be5a-4e3a84592c28) from Async(default) with arguments: #<GlobalID:0x007f5e303681f8 @uri=#<URI::GID gid://sharebgm/MovieUrl/1>>
[ActiveJob] [MovieUrlBroadcastJob] [794aa68c-8b98-4e81-be5a-4e3a84592c28]   [1m[36mPlaylist Load (3.0ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [794aa68c-8b98-4e81-be5a-4e3a84592c28]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [794aa68c-8b98-4e81-be5a-4e3a84592c28]   [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."playlist_id" = ? LIMIT ?[0m  [["playlist_id", 1], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [794aa68c-8b98-4e81-be5a-4e3a84592c28]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [794aa68c-8b98-4e81-be5a-4e3a84592c28]   Rendered movie_urls/_movie_url.html.erb (0.9ms)
[ActiveJob] [MovieUrlBroadcastJob] [794aa68c-8b98-4e81-be5a-4e3a84592c28] [ActionCable] Broadcasting to room:: {:movie_url=>"<li class=\"item\" data-movie_id=\"pWH11t2JKds\">\n  <div class=\"multiline-text\">[&quot;ONE OK ROCK: Taking Off! OpiniÃ³n (á—’á—£á—•)Õž&quot;]\n  </div>\n  <img src=\"https://i.ytimg.com/vi/pWH11t2JKds/default.jpg\" />\n</li>"}
[ActiveJob] [MovieUrlBroadcastJob] [794aa68c-8b98-4e81-be5a-4e3a84592c28] Performed MovieUrlBroadcastJob (Job ID: 794aa68c-8b98-4e81-be5a-4e3a84592c28) from Async(default) in 22.47ms
Started GET "/playlists" for 153.136.54.29 at 2019-01-22 14:00:11 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:3
  Rendering playlists/index.html.erb within layouts/application
  [1m[36mPlaylist Load (0.3ms)[0m  [1m[34mSELECT "playlists".* FROM "playlists" WHERE "playlists"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/playlists/index.html.erb:7
  Rendered playlists/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 58ms (Views: 54.9ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 14:00:12 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 14:00:13 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 14:00:13 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started GET "/playlists/1" for 153.136.54.29 at 2019-01-22 14:00:14 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlaylist Load (0.2ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:36
  Rendering playlists/show.html.erb within layouts/application
  [1m[36mMovieUrl Load (0.3ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 1]]
  â†³ app/views/playlists/show.html.erb:3
  Rendered playlists/show.html.erb within layouts/application (2.6ms)
Completed 200 OK in 73ms (Views: 69.7ms | ActiveRecord: 0.5ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 14:00:14 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 14:00:16 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 14:00:16 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started GET "/" for 153.136.54.29 at 2019-01-22 14:00:17 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:12
  Rendered rooms/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 68ms (Views: 64.2ms | ActiveRecord: 0.7ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 14:00:17 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 14:00:18 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 14:00:18 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started GET "/" for 153.136.54.29 at 2019-01-22 14:29:39 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:12
  Rendered rooms/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 126ms (Views: 89.9ms | ActiveRecord: 2.2ms)


Started GET "/cable" for 153.136.54.29 at 2019-01-22 14:29:40 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 14:29:40 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started GET "/playlists/new" for 153.136.54.29 at 2019-01-22 14:29:42 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:7
  Rendering playlists/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered playlists/_form.html.erb (5.7ms)
  Rendered playlists/new.html.erb within layouts/application (7.3ms)
Completed 200 OK in 94ms (Views: 64.9ms | ActiveRecord: 1.9ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 14:29:42 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 14:29:43 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 14:29:43 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started POST "/playlists" for 153.136.54.29 at 2019-01-22 14:30:02 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"VdqEJGQKVzNA6h9g8od4TTa8FMxCDFvzbzmMCV50hFkbij04/bW41vgNKIf1oQKnc9yBaC/euVup32NXhK80LA==", "playlist"=>{"name"=>"aaa", "description"=>"aaa", "movie_urls_attributes"=>{"0"=>{"url"=>"https://www.youtube.com/watch?v=pWH11t2JKds&start_radio=1&list=RDpWH11t2JKds", "title"=>"aaa", "description"=>"aa"}, "1"=>{"url"=>"", "title"=>"", "description"=>""}, "2"=>{"url"=>"", "title"=>"", "description"=>""}}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:17
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mPlaylist Create (0.5ms)[0m  [1m[32mINSERT INTO "playlists" ("name", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "aaa"], ["user_id", 1], ["description", "aaa"], ["created_at", "2019-01-22 14:30:02.374859"], ["updated_at", "2019-01-22 14:30:02.374859"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mMovieUrl Create (0.5ms)[0m  [1m[32mINSERT INTO "movie_urls" ("url", "playlist_id", "title", "description", "user_id", "created_at", "updated_at", "ytid") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["url", "https://www.youtube.com/watch?v=pWH11t2JKds&start_radio=1&list=RDpWH11t2JKds"], ["playlist_id", 2], ["title", "[\"K/DA - POP/STARS (ft Madison Beer, (G)I-DLE, Jaira Burns) | Official Music Video - League of Legends\"]"], ["description", "aa"], ["user_id", 1], ["created_at", "2019-01-22 14:30:03.082310"], ["updated_at", "2019-01-22 14:30:03.082310"], ["ytid", "pWH11t2JKds"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[35m (14.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/playlists_controller.rb:26
[ActiveJob] Enqueued MovieUrlBroadcastJob (Job ID: a257075c-a9c4-47ac-9e41-34a761308e7a) to Async(default) with arguments: #<GlobalID:0x007f5e3054f4d0 @uri=#<URI::GID gid://sharebgm/MovieUrl/2>>
  [1m[36mMovieUrl Load (0.2ms)[0m  [1m[34mSELECT  "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to https://sharebgm-higashi-c9-16.c9users.io/playlists
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 302 Found in 746ms (ActiveRecord: 16.7ms)


[ActiveJob] [MovieUrlBroadcastJob] [a257075c-a9c4-47ac-9e41-34a761308e7a] Performing MovieUrlBroadcastJob (Job ID: a257075c-a9c4-47ac-9e41-34a761308e7a) from Async(default) with arguments: #<GlobalID:0x007f5e3053c6c8 @uri=#<URI::GID gid://sharebgm/MovieUrl/2>>
[ActiveJob] [MovieUrlBroadcastJob] [a257075c-a9c4-47ac-9e41-34a761308e7a]   [1m[36mPlaylist Load (0.3ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [a257075c-a9c4-47ac-9e41-34a761308e7a]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [a257075c-a9c4-47ac-9e41-34a761308e7a]   [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."playlist_id" = ? LIMIT ?[0m  [["playlist_id", 2], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [a257075c-a9c4-47ac-9e41-34a761308e7a]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [a257075c-a9c4-47ac-9e41-34a761308e7a]   Rendered movie_urls/_movie_url.html.erb (0.8ms)
[ActiveJob] [MovieUrlBroadcastJob] [a257075c-a9c4-47ac-9e41-34a761308e7a] [ActionCable] Broadcasting to room:: {:movie_url=>"<li class=\"item\" data-movie_id=\"pWH11t2JKds\">\n  <div class=\"multiline-text\">[&quot;K/DA - POP/STARS (ft Madison Beer, (G)I-DLE, Jaira Burns) | Official Music Video - League of Legends&quot;]\n  </div>\n  <img src=\"https://i.ytimg.com/vi/pWH11t2JKds/default.jpg\" />\n</li>"}
[ActiveJob] [MovieUrlBroadcastJob] [a257075c-a9c4-47ac-9e41-34a761308e7a] Performed MovieUrlBroadcastJob (Job ID: a257075c-a9c4-47ac-9e41-34a761308e7a) from Async(default) in 14.49ms
Started GET "/playlists" for 153.136.54.29 at 2019-01-22 14:30:03 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:3
  Rendering playlists/index.html.erb within layouts/application
  [1m[36mPlaylist Load (0.3ms)[0m  [1m[34mSELECT "playlists".* FROM "playlists" WHERE "playlists"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/playlists/index.html.erb:7
  Rendered playlists/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 69ms (Views: 65.0ms | ActiveRecord: 0.7ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 14:30:03 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 14:30:04 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 14:30:04 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started GET "/playlists/2" for 153.136.54.29 at 2019-01-22 14:30:05 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mPlaylist Load (0.2ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:36
  Rendering playlists/show.html.erb within layouts/application
  [1m[36mMovieUrl Load (0.4ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 2]]
  â†³ app/views/playlists/show.html.erb:3
  Rendered playlists/show.html.erb within layouts/application (4.0ms)
Completed 200 OK in 86ms (Views: 82.3ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 14:30:06 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 14:30:06 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 14:30:06 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 14:30:16 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 14:30:18 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 14:30:18 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started GET "/playlists/1" for 153.136.54.29 at 2019-01-22 14:30:19 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlaylist Load (0.2ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:36
  Rendering playlists/show.html.erb within layouts/application
  [1m[36mMovieUrl Load (0.2ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 1]]
  â†³ app/views/playlists/show.html.erb:3
  Rendered playlists/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 61ms (Views: 58.9ms | ActiveRecord: 0.4ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 14:30:19 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 14:30:19 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 14:30:19 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 14:30:21 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 14:30:21 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 14:30:21 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started GET "/playlists/new" for 153.136.54.29 at 2019-01-22 15:26:35 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:7
  Rendering playlists/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.7ms)
  Rendered playlists/_form.html.erb (7.4ms)
  Rendered playlists/new.html.erb within layouts/application (9.7ms)
Completed 200 OK in 279ms (Views: 199.9ms | ActiveRecord: 2.9ms)


Started GET "/cable" for 153.136.54.29 at 2019-01-22 15:26:38 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 15:26:38 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
Started POST "/playlists" for 153.136.54.29 at 2019-01-22 15:26:49 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"GE4z5e4O0666K5Io+tQmtfoB50eh4Ne1ZXIdVZU4zBNWHor5d7E8SwLMpc/98lxfv2Fy48wyNR2jlPILT+N8Zg==", "playlist"=>{"name"=>"aa", "description"=>"aa", "movie_urls_attributes"=>{"0"=>{"url"=>"https://www.youtube.com/watch?v=g91jthwTpjk&start_radio=1&list=RDg91jthwTpjk", "title"=>"", "description"=>""}, "1"=>{"url"=>"", "title"=>"", "description"=>""}, "2"=>{"url"=>"", "title"=>"", "description"=>""}}}}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mPlaylist Create (1.2ms)[0m  [1m[32mINSERT INTO "playlists" ("name", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "aa"], ["user_id", 1], ["description", "aa"], ["created_at", "2019-01-22 15:26:49.660435"], ["updated_at", "2019-01-22 15:26:49.660435"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mMovieUrl Create (0.4ms)[0m  [1m[32mINSERT INTO "movie_urls" ("url", "playlist_id", "title", "description", "user_id", "created_at", "updated_at", "ytid") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["url", "https://www.youtube.com/watch?v=g91jthwTpjk&start_radio=1&list=RDg91jthwTpjk"], ["playlist_id", 3], ["title", "[\"K/DA - POP/STARS (ft Madison Beer, (G)I-DLE, Jaira Burns) | Official Music Video - League of Legends\"]"], ["description", ""], ["user_id", 1], ["created_at", "2019-01-22 15:26:49.997214"], ["updated_at", "2019-01-22 15:26:49.997214"], ["ytid", "g91jthwTpjk"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[35m (13.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/playlists_controller.rb:26
[ActiveJob] Enqueued MovieUrlBroadcastJob (Job ID: 485ec158-4449-4bd6-9a30-4809dfaccc1d) to Async(default) with arguments: #<GlobalID:0x007f5e28d98bf8 @uri=#<URI::GID gid://sharebgm/MovieUrl/3>>
  [1m[36mMovieUrl Load (0.2ms)[0m  [1m[34mSELECT  "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Redirected to https://sharebgm-higashi-c9-16.c9users.io/playlists
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 302 Found in 890ms (ActiveRecord: 17.2ms)


[ActiveJob] [MovieUrlBroadcastJob] [485ec158-4449-4bd6-9a30-4809dfaccc1d] Performing MovieUrlBroadcastJob (Job ID: 485ec158-4449-4bd6-9a30-4809dfaccc1d) from Async(default) with arguments: #<GlobalID:0x007f5e28d3cf88 @uri=#<URI::GID gid://sharebgm/MovieUrl/3>>
[ActiveJob] [MovieUrlBroadcastJob] [485ec158-4449-4bd6-9a30-4809dfaccc1d]   [1m[36mPlaylist Load (0.2ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [485ec158-4449-4bd6-9a30-4809dfaccc1d]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [485ec158-4449-4bd6-9a30-4809dfaccc1d]   [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."playlist_id" = ? LIMIT ?[0m  [["playlist_id", 3], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [485ec158-4449-4bd6-9a30-4809dfaccc1d]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [485ec158-4449-4bd6-9a30-4809dfaccc1d]   Rendered movie_urls/_movie_url.html.erb (0.8ms)
[ActiveJob] [MovieUrlBroadcastJob] [485ec158-4449-4bd6-9a30-4809dfaccc1d] [ActionCable] Broadcasting to room:: {:movie_url=>"<li class=\"item\" data-movie_id=\"g91jthwTpjk\">\n  <div class=\"multiline-text\">[&quot;K/DA - POP/STARS (ft Madison Beer, (G)I-DLE, Jaira Burns) | Official Music Video - League of Legends&quot;]\n  </div>\n  <img src=\"https://i.ytimg.com/vi/g91jthwTpjk/default.jpg\" />\n</li>"}
[ActiveJob] [MovieUrlBroadcastJob] [485ec158-4449-4bd6-9a30-4809dfaccc1d] Performed MovieUrlBroadcastJob (Job ID: 485ec158-4449-4bd6-9a30-4809dfaccc1d) from Async(default) in 15.75ms
Started GET "/playlists" for 153.136.54.29 at 2019-01-22 15:26:50 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:3
  Rendering playlists/index.html.erb within layouts/application
  [1m[36mPlaylist Load (0.3ms)[0m  [1m[34mSELECT "playlists".* FROM "playlists" WHERE "playlists"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/playlists/index.html.erb:7
  Rendered playlists/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 82ms (Views: 78.7ms | ActiveRecord: 0.7ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 15:26:51 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 15:26:53 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 15:26:53 +0000
Started GET "/playlists/3" for 153.136.54.29 at 2019-01-22 15:26:53 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mPlaylist Load (0.2ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:36
  Rendering playlists/show.html.erb within layouts/application
  [1m[36mMovieUrl Load (0.3ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 3]]
  â†³ app/views/playlists/show.html.erb:3
  Rendered playlists/show.html.erb within layouts/application (2.8ms)
Completed 200 OK in 68ms (Views: 64.5ms | ActiveRecord: 0.5ms)


Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 15:26:53 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 15:26:53 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 15:26:53 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started GET "/playlists/3" for 153.136.54.29 at 2019-01-22 15:45:17 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mPlaylist Load (0.3ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:36
  Rendering playlists/show.html.erb within layouts/application
  [1m[36mMovieUrl Load (0.2ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 3]]
  â†³ app/views/playlists/show.html.erb:3
  Rendered playlists/show.html.erb within layouts/application (92.5ms)
Completed 200 OK in 172ms (Views: 78.0ms | ActiveRecord: 78.4ms)


Started GET "/cable" for 153.136.54.29 at 2019-01-22 15:45:19 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 15:45:19 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started GET "/" for 153.136.54.29 at 2019-01-22 15:45:20 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:12
  Rendered rooms/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 78ms (Views: 57.4ms | ActiveRecord: 1.5ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 15:45:21 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 15:45:22 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 15:45:22 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
Started GET "/playlists/new" for 153.136.54.29 at 2019-01-22 15:45:22 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:7
  Rendering playlists/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered playlists/_form.html.erb (5.6ms)
  Rendered playlists/new.html.erb within layouts/application (7.7ms)
Completed 200 OK in 74ms (Views: 65.0ms | ActiveRecord: 0.4ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 15:45:22 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 15:45:23 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 15:45:23 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started POST "/playlists" for 153.136.54.29 at 2019-01-22 15:45:29 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"+NfD1p5Io/DQisWecbPhpzyi6Qfhq1PT3PC3e6I50z62h3rKB/dMFWht8nl2lZtNecJ8o4x5sXsaFlgleOJjSw==", "playlist"=>{"name"=>"aa", "description"=>"aa", "movie_urls_attributes"=>{"0"=>{"url"=>"https://www.youtube.com/watch?v=g91jthwTpjk&start_radio=1&list=RDg91jthwTpjk", "title"=>"", "description"=>""}, "1"=>{"url"=>"", "title"=>"", "description"=>""}, "2"=>{"url"=>"", "title"=>"", "description"=>""}}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:17
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.5ms)


  
NoMethodError (undefined method `create' for #<Playlist:0x007f5e485b88c8>
Did you mean?  created_at):
  
app/controllers/playlists_controller.rb:26:in `create'
Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 15:45:29 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started POST "/playlists" for 153.136.54.29 at 2019-01-22 15:46:16 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"+NfD1p5Io/DQisWecbPhpzyi6Qfhq1PT3PC3e6I50z62h3rKB/dMFWht8nl2lZtNecJ8o4x5sXsaFlgleOJjSw==", "playlist"=>{"name"=>"aa", "description"=>"aa", "movie_urls_attributes"=>{"0"=>{"url"=>"https://www.youtube.com/watch?v=g91jthwTpjk&start_radio=1&list=RDg91jthwTpjk", "title"=>"", "description"=>""}, "1"=>{"url"=>"", "title"=>"", "description"=>""}, "2"=>{"url"=>"", "title"=>"", "description"=>""}}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mPlaylist Create (0.4ms)[0m  [1m[32mINSERT INTO "playlists" ("name", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "aa"], ["user_id", 1], ["description", "aa"], ["created_at", "2019-01-22 15:46:16.388383"], ["updated_at", "2019-01-22 15:46:16.388383"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mMovieUrl Create (0.5ms)[0m  [1m[32mINSERT INTO "movie_urls" ("url", "playlist_id", "title", "description", "user_id", "created_at", "updated_at", "ytid") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["url", "https://www.youtube.com/watch?v=g91jthwTpjk&start_radio=1&list=RDg91jthwTpjk"], ["playlist_id", 4], ["title", "[\"K/DA - POP/STARS (ft Madison Beer, (G)I-DLE, Jaira Burns) | Official Music Video - League of Legends\"]"], ["description", ""], ["user_id", 1], ["created_at", "2019-01-22 15:46:16.843727"], ["updated_at", "2019-01-22 15:46:16.843727"], ["ytid", "g91jthwTpjk"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[35m (13.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/playlists_controller.rb:26
[ActiveJob] Enqueued MovieUrlBroadcastJob (Job ID: 04e30cda-be5a-4123-a1de-cff6a0d5b201) to Async(default) with arguments: #<GlobalID:0x007f5e2a293cd8 @uri=#<URI::GID gid://sharebgm/MovieUrl/4>>
Redirected to https://sharebgm-higashi-c9-16.c9users.io/playlists
Completed 302 Found in 544ms (ActiveRecord: 17.7ms)


  [1m[36mMovieUrl Load (0.3ms)[0m  [1m[34mSELECT  "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[ActiveJob] [MovieUrlBroadcastJob] [04e30cda-be5a-4123-a1de-cff6a0d5b201] Performing MovieUrlBroadcastJob (Job ID: 04e30cda-be5a-4123-a1de-cff6a0d5b201) from Async(default) with arguments: #<GlobalID:0x007f5e28c36bc0 @uri=#<URI::GID gid://sharebgm/MovieUrl/4>>
[ActiveJob] [MovieUrlBroadcastJob] [04e30cda-be5a-4123-a1de-cff6a0d5b201]   [1m[36mPlaylist Load (0.2ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [04e30cda-be5a-4123-a1de-cff6a0d5b201]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [04e30cda-be5a-4123-a1de-cff6a0d5b201]   [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."playlist_id" = ? LIMIT ?[0m  [["playlist_id", 4], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [04e30cda-be5a-4123-a1de-cff6a0d5b201]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [04e30cda-be5a-4123-a1de-cff6a0d5b201]   Rendered movie_urls/_movie_url.html.erb (0.8ms)
[ActiveJob] [MovieUrlBroadcastJob] [04e30cda-be5a-4123-a1de-cff6a0d5b201] [ActionCable] Broadcasting to room:: {:movie_url=>"<li class=\"item\" data-movie_id=\"g91jthwTpjk\">\n  <div class=\"multiline-text\">[&quot;K/DA - POP/STARS (ft Madison Beer, (G)I-DLE, Jaira Burns) | Official Music Video - League of Legends&quot;]\n  </div>\n  <img src=\"https://i.ytimg.com/vi/g91jthwTpjk/default.jpg\" />\n</li>"}
[ActiveJob] [MovieUrlBroadcastJob] [04e30cda-be5a-4123-a1de-cff6a0d5b201] Performed MovieUrlBroadcastJob (Job ID: 04e30cda-be5a-4123-a1de-cff6a0d5b201) from Async(default) in 39.27ms
Started GET "/playlists" for 153.136.54.29 at 2019-01-22 15:46:16 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:3
  Rendering playlists/index.html.erb within layouts/application
  [1m[36mPlaylist Load (0.3ms)[0m  [1m[34mSELECT "playlists".* FROM "playlists" WHERE "playlists"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/playlists/index.html.erb:7
  Rendered playlists/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 100ms (Views: 60.5ms | ActiveRecord: 1.5ms)


Started GET "/cable" for 153.136.54.29 at 2019-01-22 15:46:17 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 15:46:17 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started GET "/playlists/4" for 153.136.54.29 at 2019-01-22 15:46:22 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mPlaylist Load (0.2ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:36
  Rendering playlists/show.html.erb within layouts/application
  [1m[36mMovieUrl Load (0.3ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 4]]
  â†³ app/views/playlists/show.html.erb:3
  Rendered playlists/show.html.erb within layouts/application (3.9ms)
Completed 200 OK in 95ms (Views: 92.5ms | ActiveRecord: 0.5ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 15:46:22 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 15:46:23 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 15:46:23 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 15:46:33 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 15:46:34 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 15:46:34 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started GET "/playlists/new" for 153.136.54.29 at 2019-01-22 16:57:09 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:7
  Rendering playlists/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.7ms)
  Rendered playlists/_form.html.erb (11.1ms)
  Rendered playlists/new.html.erb within layouts/application (15.8ms)
Completed 200 OK in 162ms (Views: 101.1ms | ActiveRecord: 3.1ms)


Started GET "/cable" for 153.136.54.29 at 2019-01-22 16:57:10 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 16:57:10 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started POST "/playlists" for 153.136.54.29 at 2019-01-22 16:57:13 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"rEReANg5E7J6YQAj2MIz8FqPL1W3wIJsitfx6HX4hVXiFOccQYb8V8KGN8Tf5EkaH++68doSYMRMMR62ryM1IA==", "playlist"=>{"name"=>"aa", "description"=>"aa", "movie_urls_attributes"=>{"0"=>{"url"=>"https://www.youtube.com/watch?v=tIe-kXTmj3E&start_radio=1&list=RDMMtIe-kXTmj3E", "title"=>"", "description"=>""}, "1"=>{"url"=>"", "title"=>"", "description"=>""}, "2"=>{"url"=>"", "title"=>"", "description"=>""}}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mPlaylist Create (0.5ms)[0m  [1m[32mINSERT INTO "playlists" ("name", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "aa"], ["user_id", 1], ["description", "aa"], ["created_at", "2019-01-22 16:57:13.934300"], ["updated_at", "2019-01-22 16:57:13.934300"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mMovieUrl Create (0.4ms)[0m  [1m[32mINSERT INTO "movie_urls" ("url", "playlist_id", "title", "description", "user_id", "created_at", "updated_at", "ytid") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["url", "https://www.youtube.com/watch?v=tIe-kXTmj3E&start_radio=1&list=RDMMtIe-kXTmj3E"], ["playlist_id", 5], ["title", "[\"K/DA - POP/STARS (ft Madison Beer, (G)I-DLE, Jaira Burns) | Official Music Video - League of Legends\"]"], ["description", ""], ["user_id", 1], ["created_at", "2019-01-22 16:57:14.446177"], ["updated_at", "2019-01-22 16:57:14.446177"], ["ytid", "tIe-kXTmj3E"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[35m (15.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/playlists_controller.rb:26
[ActiveJob] Enqueued MovieUrlBroadcastJob (Job ID: 671fa802-1588-4a1e-b1e7-5c31dc2c5996) to Async(default) with arguments: #<GlobalID:0x007f5e28a367a8 @uri=#<URI::GID gid://sharebgm/MovieUrl/5>>
  [1m[36mMovieUrl Load (0.2ms)[0m  [1m[34mSELECT  "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
Redirected to https://sharebgm-higashi-c9-16.c9users.io/playlists
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 302 Found in 550ms (ActiveRecord: 16.8ms)


[ActiveJob] [MovieUrlBroadcastJob] [671fa802-1588-4a1e-b1e7-5c31dc2c5996] Performing MovieUrlBroadcastJob (Job ID: 671fa802-1588-4a1e-b1e7-5c31dc2c5996) from Async(default) with arguments: #<GlobalID:0x007f5e289d3888 @uri=#<URI::GID gid://sharebgm/MovieUrl/5>>
[ActiveJob] [MovieUrlBroadcastJob] [671fa802-1588-4a1e-b1e7-5c31dc2c5996]   [1m[36mPlaylist Load (0.3ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [671fa802-1588-4a1e-b1e7-5c31dc2c5996]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [671fa802-1588-4a1e-b1e7-5c31dc2c5996]   [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."playlist_id" = ? LIMIT ?[0m  [["playlist_id", 5], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [671fa802-1588-4a1e-b1e7-5c31dc2c5996]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [671fa802-1588-4a1e-b1e7-5c31dc2c5996]   Rendered movie_urls/_movie_url.html.erb (0.8ms)
[ActiveJob] [MovieUrlBroadcastJob] [671fa802-1588-4a1e-b1e7-5c31dc2c5996] [ActionCable] Broadcasting to room:: {:movie_url=>"<li class=\"item\" data-movie_id=\"tIe-kXTmj3E\">\n  <div class=\"multiline-text\">[&quot;K/DA - POP/STARS (ft Madison Beer, (G)I-DLE, Jaira Burns) | Official Music Video - League of Legends&quot;]\n  </div>\n  <img src=\"https://i.ytimg.com/vi/tIe-kXTmj3E/default.jpg\" />\n</li>"}
[ActiveJob] [MovieUrlBroadcastJob] [671fa802-1588-4a1e-b1e7-5c31dc2c5996] Performed MovieUrlBroadcastJob (Job ID: 671fa802-1588-4a1e-b1e7-5c31dc2c5996) from Async(default) in 14.18ms
Started GET "/playlists" for 153.136.54.29 at 2019-01-22 16:57:14 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:3
  Rendering playlists/index.html.erb within layouts/application
  [1m[36mPlaylist Load (0.4ms)[0m  [1m[34mSELECT "playlists".* FROM "playlists" WHERE "playlists"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/playlists/index.html.erb:7
  Rendered playlists/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 81ms (Views: 76.7ms | ActiveRecord: 0.9ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 16:57:14 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 16:57:15 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 16:57:15 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started GET "/playlists/new" for 153.136.54.29 at 2019-01-22 16:57:16 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:7
  Rendering playlists/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered playlists/_form.html.erb (5.2ms)
  Rendered playlists/new.html.erb within layouts/application (6.6ms)
Completed 200 OK in 71ms (Views: 66.5ms | ActiveRecord: 0.4ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 16:57:16 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 16:57:17 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 16:57:17 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started POST "/playlists" for 153.136.54.29 at 2019-01-22 16:57:22 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"UsY79cIssUvjhmcX943SIoqOLgh7NDe+l2BOaopTDeccloLpW5NerlthUPDwq6jIz+67rBbm1RZRhqE0UIi9kg==", "playlist"=>{"name"=>"bb", "description"=>"bb", "movie_urls_attributes"=>{"0"=>{"url"=>"https://www.youtube.com/watch?v=tIe-kXTmj3E&start_radio=1&list=RDMMtIe-kXTmj3E", "title"=>"", "description"=>""}, "1"=>{"url"=>"", "title"=>"", "description"=>""}, "2"=>{"url"=>"", "title"=>"", "description"=>""}}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mPlaylist Create (1.2ms)[0m  [1m[32mINSERT INTO "playlists" ("name", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "bb"], ["user_id", 1], ["description", "bb"], ["created_at", "2019-01-22 16:57:22.962335"], ["updated_at", "2019-01-22 16:57:22.962335"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[36mMovieUrl Create (0.4ms)[0m  [1m[32mINSERT INTO "movie_urls" ("url", "playlist_id", "title", "description", "user_id", "created_at", "updated_at", "ytid") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["url", "https://www.youtube.com/watch?v=tIe-kXTmj3E&start_radio=1&list=RDMMtIe-kXTmj3E"], ["playlist_id", 6], ["title", "[\"K/DA - POP/STARS (ft Madison Beer, (G)I-DLE, Jaira Burns) | Official Music Video - League of Legends\"]"], ["description", ""], ["user_id", 1], ["created_at", "2019-01-22 16:57:23.414579"], ["updated_at", "2019-01-22 16:57:23.414579"], ["ytid", "tIe-kXTmj3E"]]
  â†³ app/controllers/playlists_controller.rb:26
  [1m[35m (14.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/playlists_controller.rb:26
[ActiveJob] Enqueued MovieUrlBroadcastJob (Job ID: 33abb5ea-0975-4173-913f-72cc9911d40b) to Async(default) with arguments: #<GlobalID:0x007f5e30505498 @uri=#<URI::GID gid://sharebgm/MovieUrl/6>>
  [1m[36mMovieUrl Load (0.6ms)[0m  [1m[34mSELECT  "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
Redirected to https://sharebgm-higashi-c9-16.c9users.io/playlists
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 302 Found in 481ms (ActiveRecord: 16.8ms)


[ActiveJob] [MovieUrlBroadcastJob] [33abb5ea-0975-4173-913f-72cc9911d40b] Performing MovieUrlBroadcastJob (Job ID: 33abb5ea-0975-4173-913f-72cc9911d40b) from Async(default) with arguments: #<GlobalID:0x007f5e304dab80 @uri=#<URI::GID gid://sharebgm/MovieUrl/6>>
[ActiveJob] [MovieUrlBroadcastJob] [33abb5ea-0975-4173-913f-72cc9911d40b]   [1m[36mPlaylist Load (0.3ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [33abb5ea-0975-4173-913f-72cc9911d40b]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [33abb5ea-0975-4173-913f-72cc9911d40b]   [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."playlist_id" = ? LIMIT ?[0m  [["playlist_id", 6], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [33abb5ea-0975-4173-913f-72cc9911d40b]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [33abb5ea-0975-4173-913f-72cc9911d40b]   Rendered movie_urls/_movie_url.html.erb (0.7ms)
[ActiveJob] [MovieUrlBroadcastJob] [33abb5ea-0975-4173-913f-72cc9911d40b] [ActionCable] Broadcasting to room:: {:movie_url=>"<li class=\"item\" data-movie_id=\"tIe-kXTmj3E\">\n  <div class=\"multiline-text\">[&quot;K/DA - POP/STARS (ft Madison Beer, (G)I-DLE, Jaira Burns) | Official Music Video - League of Legends&quot;]\n  </div>\n  <img src=\"https://i.ytimg.com/vi/tIe-kXTmj3E/default.jpg\" />\n</li>"}
[ActiveJob] [MovieUrlBroadcastJob] [33abb5ea-0975-4173-913f-72cc9911d40b] Performed MovieUrlBroadcastJob (Job ID: 33abb5ea-0975-4173-913f-72cc9911d40b) from Async(default) in 11.32ms
Started GET "/playlists" for 153.136.54.29 at 2019-01-22 16:57:24 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:3
  Rendering playlists/index.html.erb within layouts/application
  [1m[36mPlaylist Load (0.3ms)[0m  [1m[34mSELECT "playlists".* FROM "playlists" WHERE "playlists"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/playlists/index.html.erb:7
  Rendered playlists/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 69ms (Views: 65.2ms | ActiveRecord: 0.7ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 16:57:24 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 16:57:25 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 16:57:25 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started GET "/playlists/6" for 153.136.54.29 at 2019-01-22 16:57:27 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mPlaylist Load (0.2ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:36
  Rendering playlists/show.html.erb within layouts/application
  [1m[36mMovieUrl Load (0.3ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/playlists/show.html.erb:3
  Rendered playlists/show.html.erb within layouts/application (2.6ms)
Completed 200 OK in 76ms (Views: 73.1ms | ActiveRecord: 0.5ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 16:57:28 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 16:57:28 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 16:57:28 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started GET "/" for 153.136.54.29 at 2019-01-22 16:57:30 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:12
  Rendered rooms/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 63ms (Views: 59.1ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 16:57:30 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 16:57:30 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 16:57:30 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
Started GET "/rooms/new" for 153.136.54.29 at 2019-01-22 16:57:31 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by RoomsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mPlaylist Load (0.2ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:89
  Rendering rooms/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.6ms)
  [1m[36mPlaylist Load (0.4ms)[0m  [1m[34mSELECT "playlists".* FROM "playlists" WHERE "playlists"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/rooms/new.html.erb:14
  Rendered rooms/new.html.erb within layouts/application (8.8ms)
Completed 200 OK in 90ms (Views: 75.7ms | ActiveRecord: 1.0ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 16:57:31 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 16:57:32 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 16:57:32 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started POST "/rooms" for 153.136.54.29 at 2019-01-22 16:57:37 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by RoomsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"odIPWaM3zE9qgQdmch1xwEfgzhusH1eEeWj1yVwSeTvvgrZFOogjqtJmMIF1OwsqAoBbv8HNtSy/jhqXhsnJTg==", "room"=>{"name"=>"bb", "description"=>"bb", "playlist_id"=>"6"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/rooms_controller.rb:97
  [1m[36mPlaylist Load (0.2ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:97
  [1m[36mRoom Create (0.4ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "playlist_id", "admin_user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "bb"], ["playlist_id", 6], ["admin_user_id", 1], ["description", "bb"], ["created_at", "2019-01-22 16:57:37.070461"], ["updated_at", "2019-01-22 16:57:37.070461"]]
  â†³ app/controllers/rooms_controller.rb:97
  [1m[35m (13.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/rooms_controller.rb:97
Redirected to https://sharebgm-higashi-c9-16.c9users.io/rooms
Completed 302 Found in 26ms (ActiveRecord: 14.6ms)


Started GET "/rooms" for 153.136.54.29 at 2019-01-22 16:57:37 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:12
  Rendered rooms/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 63ms (Views: 59.9ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 16:57:37 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 16:57:38 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 16:57:38 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/rooms/1" for 153.136.54.29 at 2019-01-22 16:57:38 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
  Rendering rooms/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[36mRoomChatLog Load (0.2ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:10
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:22
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered rooms/show.html.erb within layouts/application (19.5ms)
Completed 200 OK in 135ms (Views: 105.3ms | ActiveRecord: 2.1ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 16:57:38 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 16:57:39 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 16:57:39 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.5ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 1], ["created_at", "2019-01-22 16:57:39.498437"], ["updated_at", "2019-01-22 16:57:39.498437"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (55.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>1}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>1} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#movie_create({"url"=>"https://www.youtube.com/watch?v=pWH11t2JKds&start_radio=1&list=RDpWH11t2JKds", "room_id"=>1, "user_id"=>1})
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:41
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:42
  [1m[36mPlaylist Load (0.2ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:42
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:42
  [1m[36mMovieUrl Create (4.2ms)[0m  [1m[32mINSERT INTO "movie_urls" ("url", "playlist_id", "title", "user_id", "created_at", "updated_at", "ytid") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["url", "https://www.youtube.com/watch?v=pWH11t2JKds&start_radio=1&list=RDpWH11t2JKds"], ["playlist_id", 6], ["title", "[\"K/DA - POP/STARS (ft Madison Beer, (G)I-DLE, Jaira Burns) | Official Music Video - League of Legends\"]"], ["user_id", 1], ["created_at", "2019-01-22 17:02:23.936488"], ["updated_at", "2019-01-22 17:02:23.936488"], ["ytid", "pWH11t2JKds"]]
  â†³ app/channels/room_channel.rb:42
  [1m[35m (11.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:42
[ActiveJob] Enqueued MovieUrlBroadcastJob (Job ID: 8a74d82b-0ae2-4ec4-988b-9af0702a2599) to Async(default) with arguments: #<GlobalID:0x007f5e28c29ec0 @uri=#<URI::GID gid://sharebgm/MovieUrl/7>>
  [1m[36mMovieUrl Load (0.8ms)[0m  [1m[34mSELECT  "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[ActiveJob] [MovieUrlBroadcastJob] [8a74d82b-0ae2-4ec4-988b-9af0702a2599] Performing MovieUrlBroadcastJob (Job ID: 8a74d82b-0ae2-4ec4-988b-9af0702a2599) from Async(default) with arguments: #<GlobalID:0x007f5e28d3de60 @uri=#<URI::GID gid://sharebgm/MovieUrl/7>>
[ActiveJob] [MovieUrlBroadcastJob] [8a74d82b-0ae2-4ec4-988b-9af0702a2599]   [1m[36mPlaylist Load (0.2ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [8a74d82b-0ae2-4ec4-988b-9af0702a2599]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [8a74d82b-0ae2-4ec4-988b-9af0702a2599]   [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."playlist_id" = ? LIMIT ?[0m  [["playlist_id", 6], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [8a74d82b-0ae2-4ec4-988b-9af0702a2599]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [8a74d82b-0ae2-4ec4-988b-9af0702a2599]   Rendered movie_urls/_movie_url.html.erb (2.1ms)
[ActiveJob] [MovieUrlBroadcastJob] [8a74d82b-0ae2-4ec4-988b-9af0702a2599] [ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:movie_url=>"<li class=\"item\" data-movie_id=\"pWH11t2JKds\">\n  <div class=\"multiline-text\">[&quot;K/DA - POP/STARS (ft Madison Beer, (G)I-DLE, Jaira Burns) | Official Music Video - League of Legends&quot;]\n  </div>\n  <img src=\"https://i.ytimg.com/vi/pWH11t2JKds/default.jpg\" />\n</li>"}
[ActiveJob] [MovieUrlBroadcastJob] [8a74d82b-0ae2-4ec4-988b-9af0702a2599] Performed MovieUrlBroadcastJob (Job ID: 8a74d82b-0ae2-4ec4-988b-9af0702a2599) from Async(default) in 15.31ms
RoomChannel transmitting {"movie_url"=>"<li class=\"item\" data-movie_id=\"pWH11t2JKds\">\n  <div class=\"multiline-text\">[&quot;K/DA - POP/STARS (ft Madison Beer, (G)I-DLE, Jaira Burns) | Official Music Video - League of Legends&quot;]\n  </div>\n  <img src=\"https://i.ytimg.com/vi/pWH11t2JKds/default.jpg\" />\n</li>"} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/javascriptd/room_show.js?_=1548176258904" for 153.136.54.29 at 2019-01-22 17:02:25 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
ActionController::RoutingError (No route matches [GET] "/rooms/javascriptd/room_show.js"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:22:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/rooms/1" for 153.136.54.29 at 2019-01-22 17:02:41 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[36mRoomChatLog Load (0.2ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:10
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.2ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:22
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered rooms/show.html.erb within layouts/application (14.7ms)
Completed 200 OK in 180ms (Views: 173.3ms | ActiveRecord: 1.4ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 17:02:42 +0000
  [1m[36mRoomMember Load (0.5ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[36mRoomMember Destroy (0.4ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 1]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (12.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:19
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>0}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>0} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 153.136.54.29 at 2019-01-22 17:02:43 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 17:02:43 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.4ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 1], ["created_at", "2019-01-22 17:02:43.373062"], ["updated_at", "2019-01-22 17:02:43.373062"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (12.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>1}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>1} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#sync({"time"=>0, "id"=>"tIe-kXTmj3E", "room_id"=>1})
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:26
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:time=>0, :id=>"tIe-kXTmj3E"}
RoomChannel transmitting {"time"=>0, "id"=>"tIe-kXTmj3E"} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#movie_create({"url"=>"https://www.youtube.com/watch?v=pWH11t2JKds&start_radio=1&list=RDpWH11t2JKds", "room_id"=>1, "user_id"=>1})
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:41
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:42
  [1m[36mPlaylist Load (0.2ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:42
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:42
  [1m[36mMovieUrl Create (0.7ms)[0m  [1m[32mINSERT INTO "movie_urls" ("url", "playlist_id", "title", "user_id", "created_at", "updated_at", "ytid") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["url", "https://www.youtube.com/watch?v=pWH11t2JKds&start_radio=1&list=RDpWH11t2JKds"], ["playlist_id", 6], ["title", "[\"K/DA - POP/STARS (ft Madison Beer, (G)I-DLE, Jaira Burns) | Official Music Video - League of Legends\"]"], ["user_id", 1], ["created_at", "2019-01-22 17:03:06.437002"], ["updated_at", "2019-01-22 17:03:06.437002"], ["ytid", "pWH11t2JKds"]]
  â†³ app/channels/room_channel.rb:42
  [1m[35m (11.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:42
[ActiveJob] Enqueued MovieUrlBroadcastJob (Job ID: 3c7bfac9-4081-476b-82a9-38006032a776) to Async(default) with arguments: #<GlobalID:0x007f5e297d1bb0 @uri=#<URI::GID gid://sharebgm/MovieUrl/8>>
  [1m[36mMovieUrl Load (0.6ms)[0m  [1m[34mSELECT  "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[ActiveJob] [MovieUrlBroadcastJob] [3c7bfac9-4081-476b-82a9-38006032a776] Performing MovieUrlBroadcastJob (Job ID: 3c7bfac9-4081-476b-82a9-38006032a776) from Async(default) with arguments: #<GlobalID:0x007f5e297a9ef8 @uri=#<URI::GID gid://sharebgm/MovieUrl/8>>
[ActiveJob] [MovieUrlBroadcastJob] [3c7bfac9-4081-476b-82a9-38006032a776]   [1m[36mPlaylist Load (0.2ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [3c7bfac9-4081-476b-82a9-38006032a776]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [3c7bfac9-4081-476b-82a9-38006032a776]   [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."playlist_id" = ? LIMIT ?[0m  [["playlist_id", 6], ["LIMIT", 1]]
[ActiveJob] [MovieUrlBroadcastJob] [3c7bfac9-4081-476b-82a9-38006032a776]   â†³ app/jobs/movie_url_broadcast_job.rb:8
[ActiveJob] [MovieUrlBroadcastJob] [3c7bfac9-4081-476b-82a9-38006032a776]   Rendered movie_urls/_movie_url.html.erb (0.7ms)
[ActiveJob] [MovieUrlBroadcastJob] [3c7bfac9-4081-476b-82a9-38006032a776] [ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:movie_url=>"<li class=\"item\" data-movie_id=\"pWH11t2JKds\">\n  <div class=\"multiline-text\">[&quot;K/DA - POP/STARS (ft Madison Beer, (G)I-DLE, Jaira Burns) | Official Music Video - League of Legends&quot;]\n  </div>\n  <img src=\"https://i.ytimg.com/vi/pWH11t2JKds/default.jpg\" />\n</li>"}
[ActiveJob] [MovieUrlBroadcastJob] [3c7bfac9-4081-476b-82a9-38006032a776] Performed MovieUrlBroadcastJob (Job ID: 3c7bfac9-4081-476b-82a9-38006032a776) from Async(default) in 11.15ms
RoomChannel transmitting {"movie_url"=>"<li class=\"item\" data-movie_id=\"pWH11t2JKds\">\n  <div class=\"multiline-text\">[&quot;K/DA - POP/STARS (ft Madison Beer, (G)I-DLE, Jaira Burns) | Official Music Video - League of Legends&quot;]\n  </div>\n  <img src=\"https://i.ytimg.com/vi/pWH11t2JKds/default.jpg\" />\n</li>"} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/javascriptd/room_show.js?_=1548176562123" for 153.136.54.29 at 2019-01-22 17:03:07 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
ActionController::RoutingError (No route matches [GET] "/rooms/javascriptd/room_show.js"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:22:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 153.136.54.29 at 2019-01-22 17:06:55 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:12
  Rendered rooms/index.html.erb within layouts/application (16.8ms)
Completed 200 OK in 824ms (Views: 819.7ms | ActiveRecord: 0.8ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 17:06:56 +0000
  [1m[36mRoomMember Load (1.1ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 2]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (16.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:19
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>0}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>0} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 153.136.54.29 at 2019-01-22 17:06:58 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 17:06:58 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started GET "/playlists/new" for 153.136.54.29 at 2019-01-22 17:07:00 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by PlaylistsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/playlists_controller.rb:7
  Rendering playlists/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered playlists/_form.html.erb (5.1ms)
  Rendered playlists/new.html.erb within layouts/application (6.6ms)
Completed 200 OK in 84ms (Views: 79.2ms | ActiveRecord: 0.5ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 17:07:00 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 17:07:01 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 17:07:01 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 20:29:08 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 20:29:43 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 20:29:43 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 22:19:49 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-22 22:19:57 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-22 22:19:57 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-23 01:34:55 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-23 01:35:03 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-23 01:35:03 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-23 02:51:53 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-23 02:51:58 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-23 02:51:58 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-23 05:13:55 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-23 05:14:07 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-23 05:14:07 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
Started GET "/users/sign_in" for 199.59.150.182 at 2019-01-23 11:21:02 +0000
Cannot render console from 199.59.150.182! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Devise::SessionsController#new as */*
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (89.8ms)
Completed 200 OK in 318ms (Views: 314.5ms | ActiveRecord: 0.0ms)


Finished "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-23 11:32:43 +0000
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:17:in `unsubscribed'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/rvm/gems/ruby-2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 153.136.54.29 at 2019-01-23 11:32:54 +0000
Cannot render console from 153.136.54.29! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/cable/" [WebSocket] for 153.136.54.29 at 2019-01-23 11:32:54 +0000
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /usr/local/rvm/gems/ruby-2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /home/ubuntu/workspace/sharebgm/app/channels/room_channel.rb:4:in `subscribed'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Started GET "/cable" for 127.0.0.1 at 2020-02-09 15:52:10 +0900
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-02-09 15:52:11 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /Users/ryuya/Public/ShareBGM/app/channels/room_channel.rb:4:in `subscribed'
Started POST "/users/sign_in" for 127.0.0.1 at 2020-02-09 15:52:14 +0900
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Zgl0JIn0qQyKz84XBQ92T2mUcChF7vqmVk/+WdsX1AFq3U39ROFDVbJOFdZXy6MO4oXlb+y1WQiR+VvZ6FC9YQ==", "user"=>{"email"=>"main.higashi.pg@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "main.higashi.pg@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 401 Unauthorized in 17ms (ActiveRecord: 1.6ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Zgl0JIn0qQyKz84XBQ92T2mUcChF7vqmVk/+WdsX1AFq3U39ROFDVbJOFdZXy6MO4oXlb+y1WQiR+VvZ6FC9YQ==", "user"=>{"email"=>"main.higashi.pg@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (28.0ms)
Completed 200 OK in 4046ms (Views: 3823.5ms | ActiveRecord: 0.0ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-02-09 15:52:18 +0900
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/Users/ryuya/Public/ShareBGM/app/channels/room_channel.rb:17:in `unsubscribed'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 127.0.0.1 at 2020-02-09 15:52:18 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-02-09 15:52:18 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /Users/ryuya/Public/ShareBGM/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started POST "/users/sign_in" for 127.0.0.1 at 2020-02-09 15:52:41 +0900
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"gHysYvMaDWU3PceAufXVS5QMBFhN9A+uLV4z27w/GFaMqJW7Pg/nPA+8HEHrMQAKHx2RH+SvrADq6JZbj3hxNg==", "user"=>{"email"=>"main.higashi.pg@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "main.higashi.pg@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.4ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"gHysYvMaDWU3PceAufXVS5QMBFhN9A+uLV4z27w/GFaMqJW7Pg/nPA+8HEHrMQAKHx2RH+SvrADq6JZbj3hxNg==", "user"=>{"email"=>"main.higashi.pg@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (12.7ms)
Completed 200 OK in 314ms (Views: 162.0ms | ActiveRecord: 0.0ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-02-09 15:52:42 +0900
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/Users/ryuya/Public/ShareBGM/app/channels/room_channel.rb:17:in `unsubscribed'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 127.0.0.1 at 2020-02-09 15:52:42 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-02-09 15:52:42 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /Users/ryuya/Public/ShareBGM/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 00:27:00 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 401 Unauthorized in 8ms (ActiveRecord: 0.6ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2021-05-19 00:27:00 +0900
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (11.5ms)
Completed 200 OK in 1769ms (Views: 1755.9ms | ActiveRecord: 0.0ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 00:27:02 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:27:02 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started POST "/users/sign_in" for 127.0.0.1 at 2021-05-19 00:27:11 +0900
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Kx2kn4RrrDNElRaYWk8WRg5JuMgAJsnqy65XgbgH8ClnGHuRiL21+JIFjOsTtnvdAIAgIbKDQIzLYmtVvOmm3g==", "user"=>{"email"=>"main.higashi.pg@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "main.higashi.pg@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.2ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Kx2kn4RrrDNElRaYWk8WRg5JuMgAJsnqy65XgbgH8ClnGHuRiL21+JIFjOsTtnvdAIAgIbKDQIzLYmtVvOmm3g==", "user"=>{"email"=>"main.higashi.pg@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.9ms)
  Rendered devise/sessions/new.html.erb within layouts/application (4.0ms)
Completed 200 OK in 170ms (Views: 66.1ms | ActiveRecord: 0.0ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:27:11 +0900
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:17:in `unsubscribed'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 127.0.0.1 at 2021-05-19 00:27:11 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:27:11 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started POST "/users/sign_in" for 127.0.0.1 at 2021-05-19 00:27:15 +0900
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"MiV7SnpC5E8X8cA4BZgyJjRbHx7e0e68hjzO83oqyc1+IKREdpT9hMFhWktMYV+9OpKH92x0Z9qG8PInfsSfOg==", "user"=>{"email"=>"main.higashi.pg@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "main.higashi.pg@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.2ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"MiV7SnpC5E8X8cA4BZgyJjRbHx7e0e68hjzO83oqyc1+IKREdpT9hMFhWktMYV+9OpKH92x0Z9qG8PInfsSfOg==", "user"=>{"email"=>"main.higashi.pg@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.1ms)
  Rendered devise/sessions/new.html.erb within layouts/application (4.3ms)
Completed 200 OK in 159ms (Views: 59.1ms | ActiveRecord: 0.0ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:27:15 +0900
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:17:in `unsubscribed'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 127.0.0.1 at 2021-05-19 00:27:15 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:27:15 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started GET "/users/sign_up" for 127.0.0.1 at 2021-05-19 00:27:20 +0900
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (4.1ms)
Completed 200 OK in 60ms (Views: 59.9ms | ActiveRecord: 0.0ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:27:20 +0900
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:17:in `unsubscribed'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 127.0.0.1 at 2021-05-19 00:27:20 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:27:20 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started POST "/users" for 127.0.0.1 at 2021-05-19 00:27:31 +0900
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"FhiftDUOwhh1ZKbwXuS1VQ9EMAsl+7DcC8m0ekwKPktaHUC6Odjb06P0PIMXHdjOAY2o4pdeOboLBYiuSORovA==", "user"=>{"username"=>"hogeshi", "email"=>"main.higashi.pg@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "main.higashi.pg@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["email", "main.higashi.pg@gmail.com"], ["encrypted_password", "$2a$11$mRtNxxaVwfI7HGqt08qJzOUQQHBAr2ov3CgS60tDamQC0YV8/Sbp."], ["created_at", "2021-05-18 15:27:31.674513"], ["updated_at", "2021-05-18 15:27:31.674513"], ["username", "hogeshi"]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", "2021-05-18 15:27:31.677326"], ["last_sign_in_at", "2021-05-18 15:27:31.677326"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2021-05-18 15:27:31.677793"], ["id", 2]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 131ms (ActiveRecord: 2.5ms)


Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 00:27:31 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:10
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.2ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:22
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (25.0ms)
Completed 200 OK in 119ms (Views: 77.4ms | ActiveRecord: 2.2ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:27:31 +0900
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:17:in `unsubscribed'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 127.0.0.1 at 2021-05-19 00:27:31 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:27:31 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 15:27:31.924017"], ["updated_at", "2021-05-18 15:27:31.924017"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>1}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>1} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 00:29:15 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:10
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.2ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:22
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (9.4ms)
Completed 200 OK in 62ms (Views: 57.4ms | ActiveRecord: 0.7ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:29:15 +0900
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 3]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:19
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>0}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>0} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 00:29:15 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:29:15 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 15:29:15.999185"], ["updated_at", "2021-05-18 15:29:15.999185"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>1}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>1} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 00:29:22 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:10
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.2ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:22
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (7.1ms)
Completed 200 OK in 68ms (Views: 63.3ms | ActiveRecord: 0.8ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:29:22 +0900
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 4]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:19
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>0}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>0} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 00:29:22 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:29:22 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.4ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 15:29:22.931059"], ["updated_at", "2021-05-18 15:29:22.931059"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>1}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>1} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 00:29:32 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:29:32 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.4ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 15:29:32.639859"], ["updated_at", "2021-05-18 15:29:32.639859"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>2}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>2} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 00:29:33 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:10
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:22
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (25.8ms)
Completed 500 Internal Server Error in 260ms (ActiveRecord: 1.8ms)


  
ActionView::Template::Error (File to import not found or unreadable: bootstrap-sprockets.
Load paths:
  /Users/ryuya/ShareBGM/app/assets/config
  /Users/ryuya/ShareBGM/app/assets/images
  /Users/ryuya/ShareBGM/app/assets/javascripts
  /Users/ryuya/ShareBGM/app/assets/stylesheets
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/nested_form_fields-0.8.2/lib/assets/javascripts
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jquery-rails-4.3.3/vendor/assets/javascripts
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/assets/compiled
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activestorage-5.2.0/app/assets/javascripts
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-5.2.0/lib/assets/compiled
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/turbolinks-source-5.1.0/lib/assets/javascripts
  /Users/ryuya/ShareBGM/node_modules
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/popper_js-1.16.0/assets/javascripts
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootstrap-4.1.3/assets/stylesheets
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootstrap-4.1.3/assets/javascripts
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootstrap-4.1.3/assets/stylesheets):
    4:     <title>Sharebgm</title>
    5:     <%= csrf_meta_tags %>
    6:     <%= csp_meta_tag %>
    7:     <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    8:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    9:     <%= include_gon %>
   10:     <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">
  
app/assets/stylesheets/application.scss:17
app/views/layouts/application.html.erb:7:in `_app_views_layouts_application_html_erb___3425260484562037423_70239116284660'
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:29:33 +0900
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 5]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:19
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>1}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>1} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 00:30:00 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:10
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:22
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (6.8ms)
Completed 500 Internal Server Error in 59ms (ActiveRecord: 0.8ms)


  
ActionView::Template::Error (File to import not found or unreadable: bootstrap-sprockets.
Load paths:
  /Users/ryuya/ShareBGM/app/assets/config
  /Users/ryuya/ShareBGM/app/assets/images
  /Users/ryuya/ShareBGM/app/assets/javascripts
  /Users/ryuya/ShareBGM/app/assets/stylesheets
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/nested_form_fields-0.8.2/lib/assets/javascripts
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jquery-rails-4.3.3/vendor/assets/javascripts
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/assets/compiled
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activestorage-5.2.0/app/assets/javascripts
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-5.2.0/lib/assets/compiled
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/turbolinks-source-5.1.0/lib/assets/javascripts
  /Users/ryuya/ShareBGM/node_modules
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/popper_js-1.16.0/assets/javascripts
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootstrap-4.1.3/assets/stylesheets
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootstrap-4.1.3/assets/javascripts
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootstrap-4.1.3/assets/stylesheets):
    4:     <title>Sharebgm</title>
    5:     <%= csrf_meta_tags %>
    6:     <%= csp_meta_tag %>
    7:     <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    8:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    9:     <%= include_gon %>
   10:     <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">
  
app/assets/stylesheets/application.scss:17
app/views/layouts/application.html.erb:7:in `_app_views_layouts_application_html_erb___3425260484562037423_70239102068740'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 00:30:08 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[36mRoomChatLog Load (0.2ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:10
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:22
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (23.4ms)
Completed 500 Internal Server Error in 239ms (ActiveRecord: 2.9ms)


  
ActionView::Template::Error (File to import not found or unreadable: bootstrap-sprockets.
Load paths:
  /Users/ryuya/ShareBGM/app/assets/config
  /Users/ryuya/ShareBGM/app/assets/images
  /Users/ryuya/ShareBGM/app/assets/javascripts
  /Users/ryuya/ShareBGM/app/assets/stylesheets
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/nested_form_fields-0.8.2/lib/assets/javascripts
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jquery-rails-4.3.3/vendor/assets/javascripts
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/assets/compiled
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activestorage-5.2.0/app/assets/javascripts
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-5.2.0/lib/assets/compiled
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/turbolinks-source-5.1.0/lib/assets/javascripts
  /Users/ryuya/ShareBGM/node_modules
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/popper_js-1.16.0/assets/javascripts
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootstrap-4.1.3/assets/stylesheets
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootstrap-4.1.3/assets/javascripts
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootstrap-4.1.3/assets/stylesheets):
    4:     <title>Sharebgm</title>
    5:     <%= csrf_meta_tags %>
    6:     <%= csp_meta_tag %>
    7:     <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    8:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    9:     <%= include_gon %>
   10:     <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">
  
app/assets/stylesheets/application.scss:17
app/views/layouts/application.html.erb:7:in `_app_views_layouts_application_html_erb__2569116247835006814_70246167146360'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 00:30:10 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:10
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:22
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered rooms/show.html.erb within layouts/application (6.5ms)
Completed 500 Internal Server Error in 53ms (ActiveRecord: 0.9ms)


  
ActionView::Template::Error (File to import not found or unreadable: bootstrap-sprockets.
Load paths:
  /Users/ryuya/ShareBGM/app/assets/config
  /Users/ryuya/ShareBGM/app/assets/images
  /Users/ryuya/ShareBGM/app/assets/javascripts
  /Users/ryuya/ShareBGM/app/assets/stylesheets
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/nested_form_fields-0.8.2/lib/assets/javascripts
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jquery-rails-4.3.3/vendor/assets/javascripts
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/assets/compiled
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activestorage-5.2.0/app/assets/javascripts
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-5.2.0/lib/assets/compiled
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/turbolinks-source-5.1.0/lib/assets/javascripts
  /Users/ryuya/ShareBGM/node_modules
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/popper_js-1.16.0/assets/javascripts
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootstrap-4.1.3/assets/stylesheets
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootstrap-4.1.3/assets/javascripts
  /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootstrap-4.1.3/assets/stylesheets):
    4:     <title>Sharebgm</title>
    5:     <%= csrf_meta_tags %>
    6:     <%= csp_meta_tag %>
    7:     <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    8:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    9:     <%= include_gon %>
   10:     <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">
  
app/assets/stylesheets/application.scss:17
app/views/layouts/application.html.erb:7:in `_app_views_layouts_application_html_erb__2569116247835006814_70246163681700'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 00:30:33 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:10
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:22
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered rooms/show.html.erb within layouts/application (5.7ms)
Completed 200 OK in 2606ms (Views: 2602.2ms | ActiveRecord: 0.7ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 00:30:36 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:30:36 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mRoomMember Create (0.4ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 15:30:36.339914"], ["updated_at", "2021-05-18 15:30:36.339914"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>2}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>2} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 00:30:42 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:30:42 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.4ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 15:30:42.921075"], ["updated_at", "2021-05-18 15:30:42.921075"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>3}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>3} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 00:30:43 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:10
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:22
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered rooms/show.html.erb within layouts/application (21.1ms)
Completed 200 OK in 308ms (Views: 280.8ms | ActiveRecord: 1.9ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:30:44 +0900
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 6]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:19
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>2}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>2} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 00:30:44 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:30:44 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.4ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 15:30:44.262729"], ["updated_at", "2021-05-18 15:30:44.262729"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>3}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>3} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/" for 127.0.0.1 at 2021-05-19 00:30:47 +0900
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:12
  Rendered rooms/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 38ms (Views: 34.6ms | ActiveRecord: 0.3ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:30:47 +0900
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 7]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:19
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>2}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>2} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 00:30:47 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:30:47 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 00:30:50 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:10
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:22
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (6.5ms)
Completed 200 OK in 45ms (Views: 40.4ms | ActiveRecord: 0.8ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:30:50 +0900
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:17:in `unsubscribed'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 127.0.0.1 at 2021-05-19 00:30:50 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:30:51 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 15:30:51.009242"], ["updated_at", "2021-05-18 15:30:51.009242"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>3}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>3} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/" for 127.0.0.1 at 2021-05-19 00:30:53 +0900
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:12
  Rendered rooms/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 36ms (Views: 33.8ms | ActiveRecord: 0.3ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:30:53 +0900
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 8]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:19
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>2}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>2} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 00:30:53 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:30:53 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started GET "/" for 127.0.0.1 at 2021-05-19 00:31:07 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:12
  Rendered rooms/index.html.erb within layouts/application (7.5ms)
Completed 200 OK in 255ms (Views: 231.9ms | ActiveRecord: 1.2ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 00:31:08 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:31:08 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Room without an ID]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:431:in `find_with_ids' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/finder_methods.rb:69:in `find' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/querying.rb:5:in `find' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/core.rb:167:in `find' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:4:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:: {:subscribed=>true}
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 00:31:10 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:10
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:22
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (21.5ms)
Completed 200 OK in 82ms (Views: 57.3ms | ActiveRecord: 2.4ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:31:10 +0900
There was an exception - NoMethodError(undefined method `room_members' for nil:NilClass)
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:17:in `unsubscribed'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for 127.0.0.1 at 2021-05-19 00:31:10 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:31:10 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.4ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 15:31:10.281220"], ["updated_at", "2021-05-18 15:31:10.281220"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>3}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>3} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 00:34:23 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  Rendered rooms/show.html.erb within layouts/application (23.5ms)
Completed 500 Internal Server Error in 34ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (uninitialized constant ActionView::CompiledTemplates::Redis):
    4:     <div id="chat" class="clearfix">
    5:       <div class="memberNum" >
    6:           <div class = "glyphicon glyphicon-eye-open" ></div>
    7:           <span id = "memberNum" data-memberNum="<%= ActionCable.server.connections.length %>"> <%= Redis.new.pubsub("channels", "action_cable/*") %> äºº</span>
    8:         </div>
    9:       <div class="loges">
   10:         <%= render @room_chat_logs %>
  
app/views/rooms/show.html.erb:7:in `_app_views_rooms_show_html_erb__3047662514845189425_70321828902380'
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:34:24 +0900
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 9]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:19
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>2}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>2} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 00:34:39 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  Rendered rooms/show.html.erb within layouts/application (6.6ms)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (uninitialized constant ActionView::CompiledTemplates::Redis):
    4:     <div id="chat" class="clearfix">
    5:       <div class="memberNum" >
    6:           <div class = "glyphicon glyphicon-eye-open" ></div>
    7:           <span id = "memberNum" data-memberNum="<%= ActionCable.server.connections.length %>"> <%= Redis.new.pubsub("channels", "action_cable/room") %> äºº</span>
    8:         </div>
    9:       <div class="loges">
   10:         <%= render @room_chat_logs %>
  
app/views/rooms/show.html.erb:7:in `_app_views_rooms_show_html_erb__3047662514845189425_70321852344980'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 00:36:54 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  Rendered rooms/show.html.erb within layouts/application (13.1ms)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (undefined method `length?' for []:Array
Did you mean?  length):
    4:     <div id="chat" class="clearfix">
    5:       <div class="memberNum" >
    6:           <div class = "glyphicon glyphicon-eye-open" ></div>
    7:           <span id = "memberNum" data-memberNum="<%=ActionCable.server.connections.select { |con| con.current_room == room }.length? %>"> <%= ActionCable.server.connections.select { |con| con.current_room == room }.length? %> äºº</span>
    8:         </div>
    9:       <div class="loges">
   10:         <%= render @room_chat_logs %>
  
app/views/rooms/show.html.erb:7:in `_app_views_rooms_show_html_erb__3047662514845189425_70321866936100'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 00:36:56 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  Rendered rooms/show.html.erb within layouts/application (4.2ms)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (undefined method `length?' for []:Array
Did you mean?  length):
    4:     <div id="chat" class="clearfix">
    5:       <div class="memberNum" >
    6:           <div class = "glyphicon glyphicon-eye-open" ></div>
    7:           <span id = "memberNum" data-memberNum="<%=ActionCable.server.connections.select { |con| con.current_room == room }.length? %>"> <%= ActionCable.server.connections.select { |con| con.current_room == room }.length? %> äºº</span>
    8:         </div>
    9:       <div class="loges">
   10:         <%= render @room_chat_logs %>
  
app/views/rooms/show.html.erb:7:in `_app_views_rooms_show_html_erb__3047662514845189425_70321935073820'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 00:38:09 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  Rendered rooms/show.html.erb within layouts/application (3.8ms)
Completed 500 Internal Server Error in 51ms (ActiveRecord: 1.6ms)


  
ActionView::Template::Error (undefined method `length?' for []:Array
Did you mean?  length):
    4:     <div id="chat" class="clearfix">
    5:       <div class="memberNum" >
    6:           <div class = "glyphicon glyphicon-eye-open" ></div>
    7:           <span id = "memberNum" data-memberNum="<%=ActionCable.server.connections.select { |con| con.current_room == room }.length? %>"> <%= ActionCable.server.connections.select { |con| con.current_room == room }.length? %> äºº</span>
    8:         </div>
    9:       <div class="loges">
   10:         <%= render @room_chat_logs %>
  
app/views/rooms/show.html.erb:7:in `_app_views_rooms_show_html_erb__3047662514845189425_70321837315540'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 00:38:11 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  Rendered rooms/show.html.erb within layouts/application (4.2ms)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (undefined method `length?' for []:Array
Did you mean?  length):
    4:     <div id="chat" class="clearfix">
    5:       <div class="memberNum" >
    6:           <div class = "glyphicon glyphicon-eye-open" ></div>
    7:           <span id = "memberNum" data-memberNum="<%=ActionCable.server.connections.select { |con| con.current_room == room }.length? %>"> <%= ActionCable.server.connections.select { |con| con.current_room == room }.length? %> äºº</span>
    8:         </div>
    9:       <div class="loges">
   10:         <%= render @room_chat_logs %>
  
app/views/rooms/show.html.erb:7:in `_app_views_rooms_show_html_erb__3047662514845189425_70321830132260'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 00:38:18 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  Rendered rooms/show.html.erb within layouts/application (3.7ms)
Completed 500 Internal Server Error in 52ms (ActiveRecord: 1.6ms)


  
ActionView::Template::Error (undefined method `length?' for []:Array
Did you mean?  length):
    4:     <div id="chat" class="clearfix">
    5:       <div class="memberNum" >
    6:           <div class = "glyphicon glyphicon-eye-open" ></div>
    7:           <span id = "memberNum" data-memberNum="<%=ActionCable.server.connections.select { |con| con.current_room == room }.length? %>"> <%= ActionCable.server.connections.select { |con| con.current_room == room }.length? %> äºº</span>
    8:         </div>
    9:       <div class="loges">
   10:         <%= render @room_chat_logs %>
  
app/views/rooms/show.html.erb:7:in `_app_views_rooms_show_html_erb__3047662514845189425_70321935205820'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 00:40:22 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:10
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:22
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered rooms/show.html.erb within layouts/application (26.4ms)
Completed 200 OK in 110ms (Views: 70.8ms | ActiveRecord: 2.7ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 00:40:22 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:40:22 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.5ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 15:40:22.923125"], ["updated_at", "2021-05-18 15:40:22.923125"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>3}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>3} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 00:40:38 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  Rendered rooms/show.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.3ms)


  
SyntaxError (/Users/ryuya/ShareBGM/app/views/rooms/show.html.erb:7: syntax error, unexpected '=', expecting keyword_end
m" data-memberNum="'.freeze; =ActionCable.server.connections
                              ^):
  
app/views/rooms/show.html.erb:7: syntax error, unexpected '=', expecting keyword_end
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:40:38 +0900
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 10]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:19
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>2}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>2} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 00:40:49 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:10
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:22
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (48.6ms)
Completed 200 OK in 93ms (Views: 89.6ms | ActiveRecord: 0.5ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 00:40:49 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:40:49 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 15:40:49.255298"], ["updated_at", "2021-05-18 15:40:49.255298"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>3}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>3} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 00:41:02 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:7
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:10
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:22
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered rooms/show.html.erb within layouts/application (5.7ms)
Completed 200 OK in 42ms (Views: 38.3ms | ActiveRecord: 0.7ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:41:02 +0900
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 11]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:19
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>2}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>2} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 00:41:02 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:41:02 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 15:41:02.397787"], ["updated_at", "2021-05-18 15:41:02.397787"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>3}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>3} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 00:43:17 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:22
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:34
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered rooms/show.html.erb within layouts/application (14.9ms)
Completed 200 OK in 59ms (Views: 54.3ms | ActiveRecord: 0.5ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:43:17 +0900
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 12]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:19
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>2}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>2} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 00:43:17 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:43:17 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.9ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 15:43:17.992179"], ["updated_at", "2021-05-18 15:43:17.992179"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>3}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>3} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 00:43:19 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:22
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:34
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered rooms/show.html.erb within layouts/application (16.7ms)
Completed 200 OK in 63ms (Views: 58.9ms | ActiveRecord: 0.5ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:43:19 +0900
  [1m[36mRoomMember Load (0.3ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 13]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:19
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>2}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>2} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 00:43:19 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:43:19 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 15:43:19.247796"], ["updated_at", "2021-05-18 15:43:19.247796"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>3}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>3} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 00:43:23 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:22
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:34
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered rooms/show.html.erb within layouts/application (14.6ms)
Completed 200 OK in 53ms (Views: 49.3ms | ActiveRecord: 0.5ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 00:43:23 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:43:23 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 15:43:23.609686"], ["updated_at", "2021-05-18 15:43:23.609686"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>4}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>4} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel transmitting {"memberNum"=>4} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:43:28 +0900
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[36mRoomMember Destroy (1.7ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 14]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:19
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>3}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>3} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel transmitting {"memberNum"=>3} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 00:44:08 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.2ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.2ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:22
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.2ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:34
  Rendered shared/_error_messages.html.erb (1.4ms)
  Rendered rooms/show.html.erb within layouts/application (40.7ms)
Completed 200 OK in 177ms (Views: 144.2ms | ActiveRecord: 2.3ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:44:08 +0900
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[36mRoomMember Destroy (0.5ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 15]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:19
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>2}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>2} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 00:44:09 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:44:09 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 15:44:09.244891"], ["updated_at", "2021-05-18 15:44:09.244891"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>3}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>3} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 00:45:22 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:22
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:34
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (18.5ms)
Completed 200 OK in 96ms (Views: 87.8ms | ActiveRecord: 1.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:45:22 +0900
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 16]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:19
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>2}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>2} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 00:45:22 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:45:22 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.4ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 15:45:22.520167"], ["updated_at", "2021-05-18 15:45:22.520167"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>3}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>3} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 00:45:24 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:22
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:34
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (18.3ms)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Completed 200 OK in 66ms (Views: 61.9ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:45:24 +0900
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 17]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:19
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>2}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>2} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 00:45:24 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 00:45:24 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 15:45:24.293960"], ["updated_at", "2021-05-18 15:45:24.293960"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>3}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>3} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:08:08 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.2ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.2ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.4ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (1.4ms)
  Rendered rooms/show.html.erb within layouts/application (24.1ms)
Completed 200 OK in 223ms (Views: 203.3ms | ActiveRecord: 2.1ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:08:09 +0900
  [1m[36mRoomMember Load (0.3ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[36mRoomMember Destroy (0.4ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 18]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:19
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>2}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>2} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:08:09 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:08:09 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.6ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:08:09.394098"], ["updated_at", "2021-05-18 16:08:09.394098"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>3}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>3} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:11:39 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.2ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (30.1ms)
Completed 200 OK in 135ms (Views: 75.4ms | ActiveRecord: 3.0ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:11:39 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:11:39 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2}"}) [NameError - undefined local variable or method `request' for #<RoomChannel:0x007fea2bf13098>
Did you mean?  require]: /Users/ryuya/ShareBGM/app/channels/room_channel.rb:9:in `block (2 levels) in subscribed' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:9:in `map' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:9:in `block in subscribed' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:8:in `map' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:8:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:11:41 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (1.4ms)
  Rendered rooms/show.html.erb within layouts/application (13.2ms)
Completed 200 OK in 57ms (Views: 53.7ms | ActiveRecord: 0.5ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:11:41 +0900
  [1m[36mRoomMember Load (0.1ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:24
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:24
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 19]]
  â†³ app/channels/room_channel.rb:24
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:24
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:11:42 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:11:42 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
There was an exception - NameError(undefined local variable or method `request' for #<RoomChannel:0x007fea2bf13098>
Did you mean?  require)
  â†³ app/channels/room_channel.rb:4
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:30:in `block (2 levels) in unsubscribed'
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:30:in `map'
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:30:in `block in unsubscribed'
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:29:in `map'
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:29:in `unsubscribed'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2}"}) [NameError - undefined local variable or method `request' for #<RoomChannel:0x007fea33fa2330>
Did you mean?  require]: /Users/ryuya/ShareBGM/app/channels/room_channel.rb:9:in `block (2 levels) in subscribed' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:9:in `map' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:9:in `block in subscribed' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:8:in `map' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:8:in `subscribed'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:12:15 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered rooms/show.html.erb within layouts/application (21.8ms)
Completed 200 OK in 86ms (Views: 51.2ms | ActiveRecord: 2.3ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:12:15 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:12:15 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2}"}) [NameError - undefined local variable or method `request' for #<RoomChannel:0x007fea33cfeca0>
Did you mean?  require]: /Users/ryuya/ShareBGM/app/channels/room_channel.rb:9:in `block (2 levels) in subscribed' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:9:in `map' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:9:in `block in subscribed' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:8:in `map' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:8:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:12:27 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.2ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered rooms/show.html.erb within layouts/application (23.4ms)
Completed 200 OK in 89ms (Views: 51.7ms | ActiveRecord: 3.1ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:12:27 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:12:27 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2}"}) [NameError - undefined local variable or method `request' for #<RoomChannel:0x007fea2b2af810>
Did you mean?  require]: /Users/ryuya/ShareBGM/app/channels/room_channel.rb:9:in `block (2 levels) in subscribed' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:9:in `map' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:9:in `block in subscribed' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:8:in `map' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:8:in `subscribed'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:13:27 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.2ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered rooms/show.html.erb within layouts/application (22.1ms)
Completed 200 OK in 101ms (Views: 64.0ms | ActiveRecord: 2.7ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:13:27 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:13:27 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:13:29 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2}"}) [NameError - undefined local variable or method `request' for #<RoomChannel:0x007fea2733fa18>
Did you mean?  require]: /Users/ryuya/ShareBGM/app/channels/room_channel.rb:13:in `subscribed' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:179:in `block in subscribe_to_channel' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered rooms/show.html.erb within layouts/application (11.9ms)
Completed 200 OK in 142ms (Views: 43.0ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:13:29 +0900
  [1m[36mRoomMember Load (0.1ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:25
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:25
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 20]]
  â†³ app/channels/room_channel.rb:25
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:25
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:13:30 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:13:30 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
There was an exception - NameError(undefined local variable or method `request' for #<RoomChannel:0x007fea2733fa18>
Did you mean?  require)
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:31:in `block (2 levels) in unsubscribed'
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:31:in `map'
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:31:in `block in unsubscribed'
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:30:in `map'
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:30:in `unsubscribed'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2}"}) [NameError - undefined local variable or method `request' for #<RoomChannel:0x007fea2878b3f0>
Did you mean?  require]: /Users/ryuya/ShareBGM/app/channels/room_channel.rb:13:in `subscribed' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:179:in `block in subscribe_to_channel' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:14:01 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered rooms/show.html.erb within layouts/application (24.0ms)
Completed 200 OK in 101ms (Views: 66.0ms | ActiveRecord: 2.3ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:14:01 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:14:01 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2}"}) [NameError - undefined local variable or method `request' for #<RoomChannel:0x007fea27446e70>
Did you mean?  require]: /Users/ryuya/ShareBGM/app/channels/room_channel.rb:13:in `subscribed' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:179:in `block in subscribe_to_channel' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:14:23 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.2ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered rooms/show.html.erb within layouts/application (18.6ms)
Completed 200 OK in 68ms (Views: 63.4ms | ActiveRecord: 0.7ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:14:24 +0900
  [1m[36mRoomMember Load (0.1ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:25
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:25
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 21]]
  â†³ app/channels/room_channel.rb:25
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:25
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:35
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>0}
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:14:24 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:14:24 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2}"}) [NameError - undefined local variable or method `request' for #<RoomChannel:0x007fea2ac9da58>
Did you mean?  require]: /Users/ryuya/ShareBGM/app/channels/room_channel.rb:13:in `subscribed' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:179:in `block in subscribe_to_channel' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:14:52 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered rooms/show.html.erb within layouts/application (28.0ms)
Completed 200 OK in 121ms (Views: 82.8ms | ActiveRecord: 2.4ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:14:52 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:14:52 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2}"}) [NoMethodError - undefined method `put' for #<RoomChannel:0x007fea27b772f8>
Did you mean?  puts
               putc]: /Users/ryuya/ShareBGM/app/channels/room_channel.rb:13:in `subscribed' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:179:in `block in subscribe_to_channel' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:15:17 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered rooms/show.html.erb within layouts/application (21.9ms)
Completed 200 OK in 87ms (Views: 51.8ms | ActiveRecord: 2.4ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:15:17 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:15:17 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:18
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:18
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:15:17.508866"], ["updated_at", "2021-05-18 16:15:17.508866"]]
  â†³ app/channels/room_channel.rb:18
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:18
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>0}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>0} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:16:14 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (23.2ms)
Completed 200 OK in 102ms (Views: 57.4ms | ActiveRecord: 2.5ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:16:14 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:16:14 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2}"}) [TypeError - no implicit conversion of Integer into String]: /Users/ryuya/ShareBGM/app/channels/room_channel.rb:13:in `+' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:13:in `subscribed' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:179:in `block in subscribe_to_channel' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:17:10 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (24.7ms)
Completed 200 OK in 122ms (Views: 73.0ms | ActiveRecord: 2.5ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:17:10 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:17:10 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2}"}) [TypeError - no implicit conversion of Array into String]: /Users/ryuya/ShareBGM/app/channels/room_channel.rb:8:in `+' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:8:in `subscribed' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:179:in `block in subscribe_to_channel' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:19:23 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (24.0ms)
Completed 200 OK in 908ms (Views: 856.4ms | ActiveRecord: 10.4ms)


Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:19:24 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered rooms/show.html.erb within layouts/application (13.6ms)
Completed 200 OK in 73ms (Views: 69.3ms | ActiveRecord: 0.6ms)


Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:20:14 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (24.9ms)
Completed 200 OK in 126ms (Views: 81.9ms | ActiveRecord: 2.6ms)


Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:20:30 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.6ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (1.0ms)
  Rendered rooms/show.html.erb within layouts/application (36.5ms)
Completed 200 OK in 178ms (Views: 108.6ms | ActiveRecord: 3.2ms)


Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:21:40 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (15.3ms)
Completed 200 OK in 437ms (Views: 431.3ms | ActiveRecord: 0.6ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:21:41 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:21:41 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/1\"}"}) [SyntaxError - /Users/ryuya/ShareBGM/app/channels/room_channel.rb:34: syntax error, unexpected tIDENTIFIER, expecting keyword_end
 { |sub| JSON.parse(sub)["http://localhost:3000/rooms/1"] } 
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:34: unknown regexp options - lcalht
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:34: syntax error, unexpected tSTRING_BEG, expecting keyword_end
http://localhost:3000/rooms/1"] } } # ã“ã“ã®urlã‚’å¤‰ãˆã
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:36: syntax error, unexpected tIDENTIFIER, expecting keyword_end
  .select { |url| url == "http://localhost:3000/rooms/1" } #
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:36: unknown regexp options - lcalht
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:36: syntax error, unexpected tSTRING_BEG, expecting keyword_end
http://localhost:3000/rooms/1" } # ã“ã“ã§ç‰¹å®šã®ãƒãƒ£ã
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:58: syntax error, unexpected tIDENTIFIER, expecting keyword_end
    p "ãƒ†ã‚¹ãƒˆ"
                ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:61: syntax error, unexpected tIDENTIFIER, expecting keyword_end
om.playlist_id, url: data["url"],user_id: data["user_id"]
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:61: syntax error, unexpected tIDENTIFIER, expecting keyword_end
["url"],user_id: data["user_id"]
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:61: unterminated string meets end of file
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:61: syntax error, unexpected end-of-input, expecting keyword_end]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:468:in `block in load_file' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:653:in `new_constants_in' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:467:in `load_file'
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/1\"}", "data"=>"{\"action\":\"join\"}"}) [RuntimeError - Unable to find subscription with identifier: {"channel":"RoomChannel","id":1,"user_id":2,"url":"http://localhost:3000/rooms/1"}]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:78:in `find' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:55:in `perform_action' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:19:in `execute_command' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:87:in `dispatch_websocket_message' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:21:44 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered rooms/show.html.erb within layouts/application (14.1ms)
Completed 200 OK in 84ms (Views: 79.1ms | ActiveRecord: 0.7ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:21:44 +0900
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:21:44 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:21:44 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/1\"}"}) [SyntaxError - /Users/ryuya/ShareBGM/app/channels/room_channel.rb:34: syntax error, unexpected tIDENTIFIER, expecting keyword_end
 { |sub| JSON.parse(sub)["http://localhost:3000/rooms/1"] } 
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:34: unknown regexp options - lcalht
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:34: syntax error, unexpected tSTRING_BEG, expecting keyword_end
http://localhost:3000/rooms/1"] } } # ã“ã“ã®urlã‚’å¤‰ãˆã
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:36: syntax error, unexpected tIDENTIFIER, expecting keyword_end
  .select { |url| url == "http://localhost:3000/rooms/1" } #
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:36: unknown regexp options - lcalht
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:36: syntax error, unexpected tSTRING_BEG, expecting keyword_end
http://localhost:3000/rooms/1" } # ã“ã“ã§ç‰¹å®šã®ãƒãƒ£ã
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:58: syntax error, unexpected tIDENTIFIER, expecting keyword_end
    p "ãƒ†ã‚¹ãƒˆ"
                ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:61: syntax error, unexpected tIDENTIFIER, expecting keyword_end
om.playlist_id, url: data["url"],user_id: data["user_id"]
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:61: syntax error, unexpected tIDENTIFIER, expecting keyword_end
["url"],user_id: data["user_id"]
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:61: unterminated string meets end of file
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:61: syntax error, unexpected end-of-input, expecting keyword_end]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:468:in `block in load_file' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:653:in `new_constants_in' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:467:in `load_file'
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/1\"}", "data"=>"{\"action\":\"join\"}"}) [RuntimeError - Unable to find subscription with identifier: {"channel":"RoomChannel","id":1,"user_id":2,"url":"http://localhost:3000/rooms/1"}]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:78:in `find' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:55:in `perform_action' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:19:in `execute_command' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:87:in `dispatch_websocket_message' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:22:17 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.9ms)
  Rendered rooms/show.html.erb within layouts/application (15.6ms)
Completed 200 OK in 56ms (Views: 51.4ms | ActiveRecord: 0.5ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:22:17 +0900
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:22:17 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:22:17 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/1\"}"}) [SyntaxError - /Users/ryuya/ShareBGM/app/channels/room_channel.rb:34: syntax error, unexpected tIDENTIFIER, expecting keyword_end
 { |sub| JSON.parse(sub)["http://localhost:3000/rooms/1"] } 
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:34: unknown regexp options - lcalht
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:34: syntax error, unexpected tSTRING_BEG, expecting keyword_end
http://localhost:3000/rooms/1"] } } # ã“ã“ã®urlã‚’å¤‰ãˆã
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:36: syntax error, unexpected tIDENTIFIER, expecting keyword_end
  .select { |url| url == "http://localhost:3000/rooms/1" } #
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:36: unknown regexp options - lcalht
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:36: syntax error, unexpected tSTRING_BEG, expecting keyword_end
http://localhost:3000/rooms/1" } # ã“ã“ã§ç‰¹å®šã®ãƒãƒ£ã
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:58: syntax error, unexpected tIDENTIFIER, expecting keyword_end
    p "ãƒ†ã‚¹ãƒˆ"
                ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:61: syntax error, unexpected tIDENTIFIER, expecting keyword_end
om.playlist_id, url: data["url"],user_id: data["user_id"]
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:61: syntax error, unexpected tIDENTIFIER, expecting keyword_end
["url"],user_id: data["user_id"]
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:61: unterminated string meets end of file
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:61: syntax error, unexpected end-of-input, expecting keyword_end]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:468:in `block in load_file' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:653:in `new_constants_in' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:467:in `load_file'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:22:18 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (13.8ms)
Completed 200 OK in 58ms (Views: 53.5ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:22:18 +0900
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:22:18 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:22:18 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/1\"}"}) [SyntaxError - /Users/ryuya/ShareBGM/app/channels/room_channel.rb:34: syntax error, unexpected tIDENTIFIER, expecting keyword_end
 { |sub| JSON.parse(sub)["http://localhost:3000/rooms/1"] } 
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:34: unknown regexp options - lcalht
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:34: syntax error, unexpected tSTRING_BEG, expecting keyword_end
http://localhost:3000/rooms/1"] } } # ã“ã“ã®urlã‚’å¤‰ãˆã
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:36: syntax error, unexpected tIDENTIFIER, expecting keyword_end
  .select { |url| url == "http://localhost:3000/rooms/1" } #
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:36: unknown regexp options - lcalht
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:36: syntax error, unexpected tSTRING_BEG, expecting keyword_end
http://localhost:3000/rooms/1" } # ã“ã“ã§ç‰¹å®šã®ãƒãƒ£ã
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:58: syntax error, unexpected tIDENTIFIER, expecting keyword_end
    p "ãƒ†ã‚¹ãƒˆ"
                ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:61: syntax error, unexpected tIDENTIFIER, expecting keyword_end
om.playlist_id, url: data["url"],user_id: data["user_id"]
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:61: syntax error, unexpected tIDENTIFIER, expecting keyword_end
["url"],user_id: data["user_id"]
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:61: unterminated string meets end of file
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:61: syntax error, unexpected end-of-input, expecting keyword_end]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:468:in `block in load_file' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:653:in `new_constants_in' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:467:in `load_file'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:22:20 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (14.7ms)
Completed 200 OK in 66ms (Views: 61.6ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:22:20 +0900
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:22:20 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:22:20 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/1\"}"}) [SyntaxError - /Users/ryuya/ShareBGM/app/channels/room_channel.rb:34: syntax error, unexpected tIDENTIFIER, expecting keyword_end
 { |sub| JSON.parse(sub)["http://localhost:3000/rooms/1"] } 
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:34: unknown regexp options - lcalht
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:34: syntax error, unexpected tSTRING_BEG, expecting keyword_end
http://localhost:3000/rooms/1"] } } # ã“ã“ã®urlã‚’å¤‰ãˆã
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:36: syntax error, unexpected tIDENTIFIER, expecting keyword_end
  .select { |url| url == "http://localhost:3000/rooms/1" } #
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:36: unknown regexp options - lcalht
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:36: syntax error, unexpected tSTRING_BEG, expecting keyword_end
http://localhost:3000/rooms/1" } # ã“ã“ã§ç‰¹å®šã®ãƒãƒ£ã
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:58: syntax error, unexpected tIDENTIFIER, expecting keyword_end
    p "ãƒ†ã‚¹ãƒˆ"
                ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:61: syntax error, unexpected tIDENTIFIER, expecting keyword_end
om.playlist_id, url: data["url"],user_id: data["user_id"]
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:61: syntax error, unexpected tIDENTIFIER, expecting keyword_end
["url"],user_id: data["user_id"]
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:61: unterminated string meets end of file
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:61: syntax error, unexpected end-of-input, expecting keyword_end]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:468:in `block in load_file' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:653:in `new_constants_in' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:467:in `load_file'
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/1\"}", "data"=>"{\"action\":\"join\"}"}) [RuntimeError - Unable to find subscription with identifier: {"channel":"RoomChannel","id":1,"user_id":2,"url":"http://localhost:3000/rooms/1"}]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:78:in `find' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:55:in `perform_action' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:19:in `execute_command' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:87:in `dispatch_websocket_message' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:22:36 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.9ms)
  Rendered rooms/show.html.erb within layouts/application (24.4ms)
Completed 200 OK in 102ms (Views: 60.8ms | ActiveRecord: 2.4ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:22:36 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:22:36 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:21
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:21
  [1m[36mRoomMember Create (0.6ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:22:37.021875"], ["updated_at", "2021-05-18 16:22:37.021875"]]
  â†³ app/channels/room_channel.rb:21
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:21
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>0}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>0} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:22:48 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.6ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.7ms)
  Rendered rooms/show.html.erb within layouts/application (36.4ms)
Completed 200 OK in 174ms (Views: 102.0ms | ActiveRecord: 3.5ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:22:48 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:22:48 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:21
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:21
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:22:48.966382"], ["updated_at", "2021-05-18 16:22:48.966382"]]
  â†³ app/channels/room_channel.rb:21
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:21
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>0}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>0} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:23:51 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (1.4ms)
  Rendered rooms/show.html.erb within layouts/application (13.6ms)
Completed 200 OK in 233ms (Views: 229.3ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:23:51 +0900
  [1m[36mRoomMember Load (0.3ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:28
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:28
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 22]]
  â†³ app/channels/room_channel.rb:28
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:38
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>2}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>2} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:23:51 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:23:51 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:21
  [1m[36mRoomMember Create (0.4ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:23:51.662108"], ["updated_at", "2021-05-18 16:23:51.662108"]]
  â†³ app/channels/room_channel.rb:21
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:21
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>0}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>0} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:23:54 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered rooms/show.html.erb within layouts/application (16.3ms)
Completed 200 OK in 68ms (Views: 62.9ms | ActiveRecord: 0.8ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:23:54 +0900
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:28
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:28
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 23]]
  â†³ app/channels/room_channel.rb:28
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:28
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:38
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>2}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>2} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:23:54 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:23:54 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:21
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:23:54.963511"], ["updated_at", "2021-05-18 16:23:54.963511"]]
  â†³ app/channels/room_channel.rb:21
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:21
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>0}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>0} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:24:04 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered rooms/show.html.erb within layouts/application (33.9ms)
Completed 200 OK in 106ms (Views: 65.5ms | ActiveRecord: 2.6ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:24:05 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:24:05 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000\"}"}) [NameError - undefined local variable or method `url' for #<RoomChannel:0x007fea2924c2d0>
Did you mean?  URI]: /Users/ryuya/ShareBGM/app/channels/room_channel.rb:16:in `subscribed' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:179:in `block in subscribe_to_channel' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:25:20 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered rooms/show.html.erb within layouts/application (23.2ms)
Completed 200 OK in 110ms (Views: 72.2ms | ActiveRecord: 2.5ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:25:20 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:25:20 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:20
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:20
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:25:20.737980"], ["updated_at", "2021-05-18 16:25:20.737980"]]
  â†³ app/channels/room_channel.rb:20
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:20
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>0}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>0} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:25:35 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.2ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (32.7ms)
Completed 200 OK in 608ms (Views: 554.5ms | ActiveRecord: 2.6ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:25:36 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:25:36 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:20
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:20
  [1m[36mRoomMember Create (0.4ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:25:36.805989"], ["updated_at", "2021-05-18 16:25:36.805989"]]
  â†³ app/channels/room_channel.rb:20
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:20
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>0}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>0} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:25:44 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (14.7ms)
Completed 200 OK in 54ms (Views: 49.4ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:25:44 +0900
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:27
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:27
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 24]]
  â†³ app/channels/room_channel.rb:27
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:27
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:37
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>4}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>4} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:25:44 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:25:44 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:20
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:20
  [1m[36mRoomMember Create (0.4ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:25:44.919535"], ["updated_at", "2021-05-18 16:25:44.919535"]]
  â†³ app/channels/room_channel.rb:20
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:20
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>0}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>0} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:26:05 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (28.5ms)
Completed 200 OK in 111ms (Views: 67.5ms | ActiveRecord: 2.6ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:26:05 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:26:05 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:20
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:20
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:26:05.423083"], ["updated_at", "2021-05-18 16:26:05.423083"]]
  â†³ app/channels/room_channel.rb:20
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:20
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>5}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>5} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:27:43 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered rooms/show.html.erb within layouts/application (25.7ms)
Completed 200 OK in 462ms (Views: 416.9ms | ActiveRecord: 2.5ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:27:43 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:27:43 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:20
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:20
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:27:43.942007"], ["updated_at", "2021-05-18 16:27:43.942007"]]
  â†³ app/channels/room_channel.rb:20
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:20
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>0}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>0} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:28:51 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.2ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (25.0ms)
Completed 200 OK in 103ms (Views: 60.7ms | ActiveRecord: 2.6ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:28:51 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:28:51 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}"}) [NameError - undefined local variable or method `request' for #<RoomChannel:0x007ff52ea6da80>
Did you mean?  require]: /Users/ryuya/ShareBGM/app/channels/room_channel.rb:10:in `block (2 levels) in subscribed' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:10:in `map' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:10:in `block in subscribed' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:9:in `map' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:9:in `subscribed'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:33:41 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (24.1ms)
Completed 200 OK in 121ms (Views: 80.8ms | ActiveRecord: 2.5ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:33:41 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:33:41 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}"}) [NameError - uninitialized constant RoomChannel::SubscriberTracker]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/active_support.rb:53:in `block in load_missing_constant' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/active_support.rb:8:in `without_bootsnap_cache' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/active_support.rb:53:in `rescue in load_missing_constant' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/active_support.rb:43:in `load_missing_constant' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:6:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:34:40 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered rooms/show.html.erb within layouts/application (25.0ms)
Completed 200 OK in 119ms (Views: 68.2ms | ActiveRecord: 2.5ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:34:40 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:34:40 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}"}) [NameError - uninitialized constant RoomChannel::SubscriberTracker]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/active_support.rb:53:in `block in load_missing_constant' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/active_support.rb:8:in `without_bootsnap_cache' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/active_support.rb:53:in `rescue in load_missing_constant' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/active_support.rb:43:in `load_missing_constant' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:7:in `subscribed'
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:37:07 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (26.0ms)
Completed 200 OK in 114ms (Views: 71.8ms | ActiveRecord: 2.5ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:37:07 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:37:07 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}"}) [NameError - undefined local variable or method `config' for RoomChannel:Class
Did you mean?  concerning]: /Users/ryuya/ShareBGM/app/channels/room_channel.rb:2:in `<class:RoomChannel>' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:1:in `<main>' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:468:in `block in load_file'
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}", "data"=>"{\"action\":\"join\"}"}) [RuntimeError - Unable to find subscription with identifier: {"channel":"RoomChannel","id":1,"user_id":2,"url":"http://localhost:3000/rooms/"}]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:78:in `find' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:55:in `perform_action' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:19:in `execute_command' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:87:in `dispatch_websocket_message' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:38:54 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (24.7ms)
Completed 200 OK in 108ms (Views: 59.8ms | ActiveRecord: 3.0ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:38:54 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:38:54 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:38:54.292239"], ["updated_at", "2021-05-18 16:38:54.292239"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>8}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>8} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:39:09 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (27.2ms)
Completed 200 OK in 105ms (Views: 62.8ms | ActiveRecord: 2.4ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:39:09 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:39:09 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:39:09.313151"], ["updated_at", "2021-05-18 16:39:09.313151"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>9}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>9} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:39:10 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered rooms/show.html.erb within layouts/application (13.5ms)
Completed 200 OK in 56ms (Views: 51.7ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:39:10 +0900
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 25]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:19
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>8}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>8} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:39:10 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:39:10 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.4ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:39:10.550665"], ["updated_at", "2021-05-18 16:39:10.550665"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>9}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>9} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:39:11 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (14.3ms)
Completed 200 OK in 64ms (Views: 60.3ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:39:11 +0900
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 26]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:19
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>8}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>8} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:39:11 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:39:11 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.4ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:39:11.378186"], ["updated_at", "2021-05-18 16:39:11.378186"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>9}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>9} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:39:12 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (15.3ms)
Completed 200 OK in 57ms (Views: 53.0ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:39:12 +0900
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 27]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:19
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>8}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>8} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:39:12 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:39:12 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.4ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:39:12.236350"], ["updated_at", "2021-05-18 16:39:12.236350"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>9}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>9} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:39:30 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (24.5ms)
Completed 200 OK in 109ms (Views: 59.2ms | ActiveRecord: 2.4ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:39:30 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:39:30 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:39:30.419577"], ["updated_at", "2021-05-18 16:39:30.419577"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>10}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>10} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:39:35 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.2ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered rooms/show.html.erb within layouts/application (25.5ms)
Completed 200 OK in 120ms (Views: 63.9ms | ActiveRecord: 3.0ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:39:36 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:39:36 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:39:36.091408"], ["updated_at", "2021-05-18 16:39:36.091408"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>11}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>11} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:39:53 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (26.0ms)
Completed 200 OK in 120ms (Views: 68.9ms | ActiveRecord: 2.5ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:39:53 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:39:53 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:39:53.926269"], ["updated_at", "2021-05-18 16:39:53.926269"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>12}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>12} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:40:46 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered rooms/show.html.erb within layouts/application (26.9ms)
Completed 200 OK in 155ms (Views: 106.4ms | ActiveRecord: 2.7ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:40:46 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:40:46 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:9
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:40:47.012749"], ["updated_at", "2021-05-18 16:40:47.012749"]]
  â†³ app/channels/room_channel.rb:9
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:10
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>13}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>13} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:40:48 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (5.2ms)
  Rendered rooms/show.html.erb within layouts/application (20.3ms)
Completed 200 OK in 63ms (Views: 57.8ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:40:48 +0900
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:16
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:16
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 28]]
  â†³ app/channels/room_channel.rb:16
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:16
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:18
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>12}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>12} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:40:48 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:40:48 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:9
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:40:48.549858"], ["updated_at", "2021-05-18 16:40:48.549858"]]
  â†³ app/channels/room_channel.rb:9
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:10
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>13}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>13} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:44:14 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.8ms)
  Rendered rooms/show.html.erb within layouts/application (25.1ms)
Completed 200 OK in 116ms (Views: 63.9ms | ActiveRecord: 2.6ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:44:15 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:44:15 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:44:15.100214"], ["updated_at", "2021-05-18 16:44:15.100214"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>14}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>14} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:44:55 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered rooms/show.html.erb within layouts/application (26.4ms)
Completed 200 OK in 110ms (Views: 60.4ms | ActiveRecord: 2.4ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:44:55 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:44:55 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:44:55.821234"], ["updated_at", "2021-05-18 16:44:55.821234"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>15}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>15} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:45:02 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:45:02 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:45:02.503208"], ["updated_at", "2021-05-18 16:45:02.503208"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>16}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>16} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel transmitting {"memberNum"=>16} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:45:04 +0900
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 29]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[36mRoomMember Destroy (0.8ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:18
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:19
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>0}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>0} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel transmitting {"memberNum"=>0} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:47:22 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (27.3ms)
Completed 200 OK in 113ms (Views: 70.9ms | ActiveRecord: 2.5ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:47:22 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:47:22 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:47:22.731201"], ["updated_at", "2021-05-18 16:47:22.731201"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>1}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>1} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:47:23 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered rooms/show.html.erb within layouts/application (15.0ms)
Completed 200 OK in 62ms (Views: 57.5ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:47:23 +0900
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 45]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:17
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:47:24 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:47:24 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:47:24.711925"], ["updated_at", "2021-05-18 16:47:24.711925"]]
  â†³ app/channels/room_channel.rb:10
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:47:24 +0900
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
Processing by RoomsController#show as HTML
  â†³ app/channels/room_channel.rb:10
  Parameters: {"id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
RoomChannel#join
  â†³ app/channels/room_channel.rb:11
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:47:25 +0900
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>1}
Processing by RoomsController#show as HTML
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
  Parameters: {"id"=>"1"}
  â†³ app/controllers/rooms_controller.rb:107
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:47:27 +0900
RoomChannel transmitting {"memberNum"=>1} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel transmitting {"memberNum"=>1} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
There was an exception - NoMethodError(undefined method `each' for #<RoomChannel:0x007ff52f777d20>)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
Processing by RoomsController#show as HTML
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:18:in `unsubscribed'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  â†³ app/controllers/rooms_controller.rb:108
  Parameters: {"id"=>"1"}
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  â†³ app/controllers/rooms_controller.rb:107
  â†³ app/views/rooms/show.html.erb:16
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  â†³ app/controllers/rooms_controller.rb:108
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  Rendering rooms/show.html.erb within layouts/application
  â†³ app/views/rooms/show.html.erb:28
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  Rendering rooms/show.html.erb within layouts/application
  â†³ app/views/rooms/show.html.erb:16
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered rooms/show.html.erb within layouts/application (28.5ms)
  â†³ app/views/rooms/show.html.erb:16
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  Rendered collection of templates [0 times] (0.0ms)
  â†³ app/views/rooms/show.html.erb:28
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  â†³ app/views/rooms/show.html.erb:28
  Rendered rooms/show.html.erb within layouts/application (16.4ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered rooms/show.html.erb within layouts/application (22.0ms)
Completed 200 OK in 2482ms (Views: 102.8ms | ActiveRecord: 0.6ms)


Completed 200 OK in 117ms (Views: 89.9ms | ActiveRecord: 0.7ms)


Completed 200 OK in 116ms (Views: 88.7ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:47:28 +0900
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[36mRoomMember Destroy (0.4ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 46]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:17
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:47:28 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:47:28 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:47:29.967697"], ["updated_at", "2021-05-18 16:47:29.967697"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>1}
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>1} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel transmitting {"memberNum"=>1} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel transmitting {"memberNum"=>1} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
There was an exception - NoMethodError(undefined method `each' for #<RoomChannel:0x007ff52f29e420>)
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:18:in `unsubscribed'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:190:in `block in unsubscribe_from_channel'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:189:in `unsubscribe_from_channel'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:184:in `handle_close'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:40:in `work'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:52:36 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.2ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered rooms/show.html.erb within layouts/application (38.2ms)
Completed 200 OK in 190ms (Views: 138.8ms | ActiveRecord: 2.8ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:52:36 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:52:36 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:52:36.874526"], ["updated_at", "2021-05-18 16:52:36.874526"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>2}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>2} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:52:37 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (17.0ms)
Completed 200 OK in 90ms (Views: 85.1ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:52:37 +0900
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 47]]
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:23
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>1}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>1} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:52:37 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:52:37 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.5ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:52:37.838223"], ["updated_at", "2021-05-18 16:52:37.838223"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>2}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>2} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:52:48 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (24.8ms)
Completed 200 OK in 111ms (Views: 70.5ms | ActiveRecord: 2.4ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:52:49 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:52:49 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.4ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:52:49.117275"], ["updated_at", "2021-05-18 16:52:49.117275"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>3}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>3} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:53:02 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.2ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (24.5ms)
Completed 200 OK in 109ms (Views: 66.8ms | ActiveRecord: 2.5ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:53:03 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:53:03 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[36mRoomMember Load (0.1ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:8
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:8
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 48]]
  â†³ app/channels/room_channel.rb:8
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:8
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("rooms"."created_at") AS maximum_created_at, "rooms"."name" AS rooms_name FROM "rooms" GROUP BY "rooms"."name" HAVING (count(*) >= 2)[0m
  â†³ app/channels/room_channel.rb:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "rooms"."id" FROM "rooms" WHERE 1=0 AND 1=0[0m
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE 1=0 AND 1=1[0m
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:14
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:14
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:53:03.193205"], ["updated_at", "2021-05-18 16:53:03.193205"]]
  â†³ app/channels/room_channel.rb:14
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:14
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:15
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>3}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>3} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:53:04 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered rooms/show.html.erb within layouts/application (14.6ms)
Completed 200 OK in 53ms (Views: 48.4ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:53:04 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:24
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>3}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>3} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:53:04 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:53:04 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[36mRoomMember Load (0.1ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:8
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:8
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 49]]
  â†³ app/channels/room_channel.rb:8
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:8
  [1m[35m (0.2ms)[0m  [1m[34mSELECT MAX("rooms"."created_at") AS maximum_created_at, "rooms"."name" AS rooms_name FROM "rooms" GROUP BY "rooms"."name" HAVING (count(*) >= 2)[0m
  â†³ app/channels/room_channel.rb:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "rooms"."id" FROM "rooms" WHERE 1=0 AND 1=0[0m
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE 1=0 AND 1=1[0m
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:14
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:14
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:53:04.382508"], ["updated_at", "2021-05-18 16:53:04.382508"]]
  â†³ app/channels/room_channel.rb:14
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:14
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:15
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>3}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>3} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:53:14 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (26.9ms)
Completed 200 OK in 119ms (Views: 77.1ms | ActiveRecord: 2.6ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:53:14 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:53:14 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[36mRoomMember Load (0.1ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:8
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:8
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 50]]
  â†³ app/channels/room_channel.rb:8
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:8
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("rooms"."created_at") AS maximum_created_at, "rooms"."id" AS rooms_id FROM "rooms" GROUP BY "rooms"."id" HAVING (count(*) >= 2)[0m
  â†³ app/channels/room_channel.rb:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "rooms"."id" FROM "rooms" WHERE 1=0 AND 1=0[0m
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE 1=0 AND 1=1[0m
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:14
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:14
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:53:14.769940"], ["updated_at", "2021-05-18 16:53:14.769940"]]
  â†³ app/channels/room_channel.rb:14
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:14
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:15
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>3}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>3} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:53:31 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered rooms/show.html.erb within layouts/application (26.5ms)
Completed 200 OK in 125ms (Views: 81.0ms | ActiveRecord: 2.5ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:53:32 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:53:32 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[36mRoomMember Load (0.1ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" WHERE "room_members"."room_id" = ? AND "room_members"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:8
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:8
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 51]]
  â†³ app/channels/room_channel.rb:8
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:8
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("rooms"."created_at") AS maximum_created_at, "rooms"."id" AS rooms_id FROM "rooms" GROUP BY "rooms"."id" HAVING (count(*) >= 2)[0m
  â†³ app/channels/room_channel.rb:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "rooms"."id" FROM "rooms" WHERE 1=0 AND 1=0[0m
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE 1=0 AND 1=1[0m
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:14
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:14
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:53:32.102732"], ["updated_at", "2021-05-18 16:53:32.102732"]]
  â†³ app/channels/room_channel.rb:14
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:14
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:15
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>3}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>3} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
  [1m[36mRoom Load (1.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" LIMIT ?[0m  [["LIMIT", 11]]
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:56:30 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (26.4ms)
Completed 200 OK in 136ms (Views: 89.7ms | ActiveRecord: 2.7ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:56:30 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:56:30 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("rooms"."created_at") AS maximum_created_at, "user_id" AS user_id FROM "rooms" GROUP BY "user_id" HAVING (count(*) >= 2)[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "user_id" FROM "rooms" WHERE 1=0 AND 1=0[0m
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE 1=0 AND 1=1[0m
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:14
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:14
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:56:30.592456"], ["updated_at", "2021-05-18 16:56:30.592456"]]
  â†³ app/channels/room_channel.rb:14
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:14
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:15
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>4}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>4} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:56:31 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (13.9ms)
Completed 200 OK in 65ms (Views: 60.4ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:56:31 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:24
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>4}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>4} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:56:31 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:56:31 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("rooms"."created_at") AS maximum_created_at, "user_id" AS user_id FROM "rooms" GROUP BY "user_id" HAVING (count(*) >= 2)[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "user_id" FROM "rooms" WHERE 1=0 AND 1=0[0m
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE 1=0 AND 1=1[0m
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:14
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:14
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:56:31.819988"], ["updated_at", "2021-05-18 16:56:31.819988"]]
  â†³ app/channels/room_channel.rb:14
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:14
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:15
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>5}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>5} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:56:32 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (12.7ms)
Completed 200 OK in 52ms (Views: 48.2ms | ActiveRecord: 0.5ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:56:32 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:24
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>5}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>5} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:56:32 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:56:32 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("rooms"."created_at") AS maximum_created_at, "user_id" AS user_id FROM "rooms" GROUP BY "user_id" HAVING (count(*) >= 2)[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "user_id" FROM "rooms" WHERE 1=0 AND 1=0[0m
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE 1=0 AND 1=1[0m
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:14
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:14
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:56:32.750839"], ["updated_at", "2021-05-18 16:56:32.750839"]]
  â†³ app/channels/room_channel.rb:14
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:14
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:15
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>6}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>6} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:56:33 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered rooms/show.html.erb within layouts/application (13.1ms)
Completed 200 OK in 52ms (Views: 49.1ms | ActiveRecord: 0.5ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:56:33 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:24
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>6}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>6} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:56:33 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:56:33 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("rooms"."created_at") AS maximum_created_at, "user_id" AS user_id FROM "rooms" GROUP BY "user_id" HAVING (count(*) >= 2)[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "user_id" FROM "rooms" WHERE 1=0 AND 1=0[0m
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE 1=0 AND 1=1[0m
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:14
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:14
  [1m[36mRoomMember Create (0.4ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:56:33.432537"], ["updated_at", "2021-05-18 16:56:33.432537"]]
  â†³ app/channels/room_channel.rb:14
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:14
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:15
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>7}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>7} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:56:34 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (13.2ms)
Completed 200 OK in 53ms (Views: 49.0ms | ActiveRecord: 0.5ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:56:34 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:24
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>7}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>7} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:56:34 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:56:34 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("rooms"."created_at") AS maximum_created_at, "user_id" AS user_id FROM "rooms" GROUP BY "user_id" HAVING (count(*) >= 2)[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "user_id" FROM "rooms" WHERE 1=0 AND 1=0[0m
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE 1=0 AND 1=1[0m
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:14
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:14
  [1m[36mRoomMember Create (0.4ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:56:34.132681"], ["updated_at", "2021-05-18 16:56:34.132681"]]
  â†³ app/channels/room_channel.rb:14
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:14
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:15
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>8}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>8} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:57:29 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (35.7ms)
Completed 200 OK in 113ms (Views: 71.3ms | ActiveRecord: 2.5ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:57:30 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:57:30 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("rooms"."created_at") AS maximum_created_at, "user_id" AS user_id FROM "rooms" GROUP BY "user_id" HAVING (count(*) >= 2)[0m
  â†³ app/channels/room_channel.rb:9
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "rooms"."id" FROM "rooms" WHERE 1=0 AND 1=0[0m
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE 1=0 AND 1=1[0m
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:14
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:14
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:57:30.184969"], ["updated_at", "2021-05-18 16:57:30.184969"]]
  â†³ app/channels/room_channel.rb:14
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:14
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:15
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>9}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>9} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:57:30 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.2ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (1.0ms)
  Rendered rooms/show.html.erb within layouts/application (14.3ms)
Completed 200 OK in 53ms (Views: 49.6ms | ActiveRecord: 0.7ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:57:31 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:24
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>9}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>9} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:57:31 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:57:31 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("rooms"."created_at") AS maximum_created_at, "user_id" AS user_id FROM "rooms" GROUP BY "user_id" HAVING (count(*) >= 2)[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "rooms"."id" FROM "rooms" WHERE 1=0 AND 1=0[0m
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE 1=0 AND 1=1[0m
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:14
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:14
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:57:31.084635"], ["updated_at", "2021-05-18 16:57:31.084635"]]
  â†³ app/channels/room_channel.rb:14
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:14
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:15
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>10}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>10} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:57:32 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (13.1ms)
Completed 200 OK in 56ms (Views: 52.1ms | ActiveRecord: 0.5ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:57:32 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:24
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>10}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>10} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:57:32 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:57:32 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("rooms"."created_at") AS maximum_created_at, "user_id" AS user_id FROM "rooms" GROUP BY "user_id" HAVING (count(*) >= 2)[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "rooms"."id" FROM "rooms" WHERE 1=0 AND 1=0[0m
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE 1=0 AND 1=1[0m
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:14
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:14
  [1m[36mRoomMember Create (0.4ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:57:32.506796"], ["updated_at", "2021-05-18 16:57:32.506796"]]
  â†³ app/channels/room_channel.rb:14
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:14
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:15
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>11}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>11} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:57:33 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (14.2ms)
Completed 200 OK in 56ms (Views: 52.3ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:57:33 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:24
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>11}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>11} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:57:33 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:57:33 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("rooms"."created_at") AS maximum_created_at, "user_id" AS user_id FROM "rooms" GROUP BY "user_id" HAVING (count(*) >= 2)[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "rooms"."id" FROM "rooms" WHERE 1=0 AND 1=0[0m
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE 1=0 AND 1=1[0m
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:14
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:14
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:57:33.293466"], ["updated_at", "2021-05-18 16:57:33.293466"]]
  â†³ app/channels/room_channel.rb:14
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:14
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:15
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>12}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>12} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:57:58 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.3ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.9ms)
  Rendered rooms/show.html.erb within layouts/application (26.3ms)
Completed 200 OK in 118ms (Views: 63.6ms | ActiveRecord: 2.9ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:57:58 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:57:58 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:57:58.308984"], ["updated_at", "2021-05-18 16:57:58.308984"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("rooms"."created_at") AS maximum_created_at, "user_id" AS user_id FROM "rooms" GROUP BY "user_id" HAVING (count(*) >= 2)[0m
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "rooms"."id" FROM "rooms" WHERE 1=0 AND 1=0[0m
  â†³ app/channels/room_channel.rb:12
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE 1=0 AND 1=1[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:14
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>13}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>13} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:57:59 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (14.8ms)
Completed 200 OK in 55ms (Views: 51.3ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:57:59 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:23
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>13}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>13} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:57:59 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:57:59 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.5ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:57:59.164385"], ["updated_at", "2021-05-18 16:57:59.164385"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("rooms"."created_at") AS maximum_created_at, "user_id" AS user_id FROM "rooms" GROUP BY "user_id" HAVING (count(*) >= 2)[0m
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "rooms"."id" FROM "rooms" WHERE 1=0 AND 1=0[0m
  â†³ app/channels/room_channel.rb:12
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE 1=0 AND 1=1[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:14
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>14}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>14} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:58:32 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (24.6ms)
Completed 200 OK in 117ms (Views: 75.5ms | ActiveRecord: 2.5ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:58:32 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:58:32 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:58:32.832286"], ["updated_at", "2021-05-18 16:58:32.832286"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("rooms"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "rooms" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "rooms"."id" FROM "rooms" WHERE 1=0 AND 1=0[0m
  â†³ app/channels/room_channel.rb:12
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE 1=0 AND 1=1[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:14
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>15}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>15} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:58:33 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.9ms)
  Rendered rooms/show.html.erb within layouts/application (13.7ms)
Completed 200 OK in 53ms (Views: 49.2ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:58:33 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:23
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>15}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>15} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:58:33 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:58:33 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:58:33.625817"], ["updated_at", "2021-05-18 16:58:33.625817"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("rooms"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "rooms" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "rooms"."id" FROM "rooms" WHERE 1=0 AND 1=0[0m
  â†³ app/channels/room_channel.rb:12
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE 1=0 AND 1=1[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:14
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>16}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>16} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:58:41 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (24.8ms)
Completed 200 OK in 104ms (Views: 61.0ms | ActiveRecord: 2.5ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:58:41 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:58:41 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.4ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:58:41.582564"], ["updated_at", "2021-05-18 16:58:41.582564"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.2ms)[0m  [1m[34mSELECT MAX("rooms"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "rooms" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
  â†³ app/channels/room_channel.rb:11
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:12)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "rooms" WHERE 1=0 AND 1=0[0m
  â†³ app/channels/room_channel.rb:12
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE 1=0 AND 1=1[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:14
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>17}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>17} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:58:42 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered rooms/show.html.erb within layouts/application (24.1ms)
Completed 200 OK in 70ms (Views: 65.7ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:58:42 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:23
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>17}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>17} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:58:42 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:58:42 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.4ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:58:42.467389"], ["updated_at", "2021-05-18 16:58:42.467389"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.2ms)[0m  [1m[34mSELECT MAX("rooms"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "rooms" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
  â†³ app/channels/room_channel.rb:11
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:12)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "rooms" WHERE 1=0 AND 1=0[0m
  â†³ app/channels/room_channel.rb:12
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE 1=0 AND 1=1[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:14
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>18}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>18} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:58:43 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (14.9ms)
Completed 200 OK in 57ms (Views: 52.4ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:58:43 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:23
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>18}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>18} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:58:43 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:58:43 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.4ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:58:43.699565"], ["updated_at", "2021-05-18 16:58:43.699565"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("rooms"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "rooms" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
  â†³ app/channels/room_channel.rb:11
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:12)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "rooms" WHERE 1=0 AND 1=0[0m
  â†³ app/channels/room_channel.rb:12
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE 1=0 AND 1=1[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:14
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>19}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>19} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:59:36 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (25.0ms)
Completed 200 OK in 111ms (Views: 69.5ms | ActiveRecord: 2.5ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:59:36 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:59:36 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:59:36.333834"], ["updated_at", "2021-05-18 16:59:36.333834"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
  â†³ app/channels/room_channel.rb:11
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:12)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE "room_members"."user_id" = ? AND "room_members"."created_at" = ?[0m  [["user_id", 0], ["created_at", "2021-05-18 16:59:36.333834"]]
  â†³ app/channels/room_channel.rb:12
  [1m[36mRoomMember Load (0.9ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1[0m  [["name", "@user_id"]]
  â†³ app/channels/room_channel.rb:13
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}"}) [ActiveRecord::StatementInvalid - SQLite3::SQLException: no such column: room_members.name: SELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `initialize' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `new' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `prepare' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/connection_adapters/sqlite3_adapter.rb:216:in `block (2 levels) in exec_query' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:59:38 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (13.3ms)
Completed 200 OK in 51ms (Views: 47.2ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:59:39 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:23
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>20}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>20} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:59:39 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:59:39 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.4ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 16:59:39.091333"], ["updated_at", "2021-05-18 16:59:39.091333"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.2ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
  â†³ app/channels/room_channel.rb:11
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:12)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE "room_members"."user_id" = ? AND "room_members"."created_at" = ?[0m  [["user_id", 0], ["created_at", "2021-05-18 16:59:39.091333"]]
  â†³ app/channels/room_channel.rb:12
  [1m[36mRoomMember Load (0.3ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1[0m  [["name", "@user_id"]]
  â†³ app/channels/room_channel.rb:13
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}"}) [ActiveRecord::StatementInvalid - SQLite3::SQLException: no such column: room_members.name: SELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `initialize' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `new' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `prepare' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/connection_adapters/sqlite3_adapter.rb:216:in `block (2 levels) in exec_query' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 01:59:49 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (25.0ms)
Completed 200 OK in 114ms (Views: 69.8ms | ActiveRecord: 2.6ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 01:59:49 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 01:59:49 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
  â†³ app/channels/room_channel.rb:10
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:11)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE "room_members"."user_id" = ? AND "room_members"."created_at" = ?[0m  [["user_id", 0], ["created_at", "2021-05-18 16:59:39.091333"]]
  â†³ app/channels/room_channel.rb:11
  [1m[36mRoomMember Load (0.3ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1[0m  [["name", "@user_id"]]
  â†³ app/channels/room_channel.rb:12
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}"}) [ActiveRecord::StatementInvalid - SQLite3::SQLException: no such column: room_members.name: SELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `initialize' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `new' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `prepare' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/connection_adapters/sqlite3_adapter.rb:216:in `block (2 levels) in exec_query' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:00:04 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (1.4ms)
  Rendered rooms/show.html.erb within layouts/application (26.3ms)
Completed 200 OK in 99ms (Views: 59.7ms | ActiveRecord: 2.5ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:00:04 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:00:04 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
  â†³ app/channels/room_channel.rb:10
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:11)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE "room_members"."user_id" = ? AND "room_members"."created_at" = ?[0m  [["user_id", 0], ["created_at", "2021-05-18 16:59:39.091333"]]
  â†³ app/channels/room_channel.rb:11
  [1m[36mRoomMember Load (0.3ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1[0m  [["name", "@user_id"]]
  â†³ app/channels/room_channel.rb:12
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}"}) [ActiveRecord::StatementInvalid - SQLite3::SQLException: no such column: room_members.name: SELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `initialize' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `new' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `prepare' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/connection_adapters/sqlite3_adapter.rb:216:in `block (2 levels) in exec_query' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:00:05 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (13.0ms)
Completed 200 OK in 53ms (Views: 48.7ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:00:05 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:24
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>21}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>21} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:00:05 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:00:05 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:11)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE "room_members"."user_id" = ? AND "room_members"."created_at" = ?[0m  [["user_id", 0], ["created_at", "2021-05-18 16:59:39.091333"]]
  â†³ app/channels/room_channel.rb:11
  [1m[36mRoomMember Load (0.4ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1[0m  [["name", "@user_id"]]
  â†³ app/channels/room_channel.rb:12
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}"}) [ActiveRecord::StatementInvalid - SQLite3::SQLException: no such column: room_members.name: SELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `initialize' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `new' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `prepare' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/connection_adapters/sqlite3_adapter.rb:216:in `block (2 levels) in exec_query' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:00:18 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (25.1ms)
Completed 200 OK in 100ms (Views: 58.4ms | ActiveRecord: 2.7ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:00:19 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:00:19 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:11)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE "room_members"."user_id" = ? AND "room_members"."created_at" = ?[0m  [["user_id", 0], ["created_at", "2021-05-18 16:59:39.091333"]]
  â†³ app/channels/room_channel.rb:11
  [1m[36mRoomMember Load (0.3ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1[0m  [["name", "@user_id"]]
  â†³ app/channels/room_channel.rb:12
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}"}) [ActiveRecord::StatementInvalid - SQLite3::SQLException: no such column: room_members.name: SELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `initialize' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `new' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `prepare' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/connection_adapters/sqlite3_adapter.rb:216:in `block (2 levels) in exec_query' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:02:20 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (25.8ms)
Completed 200 OK in 114ms (Views: 73.9ms | ActiveRecord: 2.5ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:02:20 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:02:20 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:11)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE "room_members"."id" = ? AND "room_members"."created_at" = ?[0m  [["id", 0], ["created_at", "2021-05-18 16:59:39.091333"]]
  â†³ app/channels/room_channel.rb:11
  [1m[36mRoomMember Load (0.3ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1[0m  [["name", "@user_id"]]
  â†³ app/channels/room_channel.rb:12
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}"}) [ActiveRecord::StatementInvalid - SQLite3::SQLException: no such column: room_members.name: SELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `initialize' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `new' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `prepare' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/connection_adapters/sqlite3_adapter.rb:216:in `block (2 levels) in exec_query' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:02:20 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered rooms/show.html.erb within layouts/application (13.2ms)
Completed 200 OK in 54ms (Views: 49.9ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:02:20 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:25
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>21}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>21} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:02:20 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:02:20 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:11)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE "room_members"."id" = ? AND "room_members"."created_at" = ?[0m  [["id", 0], ["created_at", "2021-05-18 16:59:39.091333"]]
  â†³ app/channels/room_channel.rb:11
  [1m[36mRoomMember Load (8.9ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1[0m  [["name", "@user_id"]]
  â†³ app/channels/room_channel.rb:12
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}"}) [ActiveRecord::StatementInvalid - SQLite3::SQLException: no such column: room_members.name: SELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `initialize' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `new' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `prepare' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/connection_adapters/sqlite3_adapter.rb:216:in `block (2 levels) in exec_query' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:02:21 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (13.9ms)
Completed 200 OK in 57ms (Views: 53.2ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:02:21 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:25
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>21}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>21} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:02:21 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:02:21 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.2ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:11)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE "room_members"."id" = ? AND "room_members"."created_at" = ?[0m  [["id", 0], ["created_at", "2021-05-18 16:59:39.091333"]]
  â†³ app/channels/room_channel.rb:11
  [1m[36mRoomMember Load (0.4ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1[0m  [["name", "@user_id"]]
  â†³ app/channels/room_channel.rb:12
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}"}) [ActiveRecord::StatementInvalid - SQLite3::SQLException: no such column: room_members.name: SELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `initialize' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `new' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `prepare' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/connection_adapters/sqlite3_adapter.rb:216:in `block (2 levels) in exec_query' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:02:21 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (13.5ms)
Completed 200 OK in 71ms (Views: 67.4ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:02:22 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:25
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>21}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>21} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:02:22 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:02:22 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:11)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE "room_members"."id" = ? AND "room_members"."created_at" = ?[0m  [["id", 0], ["created_at", "2021-05-18 16:59:39.091333"]]
  â†³ app/channels/room_channel.rb:11
  [1m[36mRoomMember Load (0.6ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1[0m  [["name", "@user_id"]]
  â†³ app/channels/room_channel.rb:12
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}"}) [ActiveRecord::StatementInvalid - SQLite3::SQLException: no such column: room_members.name: SELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `initialize' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `new' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `prepare' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/connection_adapters/sqlite3_adapter.rb:216:in `block (2 levels) in exec_query' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:02:25 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (1.0ms)
  Rendered rooms/show.html.erb within layouts/application (31.3ms)
Completed 200 OK in 108ms (Views: 102.8ms | ActiveRecord: 0.5ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:02:25 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:25
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>21}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>21} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:02:26 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:02:26 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:11)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE "room_members"."id" = ? AND "room_members"."created_at" = ?[0m  [["id", 0], ["created_at", "2021-05-18 16:59:39.091333"]]
  â†³ app/channels/room_channel.rb:11
  [1m[36mRoomMember Load (0.3ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1[0m  [["name", "@user_id"]]
  â†³ app/channels/room_channel.rb:12
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}"}) [ActiveRecord::StatementInvalid - SQLite3::SQLException: no such column: room_members.name: SELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `initialize' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `new' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `prepare' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/connection_adapters/sqlite3_adapter.rb:216:in `block (2 levels) in exec_query' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:02:26 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.8ms)
  Rendered rooms/show.html.erb within layouts/application (16.4ms)
Completed 200 OK in 63ms (Views: 57.9ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:02:26 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:25
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>21}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>21} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:02:26 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:02:26 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:11)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE "room_members"."id" = ? AND "room_members"."created_at" = ?[0m  [["id", 0], ["created_at", "2021-05-18 16:59:39.091333"]]
  â†³ app/channels/room_channel.rb:11
  [1m[36mRoomMember Load (0.3ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1[0m  [["name", "@user_id"]]
  â†³ app/channels/room_channel.rb:12
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}"}) [ActiveRecord::StatementInvalid - SQLite3::SQLException: no such column: room_members.name: SELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `initialize' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `new' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `prepare' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/connection_adapters/sqlite3_adapter.rb:216:in `block (2 levels) in exec_query' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:02:27 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (13.1ms)
Completed 200 OK in 51ms (Views: 47.6ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:02:27 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:25
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>21}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>21} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:02:27 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:02:27 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:11)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE "room_members"."id" = ? AND "room_members"."created_at" = ?[0m  [["id", 0], ["created_at", "2021-05-18 16:59:39.091333"]]
  â†³ app/channels/room_channel.rb:11
  [1m[36mRoomMember Load (0.3ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1[0m  [["name", "@user_id"]]
  â†³ app/channels/room_channel.rb:12
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}"}) [ActiveRecord::StatementInvalid - SQLite3::SQLException: no such column: room_members.name: SELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `initialize' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `new' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `prepare' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/connection_adapters/sqlite3_adapter.rb:216:in `block (2 levels) in exec_query' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:02:29 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (12.6ms)
Completed 200 OK in 51ms (Views: 47.6ms | ActiveRecord: 0.5ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:02:29 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:25
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>21}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>21} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:02:29 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:02:29 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:11)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE "room_members"."id" = ? AND "room_members"."created_at" = ?[0m  [["id", 0], ["created_at", "2021-05-18 16:59:39.091333"]]
  â†³ app/channels/room_channel.rb:11
  [1m[36mRoomMember Load (0.3ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1[0m  [["name", "@user_id"]]
  â†³ app/channels/room_channel.rb:12
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}"}) [ActiveRecord::StatementInvalid - SQLite3::SQLException: no such column: room_members.name: SELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `initialize' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `new' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `prepare' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/connection_adapters/sqlite3_adapter.rb:216:in `block (2 levels) in exec_query' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:02:30 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (13.1ms)
Completed 200 OK in 54ms (Views: 49.4ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:02:30 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:25
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>21}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>21} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:02:30 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:02:30 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.2ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:11)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE "room_members"."id" = ? AND "room_members"."created_at" = ?[0m  [["id", 0], ["created_at", "2021-05-18 16:59:39.091333"]]
  â†³ app/channels/room_channel.rb:11
  [1m[36mRoomMember Load (0.6ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1[0m  [["name", "@user_id"]]
  â†³ app/channels/room_channel.rb:12
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}"}) [ActiveRecord::StatementInvalid - SQLite3::SQLException: no such column: room_members.name: SELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `initialize' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `new' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `prepare' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/connection_adapters/sqlite3_adapter.rb:216:in `block (2 levels) in exec_query' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:02:39 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered rooms/show.html.erb within layouts/application (34.4ms)
Completed 200 OK in 116ms (Views: 69.3ms | ActiveRecord: 2.7ms)


Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:02:39 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered rooms/show.html.erb within layouts/application (12.6ms)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:02:39 +0900
Completed 200 OK in 53ms (Views: 49.8ms | ActiveRecord: 0.5ms)


Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:02:39 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
WebSocket error occurred: Broken pipe
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:02:39 +0900
Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:02:39 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:02:39 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.7ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 17:02:39.430073"], ["updated_at", "2021-05-18 17:02:39.430073"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
  â†³ app/channels/room_channel.rb:12
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:13)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE "room_members"."id" = ? AND "room_members"."created_at" = ?[0m  [["id", 0], ["created_at", "2021-05-18 17:02:39.430073"]]
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Load (0.3ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1[0m  [["name", "@user_id"]]
  â†³ app/channels/room_channel.rb:14
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}"}) [ActiveRecord::StatementInvalid - SQLite3::SQLException: no such column: room_members.name: SELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `initialize' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `new' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `prepare' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/connection_adapters/sqlite3_adapter.rb:216:in `block (2 levels) in exec_query' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:02:39 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.2ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (18.8ms)
Completed 200 OK in 58ms (Views: 54.3ms | ActiveRecord: 0.7ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:02:39 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:25
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>22}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>22} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:02:39 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:02:39 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.4ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 17:02:39.672970"], ["updated_at", "2021-05-18 17:02:39.672970"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.2ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
  â†³ app/channels/room_channel.rb:12
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:13)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE "room_members"."id" = ? AND "room_members"."created_at" = ?[0m  [["id", 0], ["created_at", "2021-05-18 17:02:39.672970"]]
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Load (0.5ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1[0m  [["name", "@user_id"]]
  â†³ app/channels/room_channel.rb:14
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}"}) [ActiveRecord::StatementInvalid - SQLite3::SQLException: no such column: room_members.name: SELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `initialize' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `new' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `prepare' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/connection_adapters/sqlite3_adapter.rb:216:in `block (2 levels) in exec_query' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:02:40 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered rooms/show.html.erb within layouts/application (13.1ms)
Completed 200 OK in 52ms (Views: 48.6ms | ActiveRecord: 0.5ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:02:40 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:25
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>23}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>23} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:02:40 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:02:40 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.4ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 17:02:40.258980"], ["updated_at", "2021-05-18 17:02:40.258980"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
  â†³ app/channels/room_channel.rb:12
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:13)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE "room_members"."id" = ? AND "room_members"."created_at" = ?[0m  [["id", 0], ["created_at", "2021-05-18 17:02:40.258980"]]
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Load (0.3ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1[0m  [["name", "@user_id"]]
  â†³ app/channels/room_channel.rb:14
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}"}) [ActiveRecord::StatementInvalid - SQLite3::SQLException: no such column: room_members.name: SELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `initialize' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `new' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `prepare' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/connection_adapters/sqlite3_adapter.rb:216:in `block (2 levels) in exec_query' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:02:40 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (13.7ms)
Completed 200 OK in 63ms (Views: 59.0ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:02:40 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:25
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>24}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>24} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:02:40 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:02:40 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 17:02:40.467731"], ["updated_at", "2021-05-18 17:02:40.467731"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.2ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
  â†³ app/channels/room_channel.rb:12
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:13)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE "room_members"."id" = ? AND "room_members"."created_at" = ?[0m  [["id", 0], ["created_at", "2021-05-18 17:02:40.467731"]]
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Load (0.3ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1[0m  [["name", "@user_id"]]
  â†³ app/channels/room_channel.rb:14
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}"}) [ActiveRecord::StatementInvalid - SQLite3::SQLException: no such column: room_members.name: SELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `initialize' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `new' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `prepare' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/connection_adapters/sqlite3_adapter.rb:216:in `block (2 levels) in exec_query' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:02:47 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (25.3ms)
Completed 200 OK in 102ms (Views: 59.4ms | ActiveRecord: 2.5ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:02:47 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:02:47 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 17:02:47.714561"], ["updated_at", "2021-05-18 17:02:47.714561"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:11
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>26}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>26} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:03:57 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered rooms/show.html.erb within layouts/application (23.4ms)
Completed 200 OK in 108ms (Views: 60.3ms | ActiveRecord: 10.9ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:03:57 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:03:57 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 17:03:57.539794"], ["updated_at", "2021-05-18 17:03:57.539794"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
  â†³ app/channels/room_channel.rb:11
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:12)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE "room_members"."id" = ? AND "room_members"."created_at" = ?[0m  [["id", 0], ["created_at", "2021-05-18 17:03:57.539794"]]
  â†³ app/channels/room_channel.rb:12
  [1m[36mRoomMember Load (0.4ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1[0m  [["name", "@user_id"]]
  â†³ app/channels/room_channel.rb:13
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}"}) [ActiveRecord::StatementInvalid - SQLite3::SQLException: no such column: room_members.name: SELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `initialize' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `new' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `prepare' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/connection_adapters/sqlite3_adapter.rb:216:in `block (2 levels) in exec_query' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:04:02 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (24.9ms)
Completed 200 OK in 116ms (Views: 71.6ms | ActiveRecord: 2.6ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:04:02 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:04:02 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 17:04:02.943462"], ["updated_at", "2021-05-18 17:04:02.943462"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:15
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>28}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>28} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:04:23 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (24.5ms)
Completed 200 OK in 100ms (Views: 58.9ms | ActiveRecord: 2.5ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:04:23 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:04:23 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 17:04:23.519191"], ["updated_at", "2021-05-18 17:04:23.519191"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.2ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
  â†³ app/channels/room_channel.rb:11
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:12)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE "room_members"."id" = ? AND "room_members"."created_at" = ?[0m  [["id", 0], ["created_at", "2021-05-18 17:04:23.519191"]]
  â†³ app/channels/room_channel.rb:12
  [1m[36mRoomMember Load (0.3ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1[0m  [["name", "@user_id"]]
  â†³ app/channels/room_channel.rb:13
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}"}) [ActiveRecord::StatementInvalid - SQLite3::SQLException: no such column: room_members.name: SELECT "room_members".* FROM "room_members" WHERE "room_members"."name" = ? AND 1=1]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `initialize' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `new' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `prepare' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/connection_adapters/sqlite3_adapter.rb:216:in `block (2 levels) in exec_query' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:04:58 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (24.4ms)
Completed 200 OK in 104ms (Views: 59.2ms | ActiveRecord: 2.7ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:04:59 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:04:59 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 17:04:59.205665"], ["updated_at", "2021-05-18 17:04:59.205665"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2) LIMIT ?[0m  [["LIMIT", 11]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}"}) [NoMethodError - undefined method `keys' for #<RoomMember::ActiveRecord_Relation:0x007ff52f787ba8>]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/relation/delegation.rb:95:in `method_missing' | /Users/ryuya/ShareBGM/app/channels/room_channel.rb:12:in `subscribed' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:179:in `block in subscribe_to_channel' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap'
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:05:04 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered rooms/show.html.erb within layouts/application (24.8ms)
Completed 200 OK in 118ms (Views: 61.7ms | ActiveRecord: 2.5ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:05:04 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:05:04 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 17:05:04.488194"], ["updated_at", "2021-05-18 17:05:04.488194"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:15
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>31}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>31} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:05:44 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (31.7ms)
Completed 200 OK in 146ms (Views: 88.5ms | ActiveRecord: 2.6ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:05:44 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:05:44 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.4ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 17:05:44.866411"], ["updated_at", "2021-05-18 17:05:44.866411"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}"}) [NoMethodError - undefined method `id' for :@user:Symbol]: /Users/ryuya/ShareBGM/app/channels/room_channel.rb:11:in `subscribed' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:179:in `block in subscribe_to_channel' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:05:53 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered rooms/show.html.erb within layouts/application (44.2ms)
Completed 200 OK in 175ms (Views: 88.0ms | ActiveRecord: 3.4ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:05:54 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:05:54 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.4ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 17:05:54.030279"], ["updated_at", "2021-05-18 17:05:54.030279"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:15
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>33}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>33} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:06:05 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (30.3ms)
Completed 200 OK in 133ms (Views: 84.5ms | ActiveRecord: 3.0ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:06:05 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:06:05 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}"}) [SyntaxError - /Users/ryuya/ShareBGM/app/channels/room_channel.rb:12: syntax error, unexpected ':'
s = RoomMember.where(@user.id: hash.keys).pluck(:@user_id)
                              ^
/Users/ryuya/ShareBGM/app/channels/room_channel.rb:12: syntax error, unexpected ')', expecting keyword_end
ber.where(@user.id: hash.keys).pluck(:@user_id)
                              ^]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:100:in `load' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:468:in `block in load_file' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:653:in `new_constants_in' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/dependencies.rb:467:in `load_file'
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}", "data"=>"{\"action\":\"join\"}"}) [RuntimeError - Unable to find subscription with identifier: {"channel":"RoomChannel","id":1,"user_id":2,"url":"http://localhost:3000/rooms/"}]: /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:78:in `find' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:55:in `perform_action' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/subscriptions.rb:19:in `execute_command' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/connection/base.rb:87:in `dispatch_websocket_message' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/server/worker.rb:60:in `block in invoke'
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:06:27 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (26.1ms)
Completed 200 OK in 127ms (Views: 84.4ms | ActiveRecord: 2.4ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:06:27 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:06:27 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 17:06:27.673854"], ["updated_at", "2021-05-18 17:06:27.673854"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"id\":1,\"user_id\":2,\"url\":\"http://localhost:3000/rooms/\"}"}) [NoMethodError - undefined method `id' for :@user:Symbol]: /Users/ryuya/ShareBGM/app/channels/room_channel.rb:11:in `subscribed' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/channel/base.rb:179:in `block in subscribe_to_channel' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:83:in `wrap' | /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actioncable-5.2.0/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:06:34 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.7ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (25.8ms)
Completed 200 OK in 116ms (Views: 75.4ms | ActiveRecord: 3.2ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:06:35 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:06:35 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 17:06:35.225489"], ["updated_at", "2021-05-18 17:06:35.225489"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:15
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>35}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>35} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" GROUP BY 2 HAVING (count(*) >= 2) LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" GROUP BY 2 HAVING (count(*) >= 2) LIMIT ?[0m  [["LIMIT", 11]]
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:07:38 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered rooms/show.html.erb within layouts/application (25.9ms)
Completed 200 OK in 107ms (Views: 65.3ms | ActiveRecord: 2.6ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:07:38 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:07:38 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 17:07:38.729686"], ["updated_at", "2021-05-18 17:07:38.729686"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:15
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>36}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>36} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" GROUP BY 2 HAVING (count(*) >= 2) LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" GROUP BY 2 HAVING (count(*) >= 2) LIMIT ?[0m  [["LIMIT", 11]]
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:08:58 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered rooms/show.html.erb within layouts/application (39.7ms)
Completed 200 OK in 137ms (Views: 91.7ms | ActiveRecord: 2.5ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:08:58 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:08:58 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 17:08:58.483849"], ["updated_at", "2021-05-18 17:08:58.483849"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
  â†³ app/channels/room_channel.rb:11
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:12)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE "room_members"."id" = ? AND "room_members"."created_at" = ?[0m  [["id", 0], ["created_at", "2021-05-18 17:08:58.483849"]]
  â†³ app/channels/room_channel.rb:12
  [1m[36mRoomMember Load (0.1ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."id" IS NULL AND 1=1[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:15
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>37}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>37} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:09:21 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered rooms/show.html.erb within layouts/application (26.1ms)
Completed 200 OK in 117ms (Views: 74.3ms | ActiveRecord: 2.4ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:09:21 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:09:21 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 17:09:21.548427"], ["updated_at", "2021-05-18 17:09:21.548427"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
  â†³ app/channels/room_channel.rb:11
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:12)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE "room_members"."id" = ? AND "room_members"."created_at" = ?[0m  [["id", 0], ["created_at", "2021-05-18 17:09:21.548427"]]
  â†³ app/channels/room_channel.rb:12
  [1m[36mRoomMember Load (0.1ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."id" = ? AND 1=1[0m  [["id", 2]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:15
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>38}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>38} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:09:27 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (24.7ms)
Completed 200 OK in 102ms (Views: 60.7ms | ActiveRecord: 2.5ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:09:27 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:09:27 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 17:09:27.294077"], ["updated_at", "2021-05-18 17:09:27.294077"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
  â†³ app/channels/room_channel.rb:11
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:12)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE "room_members"."user_id" = ? AND "room_members"."created_at" = ?[0m  [["user_id", 0], ["created_at", "2021-05-18 17:09:27.294077"]]
  â†³ app/channels/room_channel.rb:12
  [1m[36mRoomMember Load (0.1ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."id" = ? AND 1=1[0m  [["id", 2]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:15
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>39}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>39} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:10:19 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (27.8ms)
Completed 200 OK in 125ms (Views: 82.2ms | ActiveRecord: 2.5ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:10:19 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:10:19 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 17:10:19.574531"], ["updated_at", "2021-05-18 17:10:19.574531"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
  â†³ app/channels/room_channel.rb:11
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:12)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE "room_members"."user_id" = ? AND "room_members"."created_at" = ?[0m  [["user_id", 0], ["created_at", "2021-05-18 17:10:19.574531"]]
  â†³ app/channels/room_channel.rb:12
  [1m[36mRoomMember Load (0.2ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."user_id" = ? AND 1=1[0m  [["user_id", 2]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 52]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 53]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 54]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 55]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 56]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 57]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 58]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 59]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 60]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 61]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 62]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 63]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 64]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 65]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 66]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 67]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 68]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 69]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 70]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 71]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 72]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 73]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 74]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 75]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.5ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 76]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 77]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 78]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 79]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 80]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 81]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 82]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 83]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 84]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 85]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 86]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 87]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.4ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 88]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 89]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 90]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 91]]
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:13
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:15
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>0}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>0} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:10:26 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (26.0ms)
Completed 200 OK in 123ms (Views: 61.0ms | ActiveRecord: 2.6ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:10:26 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:10:26 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 17:10:26.813398"], ["updated_at", "2021-05-18 17:10:26.813398"]]
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:15
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>1}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>1} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:10:38 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered rooms/show.html.erb within layouts/application (25.3ms)
Completed 200 OK in 107ms (Views: 65.5ms | ActiveRecord: 2.7ms)


Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:10:39 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:10:39 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:10)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE 1=0 AND 1=0[0m
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Load (0.1ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."user_id" = ? AND 1=1[0m  [["user_id", 2]]
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:11
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 92]]
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:12
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:12
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 17:10:39.066108"], ["updated_at", "2021-05-18 17:10:39.066108"]]
  â†³ app/channels/room_channel.rb:12
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:12
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:15
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>1}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>1} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:10:39 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered rooms/show.html.erb within layouts/application (15.0ms)
Completed 200 OK in 54ms (Views: 50.2ms | ActiveRecord: 0.5ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:10:40 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:24
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>1}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>1} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:10:40 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:10:40 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:10)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE 1=0 AND 1=0[0m
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Load (0.1ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."user_id" = ? AND 1=1[0m  [["user_id", 2]]
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:11
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 93]]
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:12
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:12
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 17:10:40.078647"], ["updated_at", "2021-05-18 17:10:40.078647"]]
  â†³ app/channels/room_channel.rb:12
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:12
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:15
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>1}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>1} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/rooms/1" for 127.0.0.1 at 2021-05-19 02:10:40 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ /Users/ryuya/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:107
  [1m[36mPlaylist Load (0.1ms)[0m  [1m[34mSELECT  "playlists".* FROM "playlists" WHERE "playlists"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:108
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mRoomChatLog Load (0.1ms)[0m  [1m[34mSELECT "room_chat_logs".* FROM "room_chat_logs" WHERE "room_chat_logs"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/show.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mMovieUrl Load (0.1ms)[0m  [1m[34mSELECT "movie_urls".* FROM "movie_urls" WHERE "movie_urls"."playlist_id" = ?[0m  [["playlist_id", 6]]
  â†³ app/views/rooms/show.html.erb:28
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered rooms/show.html.erb within layouts/application (14.2ms)
Completed 200 OK in 54ms (Views: 50.2ms | ActiveRecord: 0.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:10:40 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:24
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>1}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>1} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:10:41 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:10:41 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:10)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE 1=0 AND 1=0[0m
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Load (0.1ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."user_id" = ? AND 1=1[0m  [["user_id", 2]]
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:11
  [1m[36mRoomMember Destroy (0.3ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 94]]
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:12
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:12
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 17:10:41.033110"], ["updated_at", "2021-05-18 17:10:41.033110"]]
  â†³ app/channels/room_channel.rb:12
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:12
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:15
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>1}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>1} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
  [1m[36mRoomMember Load (0.1ms)[0m  [1m[34mSELECT  "room_members".* FROM "room_members" LIMIT ?[0m  [["LIMIT", 11]]
Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:12:11 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:12:11 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
  â†³ app/channels/room_channel.rb:9
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:10)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE 1=0 AND 1=0[0m
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Load (0.1ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."user_id" = ? AND 1=1[0m  [["user_id", 2]]
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:11
  [1m[36mRoomMember Destroy (0.6ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 95]]
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:12
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:12
  [1m[36mRoomMember Create (0.3ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 17:12:11.710635"], ["updated_at", "2021-05-18 17:12:11.710635"]]
  â†³ app/channels/room_channel.rb:12
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:12
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:14
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>1}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>1} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel#join
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:subscribed=>true}
RoomChannel transmitting {"subscribed"=>true} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Started GET "/cable" for 127.0.0.1 at 2021-05-19 02:12:13 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:12:13 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:5
  [1m[35m (0.1ms)[0m  [1m[34mSELECT MAX("room_members"."created_at") AS maximum_created_at, "@user_id" AS user_id FROM "room_members" GROUP BY "@user_id" HAVING (count(*) >= 2)[0m
RoomChannel is streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
  â†³ app/channels/room_channel.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): :@user_id. Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from subscribed at /Users/ryuya/ShareBGM/app/channels/room_channel.rb:10)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "@user_id" FROM "room_members" WHERE 1=0 AND 1=0[0m
  â†³ app/channels/room_channel.rb:10
  [1m[36mRoomMember Load (0.1ms)[0m  [1m[34mSELECT "room_members".* FROM "room_members" WHERE "room_members"."user_id" = ? AND 1=1[0m  [["user_id", 2]]
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:11
  [1m[36mRoomMember Destroy (0.2ms)[0m  [1m[31mDELETE FROM "room_members" WHERE "room_members"."id" = ?[0m  [["id", 96]]
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:11
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/room_channel.rb:12
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/room_channel.rb:12
  [1m[36mRoomMember Create (0.2ms)[0m  [1m[32mINSERT INTO "room_members" ("room_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["room_id", 1], ["user_id", 2], ["created_at", "2021-05-18 17:12:13.836240"], ["updated_at", "2021-05-18 17:12:13.836240"]]
  â†³ app/channels/room_channel.rb:12
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/room_channel.rb:12
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:14
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>1}
RoomChannel is transmitting the subscription confirmation
RoomChannel transmitting {"memberNum"=>1} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel transmitting {"memberNum"=>1} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-05-19 02:12:31 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "room_members" WHERE "room_members"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/channels/room_channel.rb:23
[ActionCable] Broadcasting to room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x: {:memberNum=>1}
RoomChannel stopped streaming from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x
RoomChannel transmitting {"memberNum"=>1} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
RoomChannel transmitting {"memberNum"=>1} (via streamed from room:Z2lkOi8vc2hhcmViZ20vUm9vbS8x)
